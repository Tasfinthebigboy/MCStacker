//Copyright 2024 Matt Godfrey, (http://mcstacker.net/) Please don't steal my code or I'll /summon tnt on your house.  
class CachedNBT{constructor(){this.clear(),this.lastfilterUse=0,this.collapsedItem={}}unsetItem(e){delete this.nbt[e],delete this.collapsedItem[e],delete this.dropChance[e]}clear(){this.nbt={},this.collapsedItem={},this.dropChance={}}updateFilterLastUsed(){this.lastfilterUse=(new Date).getTime()}getItemType(e){var e=this.nbt[e];return null!=e&&"{}"!=e&&null!=(e=new CMDParser("").parseCompound(extractSegment("{","}",e.indexOf("{"),e))).id?extractMinecraftID(e.id.val):-1}setNBT(e,t){this.lastfilterUse+2e3<(new Date).getTime()&&(0<t.length?0==t.indexOf(",Slot:")?this.nbt[e]="{"+t.substr(t.indexOf("b")+2)+"}":this.nbt[e]="{"+t.substr(1)+"}":this.nbt[e]="{}",this.collapsedItem[e]=this.nbt[e])}setBlockNBT(e,t){null!=t&&"{}"!=t&&""!=t&&this.lastfilterUse+2e3<(new Date).getTime()&&(this.nbt[e]=t)}copyCollapsedToNBT(e,t){this.nbt[e]=t}getCollapsedItem(e){return this.collapsedItem[e]}setCollapsedItem(e,t){this.collapsedItem[e]=t}getNBT(e){return this.nbt[e]}loadCachedItemNBT(e){var t=this.nbt[e];if(null!=t&&"{}"!=t)try{var a=new CMDParser("").parseCompound(extractSegment("{","}",t.indexOf("{"),t)),o=$("#"+e).val();if(null!=a.components)for(const n in a.components.val)loadComponentNBTIntoSlot(extractMinecraftID(n),o,e,{val:a.components.val[n].val});null!=a.count&&$("#"+e+"Count").val(a.count.val)}catch(e){}}loadCachedEntityNBT(e){var t="e"+e,t=this.nbt[t];if(null!=t&&"{}"!=t)try{var a=new CMDParser(""),o=a.parseCompound(extractSegment("{","}",t.indexOf("{"),t));a.loadSummonCommand(o,e)}catch(e){}}loadCachedBlockNBT(e){e=this.nbt[e];if(null!=e&&"{}"!=e&&""!=e)try{var t=new CMDParser(""),a=t.parseCompound(extractSegment("{","}",e.indexOf("{"),e));t.loadBlockDataCommand(a,$("#block").val())}catch(e){}}}class Settings{constructor(){this.readSettings(),$("#settings").draggable(),$("#settings").hide(),$("#closeSettingsBut").off("click").on("click",function(){$("#settings").hide()}),$("#removeSlash").off("change").on("change",function(){settings.removeSlash=$("#removeSlash").is(":checked"),settings.writeSettings(),generateCommand()}),$("#loadItemUI").off("change").on("change",function(){settings.loadItemUI=$("#loadItemUI").is(":checked"),settings.writeSettings()}),$("#namespace").off("keyup").on("keyup",function(){settings.namespace=$("#namespace").val(),settings.writeSettings(),generateCommand()}),$("#commandPrefix").off("keyup").on("keyup",function(){settings.commandPrefix=$("#commandPrefix").val(),settings.writeSettings(),generateCommand()}),$("#updateNamespace").off("change").on("change",function(){settings.updateNamespace=$("#updateNamespace").is(":checked"),settings.writeSettings()}),$("#updateCommandPrefix").off("change").on("change",function(){settings.updateCommandPrefix=$("#updateCommandPrefix").is(":checked"),settings.writeSettings()}),$("#warnOnClose").off("change").on("change",function(){settings.warnOnClose=$("#warnOnClose").is(":checked"),settings.writeSettings(),electronMode||(settings.warnOnClose?window.addEventListener("beforeunload",function(e){e.preventDefault(),e.returnValue="Have you saved your command?"}):window.removeEventListener("beforeunload",function(e){e.preventDefault(),e.returnValue="Have you saved your command?"}))}),$("#themeChooser").off("change").on("change",function(){settings.cssTheme=$("#themeChooser").val(),settings.writeSettings(),changeTheme(settings.cssTheme)}),$("#langChooser").off("change").on("change",function(){settings.lang=$("#langChooser").val(),settings.writeSettings(),loadItemsAndBlocks(settings.lang)}),$("#sortMode").off("change").on("change",function(){settings.sortMode=$("#sortMode").val(),settings.writeSettings(),loadItemsAndBlocks(settings.lang)})}readSettings(){localStorage.namespace?this.namespace=localStorage.namespace:this.namespace="",localStorage.commandPrefix?this.commandPrefix=localStorage.commandPrefix:this.commandPrefix="",localStorage.updateNamespace&&"true"==localStorage.updateNamespace?this.updateNamespace=!0:this.updateNamespace=!1,localStorage.updateCommandPrefix&&"true"==localStorage.updateCommandPrefix?this.updateCommandPrefix=!0:this.updateCommandPrefix=!1,localStorage.removeSlash&&"true"==localStorage.removeSlash?this.removeSlash=!0:this.removeSlash=!1,localStorage.loadItemUI&&"true"==localStorage.loadItemUI?this.loadItemUI=!0:this.loadItemUI=!1,localStorage.warnOnClose&&"true"==localStorage.warnOnClose?(this.warnOnClose=!0,"true"!=localStorage.warnOnClose||electronMode||window.addEventListener("beforeunload",function(e){e.preventDefault(),e.returnValue="Have you saved your command?"})):this.warnOnClose=!1,localStorage.cssTheme?this.cssTheme=localStorage.cssTheme:this.cssTheme="mcstacker-darker.css",new URLSearchParams(window.location.search).has("theme")||changeTheme(this.cssTheme),localStorage.lang?this.lang=localStorage.lang:this.lang="en",localStorage.sortMode?this.sortMode=localStorage.sortMode:this.sortMode="desc_length",$("#namespace").val(this.namespace),$("#commandPrefix").val(this.commandPrefix),$("#updateNamespace").attr("checked",this.updateNamespace),$("#updateCommandPrefix").attr("checked",this.updateCommandPrefix),$("#loadItemUI").attr("checked",this.loadItemUI),$("#removeSlash").attr("checked",this.removeSlash),$("#warnOnClose").attr("checked",this.warnOnClose),$("#themeChooser").val(this.cssTheme),$("#langChooser").val(this.lang),$("#sortMode").val(this.sortMode)}modifyNamespace(e){this.updateNamespace&&(this.namespace=e,$("#namespace").val(this.namespace),this.writeSettings())}modifyCommandPrefix(e){this.updateCommandPrefix&&(this.commandPrefix=e,$("#commandPrefix").val(this.commandPrefix),this.writeSettings())}writeSettings(){localStorage.loadItemUI=this.loadItemUI,localStorage.namespace=this.namespace,localStorage.commandPrefix=this.commandPrefix,localStorage.updateNamespace=this.updateNamespace,localStorage.updateCommandPrefix=this.updateCommandPrefix,localStorage.removeSlash=this.removeSlash,localStorage.warnOnClose=this.warnOnClose,localStorage.cssTheme=this.cssTheme,localStorage.lang=this.lang,localStorage.sortMode=this.sortMode}}function changeTheme(e){$("#cssTheme").attr("href")!=e&&$("#cssTheme").attr("href",e)}function showSettings(){desktopMode&&$("#settings").css({top:mouse.y+200,left:mouse.x}),$("#settings").show(),bringToFront("settings")}function occurrences(e,t,a){if(e+="",(t+="").length<=0)return e.length+1;for(var o=0,n=0,s=a?1:t.length;0<=(n=e.indexOf(t,n));)++o,n+=s;return o}class CMDParser{constructor(e){this.level=0,this.state="S",e=e.trim(),this.nbt=null,this.executeParts=[]}parseLootTableNBT(e,t,a){this.nbt=convert_contents_to_value(extractSegment("{","}",0,a)),this.root=this.parseCompound(this.nbt),loadItemNBTIntoSlot({tag:{type:"compound",val:this.root}},t,e,this)}parseTheCommand(t){this.preParts=t.split(/(?= )/g);for(var e,a=0;a<this.preParts.length;a++)for(1<this.preParts[a].length&&" "==this.preParts[a].charAt(0)&&(this.preParts[a]=this.preParts[a].substr(1));a+1<this.preParts.length&&(occurrences(this.preParts[a],"[",!1)!=occurrences(this.preParts[a],"]",!1)||occurrences(this.preParts[a],"{",!1)!=occurrences(this.preParts[a],"}",!1));)this.preParts[a]+=this.preParts[a+1],this.preParts.splice(a+1,1);if(-1!=this.preParts[0].indexOf(":")?(-1!=(p=this.preParts[0].split(":"))[0].indexOf("/")&&(p[0]=p[0].substr(1)),settings.modifyCommandPrefix(p[0]),this.preParts[0]=p[1]):settings.modifyCommandPrefix(""),-1!=this.preParts[0].indexOf("execute")&&-1==t.indexOf("execute if entity")){for(e="execute",this.preParts.splice(0,1);"run"!=this.preParts[0]&&0<this.preParts.length;)e+=" "+this.preParts[0],this.preParts.splice(0,1);this.preParts.splice(0,1)}for(a=0;a<this.preParts.length;a++)"{"==this.preParts[a].charAt(0)?this.nbt=extractSegment("{","}",0,this.preParts[a]):"["==this.preParts[a].charAt(0)?this.nbt=extractSegment("[","]",0,this.preParts[a]):"@"==this.preParts[a].charAt(0)?-1!=this.preParts[a].indexOf("nbt=")&&(this.nbt=extractSegment("{","}",this.preParts[a].indexOf("nbt=")+4,this.preParts[a])):-1!=this.preParts[a].indexOf("{")&&(this.nbt=extractSegment("{","}",this.preParts[a].indexOf("{"),this.preParts[a]));if(null!=this.nbt&&(this.nbt=convert_contents_to_value(this.nbt)),-1==this.preParts[0].indexOf("tellraw")&&-1==this.preParts[0].indexOf("title")&&(this.root=this.parseCompound(this.nbt)),$("#disableOutput").prop("checked",!0),-1!=this.preParts[0].indexOf("summon")){loadForm("summon");var o=extractMinecraftID113(this.preParts[1]);if(!$("#entity"+entityIndex+" option[value='"+o+"']").length)throw new MCSException(o+" is not a valid entity id");$("#entity"+entityIndex).val(o),$("#entity"+entityIndex).trigger("change"),$("#Summon").val(this.preParts[2]+" "+this.preParts[3]+" "+this.preParts[4]),this.loadSummonCommand(this.root,entityIndex)}else if(-1!=this.preParts[0].indexOf("execute")&&-1!=this.preParts[1].indexOf("if")&&-1!=this.preParts[2].indexOf("entity")){loadForm("execute if entity");var n=this.preParts[3];try{loadTargetSelectorsFromCommand113(n),this.loadSummonCommand(this.root,entityIndex)}catch(e){throw e}}else if(-1!=this.preParts[0].indexOf("kill")){loadForm("kill");n=this.preParts[1];try{loadTargetSelectorsFromCommand113(n),this.loadSummonCommand(this.root,entityIndex)}catch(e){throw e}}else if(-1!=this.preParts[0].indexOf("data")){if(-1!=this.preParts[2].indexOf("block")){loadForm("data merge block"),$("#commandForm").append("<div id='importBlockChooser'><br>To continue importing this command, please select the <br>type of block this <i>/data block merge</i> command was for.<br></div>"),$("#blockPane").hide(),$("#importBlockChooser").append("<br>Block Type For Import <select id='blockImport'></select>");var s,i=['<option value="-1">Choose Block</option>'];for(s in itemsAndBlocks)-1!=hasBlockData.indexOf(s)&&"i"!=itemsAndBlocks[s].c&&i.push('<option value="',s,'">',itemsAndBlocks[s].d,"</option>");const _=this;$("#blockImport").html(i.join("")),$("#blockImport").bind("change",function(){$("#blockPane").show(),$("#Block").val(_.preParts[3]+" "+_.preParts[4]+" "+_.preParts[5]),$("#block0").val($("#blockImport").val()),$("#block0").trigger("change"),_.loadBlockDataFromNBT($("#block0").val(),0),$("#importBlockChooser").hide(),generateCommand()})}else if(-1!=this.preParts[2].indexOf("entity")){loadForm("data merge entity");for(var n=this.preParts[3],l=4;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;try{loadTargetSelectorsFromCommand113(n)}catch(e){throw e}this.loadSummonCommand(this.root,entityIndex)}}else if(-1!=this.preParts[0].indexOf("give")){loadForm("give");for(var n=this.preParts[1],l=2;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;loadTargetSelectorsFromCommand113(n);var r={},c=extractMinecraftID113(this.preParts[l]),p=-1!=this.preParts[l].indexOf(c+"[")||-1!=this.preParts[l].indexOf("minecraft:"+c+"["),t=p?extractSegment("[","]",this.preParts[l].indexOf("["),this.preParts[l]):"";if(l++,isNaN(this.preParts[l])?r.count={type:"raw",val:1}:r.count={type:"raw",val:this.preParts[l]},r.tag={type:"compound",val:this.root},$("#GiveItem0").length){if(!$("#GiveItem0 option[value='"+c+"']").length)throw new MCSException(c+" is not a valid item id");$("#GiveItem0").val(c),$("#GiveItem0").trigger("change"),p?loadComponentNBTIntoSlotForGive(t.substring(1,t.length-1),c,"GiveItem0",this,r):loadItemNBTIntoSlot(r,c,"GiveItem0",this)}}else if(-1!=this.preParts[0].indexOf("effect")){loadForm("effect");l=2,n=this.preParts[l];for(l++;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;-1!=n.indexOf("@e")&&($("#entity0").val("entity"),$("#entity0").trigger("change")),loadTargetSelectorsFromCommandGeneric(n,"entity0");p=extractMinecraftID113(this.preParts[l]);$("#effect").val(p),this.preParts.length>++l&&("infinite"==this.preParts[l]?$("#seconds").val("infinite"):-1!=["saturation","instant_health","instant_damage"].indexOf(p)?$("#seconds").val(parseInt(this.preParts[l])/20):$("#seconds").val(this.preParts[l]),this.preParts.length>++l)&&($("#amplifier").val(this.preParts[l]),this.preParts.length>++l)&&$("#hideParticles").val(this.preParts[l])}else if(-1!=this.preParts[0].indexOf("ride"))loadForm("ride"),-1!=this.preParts[1].indexOf("@e")&&($("#entity0").val("entity"),$("#entity0").trigger("change")),loadTargetSelectorsFromCommandGeneric(this.preParts[1],"entity0"),$("#ridetype0").val(this.preParts[2]),"mount"==this.preParts[2]&&4<=this.preParts.length&&loadTargetSelectorsFromCommandGeneric(this.preParts[3],"ridetype0");else if(-1!=this.preParts[0].indexOf("damage"))loadForm("damage"),-1!=this.preParts[1].indexOf("@e")&&($("#entity0").val("entity"),$("#entity0").trigger("change")),loadTargetSelectorsFromCommandGeneric(this.preParts[1],"entity0"),$("#Amount0").val(this.preParts[2]),3<this.preParts.length&&($("#damageType0").val(extractMinecraftID(this.preParts[3])),4<this.preParts.length)&&("at"==this.preParts[4]?($("#target0").val("block"),$("#target0").trigger("change"),$("#location").val(this.preParts[5]+" "+this.preParts[6]+" "+this.preParts[7])):(-1!=this.preParts[5].indexOf("@e")?$("#target0").val("entity"):$("#target0").val("player"),$("#target0").trigger("change"),loadTargetSelectorsFromCommandGeneric(this.preParts[5],"target0"),6<this.preParts.length&&(-1!=this.preParts[7].indexOf("@e")?$("#facingtarget0").val("entity"):$("#facingtarget0").val("player"),$("#facingtarget0").trigger("change"),loadTargetSelectorsFromCommandGeneric(this.preParts[7],"facingtarget0"))));else if(-1!=this.preParts[0].indexOf("tp")||-1!=this.preParts[0].indexOf("teleport")){loadForm("teleport");try{-1!=this.preParts[1].indexOf("@e")&&($("#entity0").val("entity"),$("#entity0").trigger("change")),loadTargetSelectorsFromCommandGeneric(this.preParts[1],"entity0"),3<this.preParts.length?($("#target0").val("block"),$("#target0").trigger("change"),$("#Block").val(this.preParts[2]+" "+this.preParts[3]+" "+this.preParts[4]),5<this.preParts.length&&("facing"==this.preParts[5]?"entity"==this.preParts[6]?($("#facingType").val("facingEntity"),$("#facingType").trigger("change"),$("#facingtarget0").val("e"==this.preParts[7].charAt(1)?"entity":"player"),$("#facingtarget0").trigger("change"),loadTargetSelectorsFromCommandGeneric(this.preParts[7],"facingtarget0"),9==this.preParts.length&&$("#Anchor0").val(this.preParts[8])):($("#facingType").val("facingCoords"),$("#facingType").trigger("change"),$("#FacingCoords").val(this.preParts[6]+" "+this.preParts[7]+" "+this.preParts[8])):($("#facingType").val("rotation"),$("#facingType").trigger("change"),$("#Yaw0").val(this.preParts[5]),$("#Pitch0").val(this.preParts[6])))):($("#target0").val("e"==this.preParts[2].charAt(1)?"entity":"player"),$("#target0").trigger("change"),loadTargetSelectorsFromCommandGeneric(this.preParts[2],"target0"))}catch(e){throw e}}else if(-1!=this.preParts[0].indexOf("replaceitem")){if(loadForm("item"),"entity"==this.preParts[1]){-1!=this.preParts[2].indexOf("@e")?$("#replaceitem").val("entity"):$("#replaceitem").val("player"),$("#replaceitem").trigger("change");n=this.preParts[2];for(l=3;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;loadTargetSelectorsFromCommandGeneric(n,"replaceitem"),$("#Slot0").val(this.preParts[l]),l++}else $("#Block").val(this.preParts[2]+" "+this.preParts[3]+" "+this.preParts[4]),$("#Slot0").val(this.preParts[5].substr(this.preParts[5].lastIndexOf(".")+1)),l=6;r={},c=extractMinecraftID113(this.preParts[l]);if(r.Count={type:"raw",val:this.preParts[++l]},r.tag={type:"compound",val:this.root},!$("#GiveItem0 option[value='"+c+"']").length)throw new MCSException(c+" is not a valid item id");$("#GiveItem0").val(c),$("#GiveItem0").trigger("change"),loadItemNBTIntoSlot(r,c,"GiveItem0",this)}else if(-1!=this.preParts[0].indexOf("item")){loadForm("item");l=1;if("replace"==this.preParts[1]?($("#itemCmdMode").val("replace"),$("#itemCmdMode").trigger("replace")):"modify"==this.preParts[1]&&($("#itemCmdMode").val("modify"),$("#itemCmdMode").trigger("change")),"entity"==this.preParts[2]){-1!=this.preParts[3].indexOf("@e")?$("#replaceitem").val("entity"):$("#replaceitem").val("player"),$("#replaceitem").trigger("change");n=this.preParts[3];for(l=4;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;loadTargetSelectorsFromCommandGeneric(n,"replaceitem"),"horse.armor"==this.preParts[l]?$("#Slot0").val("armor.body"):$("#Slot0").val(this.preParts[l]),l++}else $("#Block").val(this.preParts[3]+" "+this.preParts[4]+" "+this.preParts[5]),$("#Slot0").val(this.preParts[6].substr(this.preParts[6].lastIndexOf(".")+1)),l=7;if("modify"==this.preParts[1])$("#ItemModifier0").val(this.preParts[l]);else if("with"==this.preParts[l]){var r={},c=extractMinecraftID113(this.preParts[++l]),t=-1!=this.preParts[l].indexOf(c+"[")||-1!=this.preParts[l].indexOf("minecraft:"+c+"["),p=t?extractSegment("[","]",this.preParts[l].indexOf("["),this.preParts[l]):"";if(l++,isNaN(this.preParts[l])?r.count={type:"raw",val:1}:r.count={type:"raw",val:this.preParts[l]},r.tag={type:"compound",val:this.root},$("#GiveItem0").length){if(!$("#GiveItem0 option[value='"+c+"']").length)throw new MCSException(c+" is not a valid item id");$("#GiveItem0").val(c),$("#GiveItem0").trigger("change"),t?loadComponentNBTIntoSlotForGive(p.substring(1,p.length-1),c,"GiveItem0",this,r):loadItemNBTIntoSlot(r,c,"GiveItem0",this)}}else if("from"==this.preParts[l])if($("#itemCmdMode").val("copy"),$("#itemCmdMode").trigger("change"),"entity"==this.preParts[++l]){-1!=this.preParts[++l].indexOf("@e")?$("#itemCopyType").val("entity"):$("#itemCopyType").val("player"),$("#itemCopyType").trigger("change");var d=this.preParts[l];for(l++;-1!=d.indexOf("[")&&-1==d.indexOf("]")&&l<this.preParts.length;)d+=" "+this.preParts[l],l++;loadTargetSelectorsFromCommandGeneric(d,"itemCopyType"),$("#SlotCopy0").val(this.preParts[l]),l++}else $("#BlockCopy").val(this.preParts[l+1]+" "+this.preParts[l+2]+" "+this.preParts[l+3]),l+=4,$("#SlotCopy0").val(this.preParts[l].substr(this.preParts[l].lastIndexOf(".")+1))}else if(-1!=this.preParts[0].indexOf("setblock")){loadForm("setblock"),$("#Block").val(this.preParts[1]+" "+this.preParts[2]+" "+this.preParts[3]);o=extractMinecraftID113(this.preParts[4]);if(!$("#block0 option[value='"+o+"']").length)throw new MCSException(o+" is not a block id");$("#block0").val(o),$("#block0").trigger("change"),this.parseBlockState113(this.preParts[4],"BS0"),0<$("#blockHandle option[value='"+this.preParts[5]+"']").length&&$("#blockHandle").val(this.preParts[5]),this.loadBlockDataFromNBT($("#block0").val(),0)}else if(-1!=this.preParts[0].indexOf("loot")){loadForm("loot");l=2;if("replace"==this.preParts[1]&&(this.preParts[1]=this.preParts[1]+" "+this.preParts[2],this.preParts.splice(2,1)),$("#targetType").val(this.preParts[1]),$("#targetType").trigger("change"),"spawn"==this.preParts[1]||"insert"==this.preParts[1]||"replace block"==this.preParts[1])$("#Loot").val(this.preParts[l]+" "+this.preParts[l+1]+" "+this.preParts[l+2]),l+=3;else if("give"==this.preParts[1]||"replace entity"==this.preParts[1]){for(n=this.preParts[l];-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;loadTargetSelectorsFromCommandGeneric(n,"entity0"),l++}if("replace entity"!=this.preParts[1]&&"replace block"!=this.preParts[1]||($("#slot").val(this.preParts[l]),l++),$("#sourceType").val(this.preParts[l]),$("#sourceType").trigger("change"),"loot"==this.preParts[l]||"fish"==this.preParts[l]){if(l++,$("#LootTable").val(this.preParts[l]),"fish"==this.preParts[l-1]){$("#Fishing").val(this.preParts[l+1]+" "+this.preParts[l+2]+" "+this.preParts[l+3]);r={},c=extractMinecraftID113(this.preParts[l+=4]);if(r.Count={type:"raw",val:1},r.tag={type:"compound",val:this.root},!$("#FishingTool0 option[value='"+c+"']").length)throw new MCSException(c+" is not a valid item id");$("#FishingTool0").val(c),$("#FishingTool0").trigger("change"),loadItemNBTIntoSlot(r,c,"FishingTool0",this)}}else if("mine"==this.preParts[l]){$("#Mining").val(this.preParts[l+1]+" "+this.preParts[l+2]+" "+this.preParts[l+3]);r={},c=extractMinecraftID113(this.preParts[l+=4]);if(r.Count={type:"raw",val:1},r.tag={type:"compound",val:this.root},!$("#MiningTool0 option[value='"+c+"']").length)throw new MCSException(c+" is not a valid item id");$("#MiningTool0").val(c),$("#MiningTool0").trigger("change"),loadItemNBTIntoSlot(r,c,"MiningTool0",this)}else if("kill"==this.preParts[l]){for(n=this.preParts[++l];-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;loadTargetSelectorsFromCommandGeneric(n,"kill0")}}else if(-1!=this.preParts[0].indexOf("bossbar"))if(loadForm("bossbar"),$("#action").val(this.preParts[1]),$("#ID0").val(this.preParts[2]),"set"==this.preParts[1]){if($("#action").trigger("change"),$("#set").val(this.preParts[3]),"name"==this.preParts[3])importTellrawJSON("bossbarPane",m=JSON.parse(this.nbt));else if("players"==this.preParts[3]){$("#set").trigger("change");for(n=this.preParts[4],l=5;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;loadTargetSelectorsFromCommand113(n)}}else"add"==this.preParts[1]&&importTellrawJSON("bossbarPane",m=JSON.parse(this.nbt));else if(-1!=this.preParts[0].indexOf("scoreboard"))loadForm("scoreboard"),$("#add_modify").val(this.preParts[2]),$("#add_modify").trigger("change"),$("#objective").val(this.preParts[3]),"add"==this.preParts[2]&&$("#Criteria0").val(this.preParts[4]),importTellrawJSON("scoreboardPane",m=JSON.parse(this.nbt));else if(-1!=this.preParts[0].indexOf("team"))loadForm("team"),$("#add_modify").val(this.preParts[1]),$("#add_modify").trigger("change"),$("#team").val(this.preParts[2]),"modify"==this.preParts[1]&&$("#Part0").val(this.preParts[3]),importTellrawJSON("teamPane",m=JSON.parse(this.nbt));else if(-1!=this.preParts[0].indexOf("tellraw")||-1!=this.preParts[0].indexOf("title")){for(var m,n=this.preParts[1],l=2;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;if(-1!=this.preParts[0].indexOf("tellraw")?loadForm("tellraw"):(loadForm("title"),$("#titleType").val(this.preParts[l])),loadTargetSelectorsFromCommand113(n),null==(m=JSON.parse(this.nbt))){let t=this.preParts[2];for(let e=3;e<this.preParts.length;e++)t+=" "+this.preParts[e];m=[JSON.parse(t)]}importTellrawJSON("tellrawPane",m)}else if(-1!=this.preParts[0].indexOf("particle")){loadForm("particle");var t=extractMinecraftID113(t=null!=this.nbt?this.preParts[1].substring(0,this.preParts[1].indexOf("{")):this.preParts[1]),l=($("#name").val(t),$("#name").trigger("change"),1),g=8;if(null!=this.nbt){let e;switch(t){case"dust":null!=this.root.color&&(e=floatToHex(this.root.color.val[0])+floatToHex(this.root.color.val[1])+floatToHex(this.root.color.val[2]),new jscolor.color(document.getElementById("mobSpell_color"),{}).fromString(e.toUpperCase())),null!=this.root.scale&&$("#dustSize").val(this.root.scale.val);break;case"dust_color_transition":null!=this.root.from_color&&(e=floatToHex(this.root.from_color.val[0])+floatToHex(this.root.from_color.val[1])+floatToHex(this.root.from_color.val[2]),new jscolor.color(document.getElementById("mobSpell_color"),{}).fromString(e.toUpperCase())),null!=this.root.to_color&&(e=floatToHex(this.root.to_color.val[0])+floatToHex(this.root.to_color.val[1])+floatToHex(this.root.to_color.val[2]),new jscolor.color(document.getElementById("mobSpell_color_to"),{}).fromString(e.toUpperCase())),null!=this.root.scale&&$("#dustSize").val(this.root.scale.val);break;case"entity_effect":null!=this.root.color&&(e=floatToHex(this.root.color.val[0])+floatToHex(this.root.color.val[1])+floatToHex(this.root.color.val[2]),new jscolor.color(document.getElementById("mobSpell_color"),{}).fromString(e.toUpperCase()),$("#alpha0").val(this.root.color.val[3]));break;case"block":case"block_marker":case"falling_dust":case"dust_pillar":if(null!=this.root.block_state){let e;if(e=null!=this.root.block_state.val.Name?extractMinecraftID113(this.root.block_state.val.Name.val):extractMinecraftID113(this.root.block_state.val),!$("#block0 option[value='"+e+"']").length)throw new MCSException(e+" is not a block id");if($("#block0").val(e),$("#block0").trigger("change"),null!=this.root.block_state.val.Properties)for(var h in this.root.block_state.val.Properties.val)$(`#${h}BS0`).val(this.root.block_state.val.Properties.val[h].val)}break;case"shriek":null!=this.root.delay&&$("#delay").val(this.root.delay.val);break;case"sculk_charge":null!=this.root.roll&&$("#roll").val(this.root.roll.val);break;case"vibration":if(null!=this.root.arrival_in_ticks&&$("#travelTime0").val(this.root.arrival_in_ticks.val),null!=this.root.destination&&null!=this.root.destination.val.pos){const o=null!=this.root.destination&&this.root.destination.val.pos.val;$("#ToCoords").val(`${o[0]} ${o[1]} `+o[2])}$("#FromCoords").val(this.preParts[++l]+" "+this.preParts[++l]+" "+this.preParts[++l]);break;case"item":null!=this.root.item&&$("#item0").val(extractMinecraftID((null!=this.root.item.val.id?this.root.item.val.id:this.root.item).val))}}else if("dust"==t||"dust_color_transition"==t||"entity_effect"==t){p=0==t.indexOf("dust")?floatToHex(this.preParts[2])+floatToHex(this.preParts[3])+floatToHex(this.preParts[4]):floatToHex(this.preParts[5])+floatToHex(this.preParts[6])+floatToHex(this.preParts[7]);new jscolor.color(document.getElementById("mobSpell_color"),{}).fromString(p.toUpperCase()),"entity_effect"==t?(l=1,g=8):(l=5,g=12,changeParticelXdYdZd($("#mobSpell_color_to").val()),$("#dustSize").val(this.preParts[5])),"dust_color_transition"==t&&(l=8,g=15,r=floatToHex(this.preParts[6])+floatToHex(this.preParts[7])+floatToHex(this.preParts[8]),new jscolor.color(document.getElementById("mobSpell_color_to"),{}).fromString(r.toUpperCase()))}else if("vibration"==t)$("#FromCoords").val(this.preParts[++l]+" "+this.preParts[++l]+" "+this.preParts[++l]),$("#ToCoords").val(this.preParts[++l]+" "+this.preParts[++l]+" "+this.preParts[++l]),$("#travelTime0").val(this.preParts[++l]),l=8,g=15;else if("item"==t)$("#item0").val(extractMinecraftID(this.preParts[2])),l=6,g=9;else if("block"==t||"block_marker"==t||"falling_dust"==t||"dust_pillar"==t){o=extractMinecraftID113(this.preParts[2]);if(!$("#block0 option[value='"+o+"']").length)throw new MCSException(o+" is not a block id");$("#block0").val(o),$("#block0").trigger("change"),this.parseBlockState113(this.preParts[2],"BS0"),l=2,g=9}else"shriek"==t?($("#delay").val(this.preParts[2]),l=2,g=9):"sculk_charge"==t?($("#roll").val(this.preParts[2]),l=2,g=9):l=1;if("vibration"!=t&&$("#Location").val(this.preParts[++l]+" "+this.preParts[++l]+" "+this.preParts[++l]),"entity_effect"==t?null!=this.nbt&&(l=7,$("#xd").val(this.preParts[++l]),$("#yd").val(this.preParts[++l]),$("#zd").val(this.preParts[++l])):($("#xd").val(this.preParts[++l]),$("#yd").val(this.preParts[++l]),$("#zd").val(this.preParts[++l])),$("#speed").val(this.preParts[g]),9<this.preParts.length&&($("#count").val(this.preParts[++g]),10<this.preParts.length&&"force"==this.preParts[++g]&&$("#mode").val("force"),this.preParts.length-1>g)){for(n=this.preParts[++g];-1!=n.indexOf("[")&&-1==n.indexOf("]")&&g<this.preParts.length;)n+=" "+this.preParts[g],g++;showHide("TSPane","TSPaneSH"),loadTargetSelectorsFromCommand113(n)}}else if(-1!=this.preParts[0].indexOf("playsound")){loadForm("playsound"),$("#sound").val(this.preParts[1]),$("#source").val(this.preParts[2]);for(n=this.preParts[3],l=4;-1!=n.indexOf("[")&&-1==n.indexOf("]")&&l<this.preParts.length;)n+=" "+this.preParts[l],l++;loadTargetSelectorsFromCommand113(n);try{$("#Position").val(this.preParts[l]+" "+this.preParts[l+1]+" "+this.preParts[l+2]),$("#volume").val(this.preParts[l+3]),$("#pitch").val(this.preParts[l+4]),$("#minvolume").val(this.preParts[l+5])}catch(e){}}else{if(-1==this.preParts[0].indexOf("fill"))throw new MCSException("MCStacker can't import '"+this.preParts[0]+"' commands .");loadForm("fill"),$("#Corner").val(this.preParts[1]+" "+this.preParts[2]+" "+this.preParts[3]),$("#Opposite").val(this.preParts[4]+" "+this.preParts[5]+" "+this.preParts[6]);o=extractMinecraftID113(this.preParts[7]);if(!$("#block0 option[value='"+o+"']").length)throw new MCSException(o+" is not a block id");if($("#block0").val(o),$("#block0").trigger("change"),this.parseBlockState113(this.preParts[7],"BS0"),this.nbt=extractSegment("{","}",this.preParts[7].indexOf("{"),this.preParts[7]),this.root=this.parseCompound(this.nbt),this.loadBlockDataFromNBT($("#block0").val(),0),0<$("#blockHandle option[value='"+this.preParts[8]+"']").length&&($("#blockHandle").val(this.preParts[8]),"destroy"==this.preParts[8])&&$("#blockHandle").trigger("change"),9<this.preParts.length){if(o=extractMinecraftID113(this.preParts[9]),!$("#block1 option[value='"+o+"']").length)throw new MCSException(o+" is not a valid block id.");$("#block1").val(o),$("#block1").trigger("change"),this.parseBlockState113(this.preParts[9],"BS1"),this.nbt=extractSegment("{","}",this.preParts[9].indexOf("{"),this.preParts[9]),this.root=this.parseCompound(this.nbt),this.loadBlockDataFromNBT($("#block1").val(),1)}}null!=e&&(createExecuteForm(),$("#exeString").val(e+" run")),$("#disableOutput").prop("checked",!1),generateCommand()}parseBlockState113(e,t){for(var a="",o=0;o<e.length;o++){if("{"==e.charAt(o))return;if("["==e.charAt(o)){a=(a=e.substr(o+1)).substr(0,a.indexOf("]"));break}}if(a.length)for(var n=a.split(","),o=0;o<n.length;o++){var s=n[o].split("=");$("#"+s[0]+t).val(s[1])}}loadBlockDataFromNBT(e,t=0,a=this.root){var o;if(-1!=e.indexOf("_banner"))null!=a.Patterns&&(o=compoundToNBTString(a),$("#BlockEntityTag"+t).val("Patterns:"+extractSegment("[","]",o.indexOf("Patterns")+9,o))),this.loadBlockDataCommand(a,e,t);else if("player_head"==e||"player_wall_head"==e){if(null!=a.SkullOwner){let e=a.SkullOwner.val;null!=e.Properties&&-1!=(e="SkullOwner:"+compoundToNBTString(e)).indexOf("Id:[")&&-1==e.indexOf("Id:[I;")&&(e=replaceAll("Id:[","Id:[I;",e)),$("#SkullOwner"+t).val(e)}if(null!=a.profile){let e=a.profile.val;null!=e.properties&&-1!=(e="profile="+compoundToNBTString(e)).indexOf("id:[")&&-1==e.indexOf("id:[I;")&&(e=replaceAll("id:[","id:[I;",e)),$("#SkullOwner"+t).val(e)}null!=a.note_block_sound&&$("#blockSpec"+t+"sound").val(extractMinecraftID(a.note_block_sound.val))}else if("campfire"==e||"soul_campfire"==e){if(this.loadBlockDataCommand(a,e,t),null!=a.CookingTimes)for(var n=0;n<4&&n<a.CookingTimes.val.length;n++)$("#"+n+"CookingTime"+t).val(a.CookingTimes.val[n].trim());if(null!=a.CookingTotalTimes)for(n=0;n<4&&n<a.CookingTotalTimes.val.length;n++)$("#"+n+"CookingTotalTime"+t).val(a.CookingTotalTimes.val[n].trim())}else"furnace"==e||"blast_furnace"==e||"smoker"==e?(null!=a.RecipesUsed&&loadRecipedUsedFromNBT("RecipesUsed"+t,a.RecipesUsed.val),this.loadBlockDataCommand(a,e,t)):"decorated_pot"==e?(null!=a.sherds&&loadPotterySherds("Sherd",t,a.sherds.val),null!=a.item&&(showHide("item"+t+"Pane","item"+t+"SH"),setupItemSlotForNBT("item"+t,a.item.val,this)),null!=a.LootTable&&$("#LootTable"+t).val(a.LootTable.val)):"suspicious_sand"==e||"suspicious_gravel"==e?(null!=a.item&&(showHide("item"+t+"Pane","item"+t+"SH"),setupItemSlotForNBT("item"+t,a.item.val,this)),null!=a.LootTable&&$("#LootTable"+t).val(a.LootTable.val)):"jukebox"==e?null!=a.RecordItem&&(showHide("RecordItem"+t+"Pane","RecordItem"+t+"SH"),setupItemSlotForNBT("RecordItem"+t,a.RecordItem.val,this)):"end_gateway"==e?(loadEndGateWayNBT(this,a,t),this.loadBlockDataCommand(a,e,t)):"lectern"==e?(null!=a.Book&&(showHide("Book"+t+"Pane","Book"+t+"SH"),setupItemSlotForNBT("Book"+t,a.Book.val,this)),null!=a.Page&&$("#Page"+t).val(a.Page.val)):"vault"==e?loadVaultFromNBT(this,a,"blockSpec"+t):"crafter"==e?loadCrafterFromNBT(this,a,"blockSpec"+t):"trial_spawner"==e?loadTrialSpawnerFromNBT(this,a,"blockSpec"+t):"spawner"==e?loadMonsterSpawnerFromNBT(this,a,"blockSpec"+t):"beehive"==e||"bee_nest"==e?loadBeeHiveNestFromNBT(this,a,t):"sculk_catalyst"==e?loadSculkCatalystFromNBT(this,a,t):(-1!=e.indexOf("sign")&&loadSignFromNBT("blockSpec"+t+"SignPane",a),this.loadBlockDataCommand(a,e,t))}loadPosition(e,t,a){a&&1<t.length?$("#"+e).val(t.substr(1)):a||$("#"+e).val(t)}padding(){return"<span style='padding-left:"+50*this.level+"px'></span>"}loadBlockDataCommand(e,t,a=0){for(var o in e){var n=e[o];"compound"==n.type?this.loadBlockDataCommand(n.val,t,a):blocks[a].loadValue(this,o,n.val,a)}}loadSummonCommand(e,t){for(var a in e){var o=e[a];if("raw"==o.type||"string"==o.type)entityDescriptors["e"+t].loadValue(this,a,o.val,t);else if("compound"==o.type)if("item"==a.toLocaleLowerCase())"potion"==entityDescriptors["e"+t].entityType?entityDescriptors["e"+t].loadPotionNBT(o.val):(setupItemSlotForNBT(a+t,o.val,this),show(a+t+"Pane",a+t+"SH"));else if("Trident"==a||"trident"==entityDescriptors["e"+t].entityType&&"item"==a)showHide("Trident"+t+"Pane","Trident"+t+"SH"),setupItemSlotForNBT("Trident"+t,o.val,this);else if("Particle"==a)entityDescriptors["e"+t].loadNewParticleFormat(o.val);else if("SelectedItem"==a)setupItemSlotForNBT("SelectedItem"+t,o.val,this);else if("item"==a)showHide("Item"+t+"Pane","Item"+t+"SH"),setupItemSlotForNBT("Item"+t,o.val,this);else if("Pose"==a)entityDescriptors["e"+t].loadPoseNBT(o.val);else if("Offers"==a)entityDescriptors["e"+t].loadVillagerTradesNBT(o.val,this);else if("VillagerData"==a)loadVillagerData(o.val,t);else if("leash"==a)entityDescriptors["e"+t].load_leash_NBT(o.val);else if("Leash"==a)entityDescriptors["e"+t].loadLeashNBT(o.val);else if("SaddleItem"==a)entityDescriptors["e"+t].loadSaddleItemNBT(o.val);else if("body_armor_item"==a||"ArmorItem"==a||"DecorItem"==a)entityDescriptors["e"+t].loadValue(this,"body_armor_item",o.val,t);else if("potion_contents"==a)null!=o.val.custom_effects&&loadCustomEffectsNBT("Effects"+t,o.val.custom_effects.val),null!=o.val.potion&&$("#Potion"+t).val(extractMinecraftID(o.val.potion.val)),null!=o.val.custom_color&&loadColorIntNBT("Color"+t,o.val.custom_color.val);else if("Potion"==a)entityDescriptors["e"+t].loadPotionNBT(o.val);else if("BeamTarget"==a)entityDescriptors["e"+t].loadBeamTargetNBT(o.val);else if("data"==a)entityDescriptors["e"+t].loadMarkerData(o.val);else if("transformation"==a)entityDescriptors["e"+t].loadTransformationData(o.val);else if("attack"==a||"interaction"==a)entityDescriptors["e"+t].loadInteractionPart(a,o.val);else if("brightness"==a)entityDescriptors["e"+t].loadBrightnessData(o.val);else if("PatrolTarget"==a)entityDescriptors["e"+t].loadPatrolTargetNBT(o.val);else if("WanderTarget"==a)entityDescriptors["e"+t].loadWanderTargetNBT(o.val);else if("FlowerPos"==a||"HivePos"==a)entityDescriptors["e"+t].loadFlowerOrHivePos(o.val,a);else if("Owner"==a||"owner"==a)entityDescriptors["e"+t].loadOwnerNBT(o.val);else if("Target"==a)entityDescriptors["e"+t].loadTargetNBT(o.val);else if("Brain"==a)"allay"==entityDescriptors["e"+t].entityType?entityDescriptors["e"+t].loadLikedPlayer(o.val):"warden"==entityDescriptors["e"+t].entityType?entityDescriptors["e"+t].loadWardenDigCooldown(o.val):loadMemories(o.val,t);else if("FireworksItem"==a)if(null!=o.val.components)try{for(var n=o.val.components.val["minecraft:fireworks"].val.explosions.val,s=0;s<n.length;s++)addExplosion("Explosion"+t+"Pane"),loadComponentFireworkExplosion("Explosion"+t+"Pane_exp_"+s,n[s])}catch(e){}else null!=o.val.tag&&null!=o.val.tag.val.Fireworks&&loadFireworksItemNBT("Explosion"+t+"Pane",o.val.tag.val.Fireworks.val);else"BlockState"==a||"block_state"==a||"inBlockState"==a||"carriedBlockState"==a||"DisplayState"==a?entityDescriptors["e"+t].loadBlockStateFallingBlock(o.val):"TileEntityData"==a?entityDescriptors["e"+t].loadFallingBlockEntityData(o.val,this):"Properties"==a?entityDescriptors["e"+t].loadFallingBlockBSProperties(o.val):"abilities"==a?entityDescriptors["e"+t].loadAbilities(this,o.val):"SpawnData"==a?loadSpawnPotentialFromNBT(this,"spawnerMinecart"+t,[o.val],"spawn_data"):this.loadSummonCommand(o.val,t);else if("arrayOfVals"==o.type||"arrayOfStrings"==o.type)entityDescriptors["e"+t].loadValue(this,a,o.val,t);else if("arrayOfArrays"==o.type){if("Trusted"==a)for(let e=0;e<o.val.length;e++)addFoxTrusts("Trusts",t),loadUUIDArrayNBT("Trusts"+t+"_"+e,o.val[e])}else"arrayOfCompounds"==o.type&&("Gossips"==a?loadGossips(o.val,t):"Inventory"==a||"EnderItems"==a?"player"==entityDescriptors["e"+t].entityType?entityDescriptors["e"+t].loadPlayerInventory(this,o.val,t):"piglin"==entityDescriptors["e"+t].entityType?entityDescriptors["e"+t].loadPiglinInventory(this,o.val,t):loadInventory(o.val,t,this):"suspects"==a?entityDescriptors["e"+t].loadSuspects(o.val):"SpawnPotentials"==a?loadSpawnPotentialFromNBT(this,`spawnerMinecart${t}_spawn_potentials`,o.val,"spawn_potential"):entityDescriptors["e"+t].loadValue(this,a,o.val,t))}}traverseObjectToNBT(e,t){for(var a in e){t+=",";var o=e[a];if(-1!=a.indexOf("minecraft:")&&(a=`"${a}"`),"raw"==o.type)t+=a+":"+o.val;else if("string"==o.type)-1==o.val.indexOf('"')?t+=a+':"'+o.val+'"':t+=a+":'"+o.val+"'";else if("compound"==o.type)t+=a+":{"+this.traverseObjectToNBT(o.val,"")+"}";else if("arrayOfStrings"==o.type){t+=a+":[";let e="";for(var n=0;n<o.val.length;n++)e+=',"'+o.val[n]+'"';t+=e.substr(1)+"]"}else if("arrayOfVals"==o.type){this.isArrayOfInts(o.val)?t+=a+":[I;":t+=a+":[";let e="";for(n=0;n<o.val.length;n++)e+=","+o.val[n];t+=e.substr(1)+"]"}else if("arrayOfCompounds"==o.type){let e="";for(n=0;n<o.val.length;n++)e+=",{"+this.traverseObjectToNBT(o.val[n],"")+"}";t+=a+":["+e.substr(1)+"]"}else if("arrayOfArrays"==o.type){let e="";for(n=0;n<o.val.length;n++)e+=",[I;"+o.val[n]+"]";t+=a+":["+e.substr(1)+"]"}}return t.substr(1)}isArrayOfInts(t){for(let e=0;e<t.length;e++)if(!Number.isInteger(parseInt(t[e],10)))return!1;return!0}traverseObject(e,t){for(var a in this.level++,$("#"+t).append("{"),e){var o=e[a];if("raw"==o.type)$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>:<span class='nbtVal'>"+o.val+"</span>");else if("string"==o.type)$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>:<span class='nbtVal'>"+o.val+"</span>");else if("compound"==o.type)$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>"),this.traverseObject(o.val,t);else if("arrayOfVals"==o.type||"arrayOfStrings"==o.type){$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>:["),this.level++;for(var n=0;n<o.val.length;n++)$("#"+t).append("<br>"+this.padding()+"<span class='nbtVal'>"+o.val[n]+"</span>");this.level--,$("#"+t).append("<br>"+this.padding()+"]")}else if("arrayOfCompounds"==o.type){$("#"+t).append("<br>"+this.padding()+"<span class='nbtKey'>"+a+"</span>:["),this.level++;for(n=0;n<o.val.length;n++)this.traverseObject(o.val[n],t);this.level--,$("#"+t).append("<br>"+this.padding()+"]")}}this.level--,$("#"+t).append("<br>"+this.padding()+"}")}parseCompoundStringToJSObject(e){var t,a=0,o={};if(null==e)return{};do{if(a++,a=this.skipSpaces(a,e),'"'==e.charAt(a)?(a++,m=this.getStringToNextSymbol('"',e,a),a++):m=this.getStringToNextSymbol(":}",e,a),a+=m.length,m.length){var n,s=m.trim();if(a++,a=this.skipSpaces(a,e),"{"==e.charAt(a))a+=(n=extractSegment("{","}",a,e)).length,t=this.parseCompoundStringToJSObject(n),this.getStringToNextSymbol(",",e,a),o[s]=t;else if("["==e.charAt(a))if(t=[],a+=(m=replaceAll("}, {","},{",m=extractSegment("[","]",a,e))).length,"{"==m.charAt(1)){for(var i,l=1;l+=(i=extractSegment("{","}",l,m)).length,t.push(this.parseCompoundStringToJSObject(i)),","==m.charAt(l)&&l++,"{"==m.charAt(l););o[s]=t}else if('"'==m.charAt(1)){for(var l=1,r=[];"]"!=m.charAt(l);)","==m.charAt(l)&&l++,l+=(t=this.getStringToNextSymbolInsideString(",}",m,l)).length,""!=t.substr(1,t.length-2)&&r.push(t.substr(1,t.length-2));o[s]=r}else if("'"==m.charAt(1)){n=(n=replaceAll("', '","','",n=extractSegment("[","]",l=1,m))).split("','");for(var c=0;c<n.length;c++)0==c&&(n[c]=n[c].substr(1)),c==n.length-1&&(n[c]=n[c].slice(0,-2)),n[c]=n[c].replace(/\\'/g,"'").replace(/"/g,'\\"');o[s]=n}else if("["==m.charAt(1)){var p,l=1,d=[];do{l+=(p=extractSegment("[","]",l,m)).length;let e=p.substr(1,p.length-2).trim();"I"==e.charAt(0)&&";"==e.charAt(1)&&(e=e.substr(2)),d.push(e.split(",")),","==m.charAt(l)&&l++}while("["==m.charAt(l));o[s]=d}else{var m,g=(m="I"==(m=m.substr(1,m.length-2).trim()).charAt(0)&&";"==m.charAt(1)?m.substr(2):m).split(",").map(function(e){return parseInt(e,10)});o[s]=g}else'"'==e.charAt(a)?(t=this.getStringToNextSymbolInsideString(",}",e,a),o[s]=t.substring(1,t.lastIndexOf('"')),a+=t.length):"'"==e.charAt(a)?(t=this.getStringToNextSymbolInsideString_SingleQuoteSurounds(",}",e,a),o[s]=t.substring(t.indexOf("'")+1,t.lastIndexOf("'")),a+=t.length):(a+=(t=this.getStringToNextSymbol(",}",e,a)).length,"true"==t||"false"==t?o[s]=t:"0b"==t?o[s]=!1:"1b"==t?o[s]=!0:isNaN(t)||isNaN(parseFloat(t))?o[s]=t:-1==t.indexOf(".")?o[s]=parseInt(t):o[s]=parseFloat(t))}}while("}"!=e.charAt(a)&&a<e.length);return o}parseCompound(e){var t,a,o=0,n={};if(null==e)return{};do{if(o++,o=this.skipSpaces(o,e),'"'==e.charAt(o)?(o++,a=this.getStringToNextSymbol('"',e,o),o++):a=this.getStringToNextSymbol(":}",e,o),o+=a.length,a.length){var s,i=a.trim();if(o++,o=this.skipSpaces(o,e),"{"==e.charAt(o))o+=(s=extractSegment("{","}",o,e)).length,t=this.parseCompound(s),this.getStringToNextSymbol(",",e,o),n[i]={type:"compound",val:t};else if("["==e.charAt(o))if(t=[],o+=(a=replaceAll("}, {","},{",a=extractSegment("[","]",o,e))).length,"{"==a.charAt(1)){for(var l,r=1;r+=(l=extractSegment("{","}",r,a)).length,t.push(this.parseCompound(l)),","==a.charAt(r)&&r++,"{"==a.charAt(r););n[i]={type:"arrayOfCompounds",val:t}}else if('"'==a.charAt(1)){for(var r=1,c=[];"]"!=a.charAt(r);)","==a.charAt(r)&&r++,r+=(t=this.getStringToNextSymbolInsideString(",}",a,r)).length,""!=t.substr(1,t.length-2)&&c.push(t.substr(1,t.length-2));n[i]={type:"arrayOfStrings",val:c}}else if("'"==a.charAt(1)){s=(s=replaceAll("', '","','",s=extractSegment("[","]",r=1,a))).split("','");for(var p=0;p<s.length;p++)0==p&&(s[p]=s[p].substr(1)),p==s.length-1&&(s[p]=s[p].slice(0,-2)),s[p]=s[p].replace(/\\'/g,"'").replace(/"/g,'\\"');n[i]={type:"arrayOfStrings",val:s}}else if("["==a.charAt(1)){var d,r=1,m=[];do{r+=(d=extractSegment("[","]",r,a)).length;let e=d.substr(1,d.length-2).trim();"I"==e.charAt(0)&&";"==e.charAt(1)&&(e=e.substr(2)),m.push(e.split(",")),","==a.charAt(r)&&r++}while("["==a.charAt(r));n[i]={type:"arrayOfArrays",val:m}}else"I"==(a=a.substr(1,a.length-2).trim()).charAt(0)&&";"==a.charAt(1)&&(a=a.substr(2)),n[i]={type:"arrayOfVals",val:a.split(",")};else'"'==e.charAt(o)?(t=this.getStringToNextSymbolInsideString(",}",e,o),n[i]={type:"string",val:t.substr(1,t.length-2)},o+=t.length):"'"==e.charAt(o)?(t=this.getStringToNextSymbolInsideString_SingleQuoteSurounds(",}",e,o),n[i]={type:"string",val:t.substr(1,t.length-2)},o+=t.length):(o+=(t=this.getStringToNextSymbol(",}",e,o)).length,n[i]={type:"raw",val:t})}}while("}"!=e.charAt(o)&&o<e.length);return n}skipSpaces(e,t){for(;e<t.length&&" "==t.charAt(e);)e++;return e}getStringToNextSymbolInsideString(e,t,a){for(var o=!0,n="";a<t.length&&o;)n+=t.charAt(a),'"'==t.charAt(++a)&&"\\"!=t.charAt(a-1)&&(o=!1,n+=t.charAt(a));return this.getStringToNextSymbol(e,t,a),n}getStringToNextSymbolInsideString_SingleQuoteSurounds(e,t,a){for(var o=!0,n="";a<t.length&&o;)n+=t.charAt(a),"'"==t.charAt(++a)&&"\\"!=t.charAt(a-1)&&(o=!1,n+=t.charAt(a));return this.getStringToNextSymbol(e,t,a),n}getStringToNextSymbol(e,t,a){for(;","==t.charAt(a)||"{"==t.charAt(a);)a++;for(var o="";a<t.length&&-1==e.indexOf(t.charAt(a));)o+=t.charAt(a),a++;return o}}function extractSegment(e,t,a,o){var n=1,s=e;for(a+=1;0!=n&&a<o.length;a++)o.charAt(a)==e?n++:o.charAt(a)==t&&n--,s+=o.charAt(a);return s}class Entity{constructor(e,t){this.stackPos=e,this.entityType=t,this.passengersAllowed=!0,this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Air:{type:"ticks",tip:"axolotl"==t?"axolotl":"entity"},OnGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Silent:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Glowing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"}}}addSpawnPotentialFields(e){this.spNBT={PosX:{type:"text",label:"Pos X",format:"special",tip:"entity.Pos"},PosY:{type:"text",label:"Pos Y",format:"special"},PosZ:{type:"text",label:"Pos Z",format:"special"},Weight:{type:"text",format:"special",tip:"entity"},panelCSR:{panelID:"csr"+e,type:"panel",htmlContent:"<br>Custom Spawn Rules",tip:"spawner.custom_spawn_rules"},min_sky_light_limit:{label:"Min Sky Light Limit",type:"text",format:"special",tip:"spawner.sky_light_limit"},max_sky_light_limit:{label:"Max Sky Light Limit",type:"text",format:"special",tip:"spawner.sky_light_limit"},min_block_light_limit:{label:"Min Block Light Limit",type:"text",format:"special",tip:"spawner.block_light_limit"},max_block_light_limit:{label:"Max Block Light Limit",type:"text",format:"special",tip:"spawner.block_light_limit"},panelSDC:{panelID:"sdc"+e,type:"panel",htmlContent:"<br>Equipment and Slot Drop Chances",tip:"spawner.slot_drop_chance"},equip_loot:{label:"Equipment Loot Table",type:"text",format:"special",fwClass:"bigTF",tip:"spawner.equipment_loot_table"},feet:{type:"text",format:"special",tip:"spawner.slot_feet"},legs:{type:"text",format:"special",tip:"spawner.slot_legs"},chest:{type:"text",format:"special",tip:"spawner.slot_chest"},head:{type:"text",format:"special",tip:"spawner.slot_head"},body:{type:"text",format:"special",tip:"spawner.slot_body"},mainhand:{type:"text",format:"special",tip:"spawner.slot_mainhand"},offhand:{type:"text",format:"special",tip:"spawner.slot_offhand"}},Object.assign(this.entityNBT,this.spNBT)}getEntityNBT(){var e,t="";for(e in this.entityNBT)t+=getNBTforKey(e,this.entityNBT[e],this.stackPos);return t=(t=(t=(t+=getMotion(this.stackPos,"Motion")+getRotation(this.stackPos))+getTargetingTags(this.stackPos))+getPassengersNBT(this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}loadBlockStateFallingBlock(e){if(null!=e.Name&&($("#block"+this.stackPos).val(extractMinecraftID(e.Name.val)),$("#block"+this.stackPos).trigger("change")),null!=e.Properties)for(var t in e.Properties.val)$("#"+t+"BS"+this.stackPos).val(e.Properties.val[t].val)}generateForm(){for(var e in"entitydata"!=currentCommand&&"data merge entity"!=currentCommand&&this.passengersAllowed&&(this.entityNBT.Passengers={type:"passenger",format:"special",tip:"entity",cssClass:"dummy",align:"B"}),this.entityNBT)createComponent("entityPane"+this.stackPos,e,this.entityNBT[e],this.stackPos)}loadOwnerNBT(e){"evoker_fangs"==this.entityType||"llama_spit"==this.entityType?convertLeastMostToArray("Owner"+this.stackPos,parseInt(e.OwnerUUIDLeast.val),parseInt(e.OwnerUUIDMost.val)):null!=e.L&&null!=e.M&&convertLeastMostToArray("Owner"+this.stackPos,parseInt(e.L.val),parseInt(e.M.val))}loadTargetNBT(e){null!=e.L&&null!=e.M&&convertLeastMostToArray("Target"+this.stackPos,parseInt(e.L.val),parseInt(e.M.val))}loadValue(e,t,a,o){if(null==this.entityNBT[t])if("HandItems"==t||"ArmorItems"==t)for(var n="HandItems"==t?["Holding","Offhand"]:["Boot","Leg","Body","Head"],s=0;s<a.length;s++)setupItemSlotForNBT(n[s]+o,a[s],e);else if("body_armor_item"==t)setupItemSlotForNBT("BodyArmorItem"+o,a,e);else if("body_armor_drop_chance"==t)cachedNBT.dropChance["BodyArmorItem"+o]=parseFloat(a),null!=cachedNBT.dropChance["BodyArmorItem"+o]&&""!=cachedNBT.dropChance["BodyArmorItem"+o]?$("#BodyArmorItem"+o+"dropChancePart").html("Drop Chance="+cachedNBT.dropChance["BodyArmorItem"+o]):$("#BodyArmorItem"+o+"dropChancePart").html(""),$("#BodyArmorItem"+o+"DropChance").val(parseFloat(a));else if("HandDropChances"==t||"ArmorDropChances"==t)for(n="HandDropChances"==t?["Holding","Offhand"]:["Boot","Leg","Body","Head"],s=0;s<a.length;s++)cachedNBT.dropChance[n[s]+o]=parseFloat(a[s]),null!=cachedNBT.dropChance[n[s]+o]&&""!=cachedNBT.dropChance[n[s]+o]?$("#"+n[s]+o+"dropChancePart").html("Drop Chance="+cachedNBT.dropChance[n[s]+o]):$("#"+n[s]+o+"dropChancePart").html(""),$("#"+n[s]+o+"DropChance").val(parseFloat(a[s]));else if("Items"==t)for(s=0;s<a.length;s++)setupItemSlotForNBT(replaceAll("b","",a[s].Slot.val)+"Slot"+o,a[s],e);else if("Motion"==t||"power"==t||"Pos"==t)$("#"+t+"X"+o).val(parseFloat(a[0])),$("#"+t+"Y"+o).val(parseFloat(a[1])),$("#"+t+"Z"+o).val(parseFloat(a[2]));else if("Rotation"==t)$("#Yaw"+o).val(parseFloat(a[0])),$("#Pitch"+o).val(parseFloat(a[1]));else if("DisabledSlots"==t)this.loadDisabledSlotsNBT(a);else if("Attributes"==t)for(s=0;s<a.length;s++){var i=(i=a[s].Name.val).substr(i.indexOf(".")+1);$("#attrib_"+i+o).val(parseFloat(a[s].Base.val))}else if("attributes"==t)for(s=0;s<a.length;s++){var l=(l=extractMinecraftID(a[s].id.val)).substr(l.indexOf(".")+1);$("#attrib_"+l+o).val(parseFloat(a[s].base.val))}else"OwnerUUID"==t?convertHexUUIDToArray("Owner"+o,a):"UUIDMost"==t?convertMostToArray("UUID"+o,a):"UUIDLeast"==t?convertLeastToArray("UUID"+o,a):"OwnerUUIDMost"==t?convertMostToArray("Owner"+o,a):"OwnerUUIDLeast"==t?convertLeastToArray("Owner"+o,a):"ConversionPlayerMost"==t?convertMostToArray("ConversionPlayer"+o,a):"ConversionPlayerLeast"==t?convertLeastToArray("ConversionPlayer"+o,a):"LoveCauseMost"==t?convertMostToArray("LoveCause"+o,a):"LoveCauseLeast"==t?convertLeastToArray("LoveCause"+o,a):"leash"==t?this.load_leash_NBT(a):"flower_pos"==t||"hive_pos"==t?this.load_flower_pos_Or_hive_pos(a,t):"beam_target"==t?this.loadBeamTargetNBT(a):"patrol_target"==t?this.loadPatrolTargetNBT(a):"wander_target"==t?this.loadWanderTargetNBT(a):"Particle"==t?this.loadParticleAndOptions(a):"effects"==t?loadCustomEffectsNBT("Effects"+o,a):"custom_potion_effects"==t||"Potion"==t||"Color"==t?("tipped_arrow"!=$("#Item"+o).val()&&($("#Item"+o).val("tipped_arrow"),$("#Item"+o).trigger("change")),"custom_potion_effects"==t?loadCustomEffectsNBT(`Item${o}CustomPotionEffects`,a):"Potion"==t&&$(`#Item${o}Potion`).val(extractMinecraftID(a)),"Color"==t&&loadColorIntNBT(`Item${o}CustomPotionColor`,a)):"active_effects"==t?loadCustomEffectsNBT("ActiveEffects"+o,a):"Fuse"==t?this.loadOldFuse(a):"transformation"==t?this.loadTransformationArray(a):-1!=["SpawnCount","SpawnRange","Delay","MinSpawnDelay","MaxSpawnDelay","MaxNearbyEntities","RequiredPlayerRange"].indexOf(t)&&$("#spawnerMinecart"+o+t).val(parseInt(a));else if($("#"+t+o).length)if("text"==this.entityNBT[t].type||"choice"==this.entityNBT[t].type||"makeSelect"==this.entityNBT[t].type||"makeSelectWithIndexAndValues"==this.entityNBT[t].type||"makeSelectWithIndexes"==this.entityNBT[t].type){if("string"==this.entityNBT[t].format)"Potion"==t?$("#"+t+o).val(extractMinecraftID(a)):$("#"+t+o).val(a.replace(/\\"/g,'"').replace(/\\\\\\"/g,'\\"').replace(/\\'/g,"'"));else if("b"==this.entityNBT[t].format||"short"==this.entityNBT[t].format||"long"==this.entityNBT[t].format||"int"==this.entityNBT[t].format){var r=parseInt(a);"text"!=this.entityNBT[t].type&&!$("#"+t+o+" option[value='"+r+"']").length||$("#"+t+o).val(r)}else if("f"==this.entityNBT[t].format||"d"==this.entityNBT[t].format)$("#"+t+o).val(parseFloat(a));else if("special"==this.entityNBT[t].format)if("Tags"==t){for(var c="",s=0;s<a.length;s++)c+=","+a[s];$("#Tags"+o).val(c.substr(1))}else"Variant"==t?this.loadVariantNBT(a):"Dimension"==t?$("#Dimension"+o).val(extractMinecraftID(a)):"variant"==t?$("#variant"+o).val(extractMinecraftID(a)):"SoundEvent"==t?$("#SoundEvent"+o).val(a):"Potion"==t&&$("#Potion"+o).val(extractMinecraftID(a))}else"ticks"==this.entityNBT[t].type&&$("#"+t+o).val(a);else if("background"==t)this.loadTextDisplayBackground(a);else if("CustomName"!=t&&"text"!=t||"customNameJSON"!=this.entityNBT[t].type)if("Passengers"==t)for(s=0;s<a.length;s++){addPassenger("Passengers"+o+"Pane");var p=a[s],d=extractMinecraftID(p.id.val);$("#entity"+entityIndex).val(d),$("#entity"+entityIndex).trigger("change"),e.loadSummonCommand(p,entityIndex)}else"stew_effects"==t?loadStewEffectsNBT(t+o,a):"ActiveEffects"==t||"Effects"==t||"CustomPotionEffects"==t?loadCustomEffectsNBT(t+o,a):"Color"==t&&"colorChooser"==this.entityNBT[t].type?loadColorIntNBT(t+o,a):"AngryAt"==t?(Array.isArray(a)?loadUUIDArrayNBT:convertHexUUIDToArray)(t+o,a):"UUIDArray"==this.entityNBT[t].type&&loadUUIDArrayNBT(t+o,a);else{var m;deferOutput=deferJSONOutput=!0;try{m=JSON.parse(JSON.parse('"'+a+'"'))}catch(e){m=JSON.parse(JSON.parse('"'+a.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(t+o,m),showHide(t+o+"EntityName",t+o+"EntityNameSH"),deferOutput=deferJSONOutput=!1,tellrawPreview(t+o)}}}function loadUUIDArrayNBT(t,a){for(let e=0;e<4;e++)$("#"+t+e).val(a[e])}function loadCustomEffectsNBT(a,o,e){showHide(a+"Pane",a+"SH");for(var n,s=0;s<o.length;s++){let t;if(null!=e&&null!=o[s].effect?(n=extractMinecraftID(o[s].effect.val.id.val),t=addEffectFromUIorImport(a,n,"hasProbability"),$("#"+a+"Prob_"+t).val(parseFloat(o[s].probability.val)),o[s]=o[s].effect.val):(n=extractMinecraftID((null!=o[s].id?o[s].id:o[s].Id).val),t=addEffectFromUIorImport(a,n)),null!=o[s].id){let e=!1;null!=o[s].amplifier&&($("#"+a+"Amp_"+t).val(parseInt(o[s].amplifier.val)),e=!0),null!=o[s].duration&&($("#"+a+"Ticks_"+t).val(parseInt(o[s].duration.val)),e=!0),null!=o[s].show_particles&&$("#"+a+"ShowParticles_"+t).val(o[s].show_particles.val),null!=o[s].show_icon&&$("#"+a+"ShowIcon_"+t).val(o[s].show_icon.val),null!=o[s].ambient&&$("#"+a+"ambient_"+t).val(o[s].ambient.val),e||"execute if entity"!=currentCommand||$("#"+a+"Detect_"+t).prop("checked",!0)}else if(null!=o[s].Id){let e=!1;null!=o[s].Amplifier&&($("#"+a+"Amp_"+t).val(parseInt(o[s].Amplifier.val)),e=!0),null!=o[s].Duration&&($("#"+a+"Ticks_"+t).val(parseInt(o[s].Duration.val)),e=!0),null!=o[s].ShowParticles&&$("#"+a+"ShowParticles_"+t).val(o[s].ShowParticles.val),null!=o[s].Ambient&&$("#"+a+"ambient_"+t).val(o[s].Ambient.val),e||"execute if entity"!=currentCommand||$("#"+a+"Detect_"+t).prop("checked",!0)}}}function loadStewEffectsNBT(e,t){for(var a,o=0;o<t.length;o++)null!=t[o].id?(addStewEffectFromUIorImport(e,a=extractMinecraftID(t[o].id.val)),null!=t[o].duration&&$("#"+e+"Ticks_"+a).val(parseInt(t[o].duration.val))):null!=t[o].EffectId&&(addStewEffectFromUIorImport(e,a=parseInt(t[o].EffectId.val)),null!=t[o].EffectDuration)&&$("#"+e+"Ticks_"+a).val(parseInt(t[o].EffectDuration.val));show(e+"Pane",e+"SH")}class Mob extends Entity{constructor(e,t,a){super(e,t),this.mobNBT={FallDistance:{type:"text",format:"f",tip:"mob",align:"R"},PortalCooldown:{type:"ticks",tip:"mob",align:"R"},HurtTime:{type:"ticks",tip:"mob",align:"R"},DeathTime:{type:"ticks",tip:"mob",align:"R"},DeathLootTable:{type:"text",format:"string",tip:"mob",align:"R"},LeftHanded:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},Team:{type:"text",format:"string",tip:"mob",align:"R"},Leash:{label:"Leashed To",type:"UUIDArray",format:"special",align:"R",tip:"mob"},LeashedToPostX:{type:"text",format:"special",tip:"mob",align:"R"},LeashedToPostY:{type:"text",format:"special",tip:"mob",align:"R"},LeashedToPostZ:{type:"text",format:"special",tip:"mob",align:"R"},FallFlying:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},ActiveEffects:{type:"statusEffects",format:"special",tip:"mob",align:"R"},PersistenceRequired:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},NoAI:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},CanPickUpLoot:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},Holding:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Offhand:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Head:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Body:{label:"Chest",type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Leg:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},Boot:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},BodyArmorItem:{type:"itemselect",format:"special",doDropChance:!0,hide:!0,tip:"mob",align:"R"},AbsorptionAmount:{type:"text",format:"f",tip:"mob",align:"R"},Health:{type:"text",format:"f",tip:"mob",align:"R"},SleepingX:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},SleepingY:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},SleepingZ:{type:"text",format:"int",tip:"mob.sleeping",align:"R"}};for(var o=0;o<attributeModifiers116.length;o++)"generic"==getAttributeType(attributeModifiers116[o])&&(this.mobNBT["attrib_"+attributeModifiers116[o]]={label:attributeModifiers116[o],type:"text",format:"special",tip:"mob."+attributeModifiers116[o],align:"R"});"zombie"==this.entityType||"husk"==this.entityType||"drowned"==this.entityType?this.mobNBT.attrib_spawn_reinforcements={label:"spawn_reinforcements",type:"text",format:"special",tip:"mob.spawn_reinforcements",align:"R"}:"parrot"!=this.entityType&&"bee"!=this.entityType&&"wither"!=this.entityType||(this.mobNBT.attrib_flying_speed={label:"flying_speed",type:"text",format:"special",tip:"mob.flying_speed",align:"R"}),null!=a&&Object.assign(this.mobNBT,a)}load_leash_NBT(e){Array.isArray(e)&&3==e.length?($("#LeashedToPostX"+this.stackPos).val(parseInt(e[0])),$("#LeashedToPostY"+this.stackPos).val(parseInt(e[1])),$("#LeashedToPostZ"+this.stackPos).val(parseInt(e[2]))):null!=e.UUID?($("#Leash"+this.stackPos+0).val(e.UUID.val[0]),$("#Leash"+this.stackPos+1).val(e.UUID.val[1]),$("#Leash"+this.stackPos+2).val(e.UUID.val[2]),$("#Leash"+this.stackPos+3).val(e.UUID.val[3])):null!=e.UUIDLeast&&null!=e.UUIDMost&&convertLeastMostToArray("Leash"+this.stackPos,parseInt(e.UUIDLeast.val),parseInt(e.UUIDMost.val))}loadLeashNBT(e){null!=e.UUIDLeast&&null!=e.UUIDMost?convertLeastMostToArray("Leash"+this.stackPos,parseInt(e.UUIDLeast.val),parseInt(e.UUIDMost.val)):null!=e.X&&null!=e.Y&&null!=e.Z&&($("#LeashedToPostX"+this.stackPos).val(parseInt(e.X.val)),$("#LeashedToPostY"+this.stackPos).val(parseInt(e.Y.val)),$("#LeashedToPostZ"+this.stackPos).val(parseInt(e.Z.val)))}getEntitySpecificCommand(e){return this.getMobNBT()}getMobNBT(){return super.getEntityNBT()+getHandAndArmorItmes(this.stackPos)+getStatusEffectsNBT("active_effects","ActiveEffects"+this.stackPos)+this.getMobAttributes()+this.getLeashedTo()}generateForm(){Object.assign(this.entityNBT,this.mobNBT),super.generateForm()}getLeashedTo(){return $("#Leash"+this.stackPos+0).val()&&$("#Leash"+this.stackPos+1).val()&&$("#Leash"+this.stackPos+2).val()&&$("#Leash"+this.stackPos+3).val()?",leash:{UUID:[I;"+$("#Leash"+this.stackPos+0).val()+","+$("#Leash"+this.stackPos+1).val()+","+$("#Leash"+this.stackPos+2).val()+","+$("#Leash"+this.stackPos+3).val()+"]}":$("#LeashedToPostX"+this.stackPos).val().length&&$("#LeashedToPostY"+this.stackPos).val().length&&$("#LeashedToPostZ"+this.stackPos).val().length?",leash:[I;"+$("#LeashedToPostX"+this.stackPos).val()+","+$("#LeashedToPostY"+this.stackPos).val()+","+$("#LeashedToPostZ"+this.stackPos).val()+"]":""}getMobAttributes(){for(var e="",t=0;t<attributeModifiers116.length;t++)"generic"==getAttributeType(attributeModifiers116[t])&&0<$("#attrib_"+attributeModifiers116[t]+this.stackPos).val().length&&(e+=`,{id:"minecraft:generic.${attributeModifiers116[t]}",base:${$("#attrib_"+attributeModifiers116[t]+this.stackPos).val()}}`);return"zombie"!=this.entityType&&"husk"!=this.entityType&&"drowned"!=this.entityType||!$("#attrib_spawn_reinforcements"+this.stackPos).val().length?"parrot"!=this.entityType&&"bee"!=this.entityType&&"wither"!=this.entityType||!$("#attrib_flying_speed"+this.stackPos).val().length||(e+=`,{id:"minecraft:generic.flying_speed",base:${$("#attrib_flying_speed"+this.stackPos).val()}}`):e+=`,{id:"minecraft:zombie.spawn_reinforcements",base:${$("#attrib_spawn_reinforcements"+this.stackPos).val()}}`,e.length?",attributes:["+e.substring(1)+"]":e}}class SimpleEntity extends Entity{constructor(e,t,a){super(e,t),this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Silent:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Glowing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"}},null!=a&&Object.assign(this.entityNBT,a)}getEntityNBT(){var e,t="";for(e in this.entityNBT)t+=getNBTforKey(e,this.entityNBT[e],this.stackPos);return t=(t=(t=(t+=getMotion(this.stackPos,"Motion")+getRotation(this.stackPos))+getTargetingTags(this.stackPos))+getPassengersNBT(this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}getEntitySpecificCommand(e){return this.getEntityNBT()}generateForm(){super.generateForm()}}class falling_block extends SimpleEntity{constructor(e,t){super(e,t),delete this.entityNBT.CustomName,delete this.entityNBT.CustomNameVisible,Object.assign(this.entityNBT,{Time:{type:"ticks",value:"1",tip:t,align:"R"},DropItem:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},CancelDrop:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},HurtEntities:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},FallHurtMax:{type:"text",format:"int",tip:t,align:"R"},FallDistance:{type:"text",format:"f",tip:"mob",align:"R"},FallHurtAmount:{type:"text",format:"f",tip:t,align:"R"}})}generateForm(){var e,t="<br><span class='fLabel200'>Block</span>";for(e in t+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[e].c&&(t+="<option value='"+e+"'>"+itemsAndBlocks[e].d+"</option>");t+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+")\"><div id='blockSpec"+this.stackPos+"'></div>",super.generateForm(),$("#entityPane"+this.stackPos+"R").append(t)}getEntitySpecificCommand(e){var t="";if(-1!=$("#block"+e).val()){if(t=',BlockState:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}";var n=blocks[e].getBlockNBT(e);n.length&&(t+=",TileEntityData:"+n)}for(a in this.entityNBT)t+=getNBTforKey(a,this.entityNBT[a],e);return t=(t=(t+=getMotion(e,"Motion"))+getTargetingTags(e))+getPassengersNBT(e)}loadFallingBlockEntityData(e,t){t.loadBlockDataFromNBT(blocks[this.stackPos].bType,this.stackPos,e)}}class tnt extends SimpleEntity{constructor(e,t){super(e,t),Object.assign(this.entityNBT,{fuse:{type:"ticks",tip:"tnt.Fuse",align:"R"}})}loadOldFuse(e){$("#fuse"+this.stackPos).val(e)}generateForm(){var e,t="<br><span class='fLabel200'>Render Block</span>";for(e in t+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[e].c&&(t+="<option value='"+e+"'>"+itemsAndBlocks[e].d+"</option>");t+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+')">'+makeTip("tnt.block_state")+"<span id='blockSpec"+this.stackPos+"'></span>",super.generateForm(),$("#entityPane"+this.stackPos+"R").append(t)}getEntitySpecificCommand(e){var t="";if(-1!=$("#block"+e).val()){if(t=',block_state:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}"}return super.getEntitySpecificCommand()+t}}class InteractionEntity extends SimpleEntity{constructor(e,t){super(e,t),Object.assign(this.entityNBT,{width:{type:"text",format:"f",tip:t,align:"R"},height:{type:"text",format:"f",tip:t,align:"R"},response:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},attackUUID:{label:"Attack UUID",type:"UUIDArray",format:"special",align:"R",tip:t,playerLookup:!0},attackTimestamp:{label:"Attack Timestamp",type:"text",format:"special",tip:t,align:"R"},interactionUUID:{label:"Interaction UUID",type:"UUIDArray",format:"special",align:"R",tip:t,playerLookup:!0},interactionTimestamp:{label:"Interaction Timestamp",type:"text",format:"special",tip:t,align:"R"}})}loadInteractionPart(e,t){null!=t.timestamp&&$("#"+e+"Timestamp"+this.stackPos).val(parseFloat(t.timestamp.val)),null!=t.player&&loadUUIDArrayNBT(e+"UUID"+this.stackPos,t.player.val)}getEntitySpecificCommand(e){let t="";for(const a of["attack","interaction"]){let e="";$("#"+a+"UUID"+this.stackPos+0).val()&&$("#"+a+"UUID"+this.stackPos+1).val()&&$("#"+a+"UUID"+this.stackPos+2).val()&&$("#"+a+"UUID"+this.stackPos+3).val()&&(e+=",player:[I;"+$("#"+a+"UUID"+this.stackPos+0).val()+","+$("#"+a+"UUID"+this.stackPos+1).val()+","+$("#"+a+"UUID"+this.stackPos+2).val()+","+$("#"+a+"UUID"+this.stackPos+3).val()+"]"),$("#"+a+"Timestamp"+this.stackPos).val().length&&(e+=",timestamp:"+$("#"+a+"Timestamp"+this.stackPos).val()),0<e.length&&(t+=","+a+":{"+e.substring(1)+"}")}return super.getEntityNBT()+t}}class DisplayEntity extends SimpleEntity{constructor(e,t){super(e,t),this.displayNBT={view_range:{type:"text",format:"f",tip:"display",align:"R"},shadow_radius:{type:"text",format:"f",tip:"display",align:"R"},shadow_strength:{type:"text",format:"f",tip:"display",align:"R"},glow_color_override:{type:"choice",values:unsetTrueFalse,format:"b",tip:"display",align:"R"},brightness:{type:"genericArrayOfType",labels:["sky","block"],defaults:[10,10],format:"special",tip:"display",align:"R"},width:{type:"text",format:"f",tip:"display",align:"R"},height:{type:"text",format:"f",tip:"display",align:"R"},billboard:{type:"makeSelect",hasUnset:!0,values:["fixed","vertical","horizontal","center"],format:"string",tip:"display",align:"R"},start_interpolation:{type:"text",format:"long",tip:"display",align:"R"},interpolation_duration:{type:"ticks",tip:"display",align:"R"},teleport_duration:{type:"ticks",tip:"display",align:"R"},right_rotation:{type:"genericArrayOfType",labels:["x","y","z","a"],defaults:[0,0,0,1],format:"special",tip:"display",align:"R"},left_rotation:{type:"genericArrayOfType",labels:["x","y","z","a"],defaults:[0,0,0,1],format:"special",tip:"display",align:"R"},translation:{type:"genericArrayOfType",labels:["x","y","z"],defaults:[0,0,0],format:"special",tip:"display",align:"R"},scale:{type:"genericArrayOfType",labels:["x","y","z"],defaults:[1,1,1],format:"special",tip:"display",align:"R"},transformationValues:{label:"Transformation Values",fwClass:"verybigTF",type:"text",format:"special",tip:"display",align:"R"}},"item_display"==t?Object.assign(this.displayNBT,{item_display:{type:"makeSelect",hasUnset:!0,values:["none","thirdperson_lefthand","thirdperson_righthand","firstperson_lefthand","firstperson_righthand","head","gui","ground","fixed"],format:"string",tip:"display",align:"R"},item:{type:"itemselect",label:"item",format:"special",forceConstruct:!0,noCount:!0,tip:"display",align:"R"}}):"text_display"==t&&Object.assign(this.displayNBT,{line_width:{type:"text",format:"short",tip:t,align:"R"},text_opacity:{type:"text",format:"short",tip:t,align:"R"},background:{type:"colorChooser",format:"special",hasAlpha:!0,tip:t,align:"R"},default_background:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},shadow:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},see_through:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},alignment:{type:"makeSelect",hasUnset:!0,values:["center","left","right"],format:"string",tip:t,align:"R"},text:{type:"customNameJSON",format:"special",tip:t,align:"R",complexOptions:!0}}),Object.assign(this.entityNBT,this.displayNBT)}generateForm(){if(super.generateForm(),"block_display"==this.entityType){let e="<br><span class='fLabel200'>block state</span>";for(var t in e+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[t].c&&(e+="<option value='"+t+"'>"+itemsAndBlocks[t].d+"</option>");e+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+')">'+makeTip("display","block_state")+"<span id='blockSpec"+this.stackPos+"'></span>",$("#entityPane"+this.stackPos+"R").append(e)}}getBlockDisplayBlockState(e){let t="";if(-1!=$("#block"+e).val()){if(t=',block_state:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}"}return t}getEntitySpecificCommand(e){let a="";if("block_display"==this.entityType)a=this.getBlockDisplayBlockState(e);else if("item_display"==this.entityType){e=getItemNBT("item"+e);a="{}"!=e?",item:"+e:""}else if("text_display"==this.entityType&&(a=getCustomNameAndColor("#text",this.stackPos,"text"),$("#background"+this.stackPos+"_customcol").is(":checked"))){e=$("#background"+this.stackPos+"_color").val();let t;try{(t=parseFloat($("#background"+this.stackPos+"_alpha").val()))<0?t=0:255<t&&(t=255)}catch(e){t=0}a+=",background:"+(t<<24|hexToR(e)<<16|hexToG(e)<<8|hexToB(e))}return super.getEntityNBT()+this.getBrightnessNBT()+this.getTransformationDataNBT()+a}loadTextDisplayBackground(e){loadColorIntNBT("background"+this.stackPos,e),$("#background"+this.stackPos+"_alpha").val(e>>24&255)}loadTransformationArray(e){let t="";for(const a of e)t+=","+a;$("#transformationValues"+this.stackPos).val(t.substring(1))}loadTransformationData(e){for(const a of["left_rotation","right_rotation","translation","scale"])if(a in e)for(var t=0;t<this.displayNBT[a].labels.length;t++)$("#"+a+this.stackPos+this.displayNBT[a].labels[t]).val(parseFloat(e[a].val[t]))}loadBrightnessData(e){for(var t=0;t<this.displayNBT.brightness.labels.length;t++)$("#brightness"+this.stackPos+this.displayNBT.brightness.labels[t]).val(e[this.displayNBT.brightness.labels[t]].val)}getBrightnessNBT(){let e="",t=!1;for(var a=0;a<this.displayNBT.brightness.labels.length;a++)$("#brightness"+this.stackPos+this.displayNBT.brightness.labels[a]).val()?(t=!0,e+=","+this.displayNBT.brightness.labels[a]+":"+$("#brightness"+this.stackPos+this.displayNBT.brightness.labels[a]).val()):e+=","+this.displayNBT.brightness.labels[a]+":"+this.displayNBT.brightness.defaults[a];return t?",brightness:{"+e.substring(1)+"}":""}getTransformationDataNBT(){let t="",a=!1;for(const n of["left_rotation","right_rotation","translation","scale"]){let e="";for(var o=0;o<this.displayNBT[n].labels.length;o++)$("#"+n+this.stackPos+this.displayNBT[n].labels[o]).val()?(a=!0,e+=","+$("#"+n+this.stackPos+this.displayNBT[n].labels[o]).val()+"f"):e+=","+this.displayNBT[n].defaults[o]+"f";t+=","+n+":["+e.substr(1)+"]"}return a?",transformation:{"+t.substring(1)+"}":$("#transformationValues"+this.stackPos).val()?",transformation:["+$("#transformationValues"+this.stackPos).val()+"]":""}}class marker extends Entity{constructor(e,t){super(e,t),this.passengersAllowed=!1,Object.assign(this.entityNBT,{data:{type:"text",format:"special",fwClass:"verybigTF",tip:t,align:"R"}})}getEntitySpecificCommand(e){return super.getEntityNBT()+this.getMarkerDataNBT()}loadMarkerData(e){$("#data"+this.stackPos).val(compoundToNBTString(e))}getMarkerDataNBT(){return $("#data"+this.stackPos).val().length?",data:"+$("#data"+this.stackPos).val():""}}class lightning_bolt extends Entity{constructor(e,t){super(e,t),this.passengersAllowed=!1,this.entityNBT={Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"}}}getEntitySpecificCommand(e){return getTargetingTags(this.stackPos)}}class fishing_bobber extends Entity{constructor(e,t){super(e,t),this.passengersAllowed=!1,this.entityNBT={OnGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:t}}}getEntitySpecificCommand(e){return-1!=$("#OnGround"+e).val()?",OnGround:"+$("#OnGround"+e).val()+"b":""}}class pillager extends Mob{constructor(e,t,a){super(e,t,a),this.myNBT={PatrolLeader:{type:"choice",values:unsetTrueFalse,format:"b",tip:"pillager.PatrolLeader",align:"R"},Patrolling:{type:"choice",values:unsetTrueFalse,format:"b",tip:"pillager.Patrolling",align:"R"},CanJoinRaid:{type:"choice",values:unsetTrueFalse,format:"b",tip:"pillager.CanJoinRaid",align:"R"},patrol_targetX:{type:"text",format:"special",tip:"pillager.PatrolTarget",align:"R"},patrol_targetY:{type:"text",format:"special",align:"R"},patrol_targetZ:{type:"text",format:"special",align:"R"},Wave:{type:"text",format:"int",tip:"pillager.Wave",align:"R"},RaidId:{type:"text",format:"int",tip:"pillager.RaidId",align:"R"}},null!=this.specificNBT&&Object.assign(this.myNBT,this.specificNBT)}getEntitySpecificCommand(e){return super.getEntityNBT()+getTargetCompound(this.stackPos,"patrol_target")+getHandAndArmorItmes(this.stackPos)+getStatusEffectsNBT("active_effects","ActiveEffects"+this.stackPos)+this.getMobAttributes()+this.getLeashedTo()}loadPatrolTargetNBT(e){Array.isArray(e)?($("#patrol_targetX"+this.stackPos).val(parseInt(e[0])),$("#patrol_targetY"+this.stackPos).val(parseInt(e[1])),$("#patrol_targetZ"+this.stackPos).val(parseInt(e[2]))):null!=e.X&&($("#patrol_targetX"+this.stackPos).val(parseInt(e.X.val)),$("#patrol_targetY"+this.stackPos).val(parseInt(e.Y.val)),$("#patrol_targetZ"+this.stackPos).val(parseInt(e.Z.val)))}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}}class ender_crystal extends Entity{constructor(e,t){super(e,t),this.myNBT={ShowBottom:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},beam_targetX:{type:"text",format:"special",tip:"ender_crystal.BeamTarget",align:"R"},beam_targetY:{type:"text",format:"special",align:"R"},beam_targetZ:{type:"text",format:"special",align:"R"}}}getEntitySpecificCommand(e){return super.getEntityNBT()+getTargetCompound(this.stackPos,"beam_target")}loadBeamTargetNBT(e){Array.isArray(e)?($("#beam_targetX"+this.stackPos).val(parseInt(e[0])),$("#beam_targetY"+this.stackPos).val(parseInt(e[1])),$("#beam_targetZ"+this.stackPos).val(parseInt(e[2]))):null!=e.X&&($("#beam_targetX"+this.stackPos).val(parseInt(e.X.val)),$("#beam_targetY"+this.stackPos).val(parseInt(e.Y.val)),$("#beam_targetZ"+this.stackPos).val(parseInt(e.Z.val)))}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class evoker_fangs extends Entity{constructor(e,t){super(e,t),this.myNBT={Warmup:{type:"ticks",tip:t,align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:t}}}getEntitySpecificCommand(e){return super.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class llama_spit extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:t}}}getEntitySpecificCommand(e){return super.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class ominous_item_spawner extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={item:{type:"itemselect",format:"special",hide:!1,tip:t,align:"R",forceConstruct:!0},spawn_item_after_ticks:{type:"ticks",tip:t,align:"R"}}}getEntitySpecificCommand(e){return super.getEntityNBT()+",item:"+getItemNBT("item"+e)}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class item extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Item:{type:"itemselect",format:"special",hide:!1,tip:t,align:"R",forceConstruct:!0},Age:{type:"ticks",tip:t,align:"R"},Health:{type:"text",format:"short",tip:t,align:"R"},PickupDelay:{type:"ticks",tip:t,align:"R"},Thrower:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:t},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:t},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"}}}getEntitySpecificCommand(e){return super.getEntityNBT()+",Item:"+getItemNBT("Item"+e)}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class painting extends SimpleEntity{getEntitySpecificCommand(e){return super.getEntityNBT()+',variant:"minecraft:'+$("#variant"+e).val()+'"'}}class item_frame extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Item:{type:"itemselect",format:"special",hide:!1,tip:"item",align:"R",forceConstruct:!0},ItemDropChance:{type:"text",format:"f",tip:"item_frame",align:"R"},Facing:{type:"choice",values:[[-1,"unset"],["0","Down"],["1","Up"],["2","North"],["3","South"],["4","West"],["5","East"]],format:"b",tip:"item_frame",align:"R"},ItemRotation:{type:"choice",values:[[-1,"unset"],["1","45&deg;"],["2","90&deg;"],["3","135&deg;"],["4","180&deg;"],["5","225&deg;"],["6","270&deg;"],["7","315&deg;"]],format:"b",tip:"item_frame",align:"R"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity",align:"R"},Invisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"item_frame",align:"R"},Fixed:{type:"choice",values:unsetTrueFalse,format:"b",tip:"item_frame",align:"R"}}}getEntitySpecificCommand(e){return super.getEntityNBT()+",Item:"+getItemNBT("Item"+e)}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class shulker_bullet extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:"shlkrblt116"},Target:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"shlkrblt116"},TXD:{type:"text",format:"d",tip:"shulker_bullet.offset",align:"R"},TYD:{type:"text",format:"d",align:"R"},TZD:{type:"text",format:"d",align:"R"},Steps:{type:"text",format:"int",tip:t,align:"R"}}}getEntitySpecificCommand(e){return super.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class Player extends Entity{constructor(e,t){super(e,t),this.stackPos=e,this.entityType=t,this.entityNBT={FallFlying:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob"},ActiveEffects:{type:"statusEffects",format:"special",tip:"mob"},AbsorptionAmount:{type:"text",format:"f",tip:"mob"},Health:{type:"text",format:"f",tip:"mob"},FallDistance:{type:"text",format:"f",tip:"mob"},PortalCooldown:{type:"ticks",tip:"mob"},DataVersion:{type:"text",format:"int",tip:t},Dimension:{type:"makeSelect",values:["unset","overworld","the_end","the_nether"],format:"special",tip:t},Score:{type:"text",format:"int",tip:t},SelectedItemSlot:{type:"text",format:"int",tip:t},SelectedItem:{type:"itemselect",format:"special",hide:!0,tip:t},Inventory:{type:"multiitem",hide:!0,slotNumbers:!0,wildcardSlots:!0,tip:t},EnderItems:{type:"multiitem",hide:!0,slotNumbers:!0,wildcardSlots:!0,tip:t},SpawnX:{type:"text",format:"int",tip:"player.spawn"},SpawnY:{type:"text",format:"int"},SpawnZ:{type:"text",format:"int"},SpawnForced:{type:"choice",values:unsetTrueFalse,format:"b",tip:t},Sleeping:{type:"choice",values:unsetTrueFalse,format:"b",tip:t},foodLevel:{type:"text",format:"int",tip:t,align:"R"},XpLevel:{type:"text",format:"int",tip:t,align:"R"},XpP:{type:"text",format:"f",tip:t,align:"R"},XpTotal:{type:"text",format:"int",tip:t,align:"R"},walkSpeed:{type:"text",format:"special",tip:t,align:"R"},flySpeed:{type:"text",format:"special",tip:t,align:"R"},mayfly:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},flying:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},invulnerable:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},mayBuild:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},instaBuild:{type:"choice",values:unsetTrueFalse,format:"special",tip:t,align:"R"},seenCredits:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"}}}loadAbilities(e,t){for(var a in t)-1!=t[a].val.indexOf("b")?$("#"+a+this.stackPos).val(parseInt(t[a].val)):$("#"+a+this.stackPos).val(parseFloat(t[a].val))}loadPlayerInventory(t,a,e){var o="Inventory"+e+"MultiItem";showHide(o+"Pane",o+"PaneSH");for(let e=0;e<a.length;e++)null!=a[e].id?(addMultiItem(o+"Pane",!0),showHide(o+"Pane_"+e+"Pane",o+"Pane_"+e+"PaneSH"),setupItemSlotForNBT(o+"Pane_"+e,a[e],t),null!=a[e].Slot&&$("#"+o+"Pane_"+e+"Slot").val(parseInt(a[e].Slot.val))):null!=a[e].Slot&&(addWildcardSlot(o+"Pane"),$("#"+o+"Pane_"+e).val(parseInt(a[e].Slot.val)))}getAbilities(e){var t="";return $("#walkSpeed"+e).val().length&&(t+=",walkSpeed:"+$("#walkSpeed"+e).val()+"f"),$("#flySpeed"+e).val().length&&(t+=",flySpeed:"+$("#flySpeed"+e).val()+"f"),-1!=$("#mayfly"+e).val()&&(t+=",mayfly:"+$("#mayfly"+e).val()+"b"),-1!=$("#flying"+e).val()&&(t+=",flying:"+$("#flying"+e).val()+"b"),-1!=$("#invulnerable"+e).val()&&(t+=",invulnerable:"+$("#invulnerable"+e).val()+"b"),-1!=$("#mayBuild"+e).val()&&(t+=",mayBuild:"+$("#mayBuild"+e).val()+"b"),-1!=$("#instaBuild"+e).val()&&(t+=",instaBuild:"+$("#instaBuild"+e).val()+"b"),t.length?",abilities:{"+t.substr(1)+"}":t}getEntitySpecificCommand(e){var t="",a=getItemNBT("SelectedItem"+e);"{}"!=a&&(t+=",SelectedItem:"+a),"unset"!=$("#Dimension"+e).val()&&(t+=',Dimension:"minecraft:'+$("#Dimension"+e).val()+'"');let o="",n=($("#Inventory"+e+"MultiItemPane  > .itemSelectControl").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Pane"));"-1"!=$("#"+t).val()&&(o+=","+getItemNBT(t,"CountOptional"))}),$("#Inventory"+e+"MultiItemPane  > .wildcardSlot").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Panel"));$("#"+t).val().length&&(o+=",{Slot:"+$("#"+t).val()+"b}")}),o.length&&(t+=",Inventory:["+o.substr(1)+"]"),"");return $("#EnderItems"+e+"MultiItemPane  > .itemSelectControl").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Pane"));"-1"!=$("#"+t).val()&&(n+=","+getItemNBT(t,"CountOptional"))}),$("#EnderItems"+e+"MultiItemPane  > .wildcardSlot").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Panel"));$("#"+t).val().length&&(n+=",{Slot:"+$("#"+t).val()+"b}")}),n.length&&(t+=",EnderItems:["+n.substr(1)+"]"),(t+=this.getAbilities(e))+this.getEntityNBT()+getStatusEffectsNBT("active_effects","ActiveEffects"+this.stackPos)}getEntityNBT(){var e,t="";for(e in this.entityNBT)t+=getNBTforKey(e,this.entityNBT[e],this.stackPos);return t}generateForm(){for(var e in this.entityNBT)createComponent("entityPane"+this.stackPos,e,this.entityNBT[e],this.stackPos)}}var booksJson,quillsJson,tellrawJson,signJson,jsonColors=["unset","Hex Code","white","black","dark_blue","dark_green","dark_aqua","dark_red","dark_purple","gold","gray","dark_gray","blue","green","aqua","red","light_purple","yellow"];class Book{constructor(){this.formats=["bold","italic","underlined","strikethrough","obfuscated"],this.books=[],this.context="book",this.htmlColorMap={reset:"#000000","-1":"#000000",unset:"#000000",black:"#000000",dark_blue:"#0000aa",dark_green:"#00aa00",dark_aqua:"#00aaaa",dark_red:"#aa0000",dark_purple:"#aa00aa",purple:"#A020F0",gold:"#ffaa00",cyan:"#00FFFF",gray:"#aaaaaa",pink:"#FFC0CB",brown:"#964B00",light_gray:"#D3D3D3",dark_gray:"#555555",blue:"#5555ff",light_blue:"#ADD8E6",green:"#55ff55",aqua:"#55ffff",red:"#ff5555",light_purple:"#ff55ff",lime:"#32CD32",magenta:"#FF00FF",yellow:"#ffff55",orange:"#FFA500",white:"#ffffff"}}cuttoJSONClipboard(e,t){let a,o;var n;o=this.books[e].cSection<this.books[e].cSectionLast?(a=this.books[e].cSection,this.books[e].cSectionLast):(a=this.books[e].cSectionLast,this.books[e].cSection),(a==o&&1<this.sectionsLength(e)||0!=a||o<this.sectionsLength(e)-1)&&(n=JSON.stringify(this.books[e].pages[this.books[e].cPage].splice(a,o-a+1)),this.books[e].cSectionLast=0,this.books[e].cSection=0,displaySectionValues(e,this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data,t),copyToClipboard(n))}copytoJSONClipboard(e){let t,a;a=this.books[e].cSection<this.books[e].cSectionLast?(t=this.books[e].cSection,this.books[e].cSectionLast):(t=this.books[e].cSectionLast,this.books[e].cSection),copyToClipboard(JSON.stringify(this.books[e].pages[this.books[e].cPage].slice(t,a+1)))}pastetoJSONClipboard(a,o){navigator.clipboard.readText().then(e=>{if(e.length){var t=JSON.parse(e);for(let e=0;e<t.length;e++)this.books[a].cSection++,this.books[a].pages[this.books[a].cPage].splice(this.books[a].cSection,0,t[e]);displaySectionValues(a,this.books[a].pages[this.books[a].cPage][this.books[a].cSection].data,o)}})}makeNewBook(e){this.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0,cHoverEvent:0},this.books[e].pages.push([]),this.books[e].pages[0].push(new Section)}getLineSection(e,t,a){a=null==a?this.books[e].cSection:a;return this.books[e].pages[t][a].data}flipSection(e,t){t+this.books[e].cSection>=this.sectionsLength(e)?this.books[e].cSection=0:t+this.books[e].cSection<0?this.books[e].cSection=this.sectionsLength(e)-1:this.books[e].cSection+=t,this.books[e].cHoverEvent=0,displaySectionValues(e,this.getSection(e),this.context)}goToPage(e,t){t<this.books[e].pages.length&&(this.books[e].cPage=t,this.books[e].cSection=0,this.books[e].cHoverEvent=0,displaySectionValues(e,this.getSection(e),this.context))}gradientMaker(e,t){""==$(`#${e}gradientPane`).html()&&($(`#${e}gradientPane`).append(`<span class='fLabel100'>Gradient Text</span><input type='text' id='${e}GradientText'>${makeTip("json.gradientText")}<button id='hide${e}' class='redX'>X</button>
				<br><button id='${e}AddColorStep' class='anchorButton'>Add Color Step</button>${makeTip("json.addColorStep")}<div id='${e}ColorStepsPane' style='width:350px;'></div>
				<button id='${e}generateGradient' class='anchorButton'>Generate Gradient Text</button>`+makeTip("json.generateGradient")),$(`#${e}AddColorStep`).on("click",function(){addColorStep(e)}),$("#hide"+e).on("click",function(){$(`#${e}gradientPane`).hide()}),addColorStep(e,"FFFFFF"),addColorStep(e,"FF0000"),$(`#${e}generateGradient`).on("click",function(){generateGradient(e,t)})),$(`#${e}gradientPane`).show()}flipPage(e,t){t+this.books[e].cPage>=this.books[e].pages.length?this.books[e].cPage=0:t+this.books[e].cPage<0?this.books[e].cPage=this.books[e].pages.length-1:this.books[e].cPage+=t,this.books[e].cSection=0,this.books[e].cHoverEvent=0,displaySectionValues(e,this.getSection(e),this.context)}getSection(e,t){t=null==t?this.books[e].cSection:t;return this.books[e].pages[this.books[e].cPage][t].data}sectionsLength(e){return this.books[e].pages[this.books[e].cPage].length}hoverSectionsLength(e){try{if(null!=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value)return this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value.length}catch(e){}return 0}updateSection(e,t){this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data=t}getJsonForBook(e){for(var t="",a=0;a<this.books[e].pages.length;a++){var o=[this.books[e].pages[a][0].data],n=this.getFirstFormats(o[0]);if(this.removeUnrequiredFormatting(n,o[0]),1<this.books[e].pages[a].length){for(var s=1;s<this.books[e].pages[a].length;s++)""!=this.books[e].pages[a][s].data.text&&(o.push(this.books[e].pages[a][s].data),this.removeUnrequiredFormatting(n,o[o.length-1]));t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(o))))}else t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(o[0]))))}return t.length?1==this.books[e].pages.length&&1==this.books[e].pages[0].length&&null!=this.books[e].pages[0][0].data.text&&""==this.books[e].pages[0][0].data.text?"":",pages:["+t.substr(1)+"]":t}removeUnrequiredFormatting(e,t){for(var a=0;a<this.formats.length;a++)this.formats[a]in e||t[this.formats[a]]||delete t[this.formats[a]]}getFirstFormats(e){for(var t={},a=0;a<this.formats.length;a++)e[this.formats[a]]&&(t[this.formats[a]]=!0);return t}swapSection(e,t){var a,t=t+this.books[e].cSection>=this.sectionsLength(e)?0:t+this.books[e].cSection<0?this.sectionsLength(e)-1:this.books[e].cSection+t;t!=this.books[e].cSection&&(a=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data,this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data=this.books[e].pages[this.books[e].cPage][t].data,this.books[e].pages[this.books[e].cPage][t].data=a,this.books[e].cSection=t),displaySectionValues(e,this.getSection(e),this.context)}swapPage(e,t){var a,t=t+this.books[e].cPage>=this.books[e].pages.length?0:t+this.books[e].cPage<0?this.books[e].pages.length-1:this.books[e].cPage+t;t!=this.books[e].cPage&&(a=this.books[e].pages[this.books[e].cPage],this.books[e].pages[this.books[e].cPage]=this.books[e].pages[t],this.books[e].pages[t]=a,this.updateChangePageFromSwap(e,this.books[e].cPage+1,t+1),this.books[e].cPage=t),this.books[e].cSection=0,displaySectionValues(e,this.getSection(e),this.context)}updateChangePageFromDelete(t,a){for(let e=0;e<this.books[t].pages.length;e++)for(var o=0;o<this.books[t].pages[e].length;o++){var n=this.books[t].pages[e][o].data;n.clickEvent&&n.clickEvent.action&&"change_page"==n.clickEvent.action&&n.clickEvent.value>a&&n.clickEvent.value--}}updateChangePageFromSwap(t,a,o){for(let e=0;e<this.books[t].pages.length;e++)for(var n=0;n<this.books[t].pages[e].length;n++){var s=this.books[t].pages[e][n].data;s.clickEvent&&s.clickEvent.action&&"change_page"==s.clickEvent.action&&(s.clickEvent.value==a?s.clickEvent.value=o:s.clickEvent.value==o&&(s.clickEvent.value=a))}}addPage(e){this.books[e].pages.push([]),this.books[e].cPage=this.books[e].pages.length-1,this.books[e].pages[this.books[e].cPage].push(new Section),this.books[e].cSection=0,displaySectionValues(e,this.getSection(e),this.context)}deletePage(e){return this.books[e].pages.splice(this.books[e].cPage,1),this.books[e].cPage>=this.books[e].pages.length&&(this.books[e].cPage=this.books[e].pages.length-1),this.books[e].cSection=0,this.updateChangePageFromDelete(e,this.books[e].cPage+1),this.getSection(e)}deleteSection(e){return this.books[e].pages[this.books[e].cPage].splice(this.books[e].cSection,1),this.books[e].cSection>=this.sectionsLength(e)&&(this.books[e].cSection=this.sectionsLength(e)-1),this.getSection(e)}flipHoverSection(e,t){t+this.books[e].cHoverEvent>=this.hoverSectionsLength(e)?this.books[e].cHoverEvent=0:t+this.books[e].cHoverEvent<0?this.books[e].cHoverEvent=this.hoverSectionsLength(e)-1:this.books[e].cHoverEvent+=t,displaySectionValues(e,this.getSection(e),this.context)}swapHoverSection(e,t){let a;(a=t+this.books[e].cHoverEvent>=this.hoverSectionsLength(e)?0:t+this.books[e].cHoverEvent<0?this.hoverSectionsLength(e)-1:this.books[e].cHoverEvent+t)!=this.books[e].cHoverEvent&&(t=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value[this.books[e].cHoverEvent],this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value[this.books[e].cHoverEvent]=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value[a],this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value[a]=t,this.books[e].cHoverEvent=a),displaySectionValues(e,this.getSection(e),this.context)}deleteHoverSection(e){this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value.splice(this.books[e].cHoverEvent,1),this.books[e].cHoverEvent>=this.hoverSectionsLength(e)&&(this.books[e].cHoverEvent=this.hoverSectionsLength(e)-1,this.books[e].cHoverEvent<0)&&(this.books[e].cHoverEvent=0),displaySectionValues(e,this.getSection(e),this.context)}addHoverSection(e){var t;Array.isArray(this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value)?this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value.push({text:""}):(t=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value,this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.hoverEvent.value=[{text:t}]),this.books[e].cHoverEvent++,$("#"+e+"hoverColor_colsettings").hide(),displaySectionValues(e,this.getSection(e),this.context)}addGradientSection(e,t){if(-1==e.indexOf("Hover")){for(const o of t)""!=this.books[e].pages[this.books[e].cPage][this.books[e].cSection].data.text&&this.books[e].cSection++,this.books[e].pages[this.books[e].cPage].splice(this.books[e].cSection,0,new Section({color:"#"+o[1],text:o[0]})),this.clearHoverUI(e);displaySectionValues(e,this.getSection(e),this.context)}else{var a=e.substring(0,e.indexOf("Hover"));for(const n of t)""==this.books[a].pages[this.books[a].cPage][this.books[a].cSection].data.hoverEvent.value[this.books[a].cHoverEvent].text?this.books[a].pages[this.books[a].cPage][this.books[a].cSection].data.hoverEvent.value[this.books[a].cHoverEvent]={color:"#"+n[1],text:n[0]}:(this.books[a].cHoverEvent++,this.books[a].pages[this.books[a].cPage][this.books[a].cSection].data.hoverEvent.value.splice(this.books[a].cHoverEvent,0,{color:"#"+n[1],text:n[0]}));displaySectionValues(a,this.getSection(a),this.context)}}addSection(e){this.books[e].cSection++,this.books[e].pages[this.books[e].cPage].splice(this.books[e].cSection,0,new Section),this.clearHoverUI(e),displaySectionValues(e,this.getSection(e),this.context)}addSectionFromObject(e,t){this.books[e].pages[this.books[e].cPage].push(t),this.books[e].cSection=this.sectionsLength(e)-1,this.clearHoverUI(e),displaySectionValues(e,this.getSection(e),this.context)}clearHoverUI(e){$("#"+e+"hoverfont").val(""),$("#"+e+"hoverColor").val("unset"),$("#"+e+"hoverboldunset").prop("checked",!0),$("#"+e+"hoveritalicunset").prop("checked",!0),$("#"+e+"hoverunderlinedunset").prop("checked",!0),$("#"+e+"hoverstrikethroughunset").prop("checked",!0),$("#"+e+"hoverobfuscatedunset").prop("checked",!0)}}class Section{constructor(e){null==e?this.data={bold:"unset",color:"unset",font:"",italic:"unset",obfuscated:"unset",strikethrough:"unset",text:"",underlined:"unset"}:null==e.text?this.data={text:e}:this.data=e}}class WritableBook{constructor(){this.books=[]}makeNewBook(e){this.books[e]={pages:[],cPage:0},this.books[e].pages.push("")}addPage(e){this.books[e].pages.push(""),this.books[e].cPage=this.books[e].pages.length-1,displayWriteablePage(e)}flipPage(e,t){t+this.books[e].cPage>=this.books[e].pages.length?this.books[e].cPage=0:t+this.books[e].cPage<0?this.books[e].cPage=this.books[e].pages.length-1:this.books[e].cPage+=t,displayWriteablePage(e)}goToPage(e,t){t<this.books[e].pages.length&&(this.books[e].cPage=t,displayWriteablePage(e))}deletePage(e){this.books[e].pages.splice(this.books[e].cPage,1),this.books[e].cPage>=this.books[e].pages.length&&(this.books[e].cPage=this.books[e].pages.length-1),displayWriteablePage(e)}swapPage(e,t){var a,t=t+this.books[e].cPage>=this.books[e].pages.length?0:t+this.books[e].cPage<0?this.books[e].pages.length-1:this.books[e].cPage+t;t!=this.books[e].cPage&&(a=this.books[e].pages[this.books[e].cPage],this.books[e].pages[this.books[e].cPage]=this.books[e].pages[t],this.books[e].pages[t]=a,this.books[e].cPage=t),displayWriteablePage(e)}updatePage(e,t){this.books[e].pages[this.books[e].cPage]=t}}function hexToRgb(e){e=e.replace(/^#/,"");e=parseInt(e,16);return[e>>16&255,e>>8&255,255&e]}function rgbToHex(e,t,a){return((1<<24)+(e<<16)+(t<<8)+a).toString(16).slice(1).toUpperCase()}function interpolateColor(e,t,a){var o=e.slice();for(let e=0;e<3;e++)o[e]=Math.round(o[e]+a*(t[e]-o[e]));return o}function getColorGradientArray(a,e){var o=[],n=e.map(hexToRgb),t=a.replace(/\s/g,"").length,s=n.length-1,i=t/s;let l=0,r=0;for(let t=0;t<a.length;t++){var c,p=a[t];let e;" "!==p?(c=(r-i*l)/i,e=rgbToHex(...interpolateColor(n[l],n[l+1],c)),++r>=(l+1)*i&&l<s-1&&l++,o.push([p,e])):(o[o.length-1][0]+=" ",e=o[o.length-1][1])}return 0<o.length&&(o[o.length-1][1]=e[e.length-1]),o}function generateGradient(e,t){let a=[];if($("#"+e+"ColorStepsPane > .fwColor").each(function(e){a.push($("#"+this.id+"_colour").val())}),a.length<2)alertify.alert("You need to add at least two colors.");else if($(`#${e}GradientText`).val().length<a.length)alertify.alert(`The Gradient Text will need to be at least ${a.length} characters long becuase you have chosen ${a.length} colors.`);else{var o=getColorGradientArray($(`#${e}GradientText`).val(),a);switch(t){case"tellrawJson":tellrawJson.addGradientSection(e,o);break;case"booksJson":booksJson.addGradientSection(e,o);break;case"signJson":signJson.addGradientSection(e,o)}}}function addColorStep(e,t){for(var a=0;$("#"+e+"_col_"+a).length;)a++;var o=e+"_col_"+a,o=($(`#${e}ColorStepsPane`).append("<span class='fwColor' style='display:inline-block;width:77px;' id='"+o+"'><a class='redX' href=\"javascript:removeContainer('"+o+"')\">&#9747;</a><input id='"+o+"_colour' value='FF0000' class='medTF'><span>"),new jscolor.color(document.getElementById(o+"_colour"),{}));null!=t?o.fromString(t):o.fromString("FF0000")}function deletePage(e){1==booksJson.books[e].pages.length?(booksJson.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0,cHoverEvent:0},booksJson.books[e].pages.push([]),booksJson.books[e].pages[0].push(new Section),displaySectionValues(e,booksJson.getSection(e),booksJson.context)):displaySectionValues(e,booksJson.deletePage(e),booksJson.context)}function deleteLoreLine(e){1==tellrawJson.books[e].pages.length?(tellrawJson.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0,cHoverEvent:0},tellrawJson.books[e].pages.push([]),tellrawJson.books[e].pages[0].push(new Section),displaySectionValues(e,tellrawJson.getSection(e),"lore")):displaySectionValues(e,tellrawJson.deletePage(e),"lore")}function deleteWritablePage(e){1==quillsJson.books[e].pages.length?(quillsJson.books[e]={pages:[],cPage:0},quillsJson.books[e].pages.push("")):quillsJson.deletePage(e),displayWriteablePage(e)}function deleteSection(e){1==booksJson.sectionsLength(e)?(booksJson.books[e].pages[booksJson.books[e].cPage]=[new Section],displaySectionValues(e,booksJson.books[e].pages[booksJson.books[e].cPage][0],booksJson.context)):displaySectionValues(e,booksJson.deleteSection(e),booksJson.context)}function deleteHoverSection(e,t){("book"==t?booksJson:tellrawJson).deleteHoverSection(e)}function deleteTellrawSection(e){1==tellrawJson.sectionsLength(e)?(tellrawJson.books[e].pages[0]=[new Section],displaySectionValues(e,tellrawJson.books[e].pages[0][0],tellrawJson.context)):displaySectionValues(e,tellrawJson.deleteSection(e),tellrawJson.context)}function clearSectionUI(e){$("#"+e+"bookText_choice").val("text"),$("#"+e+"bookText_txt").val(""),$("#"+e+"objective").val(""),$("#"+e+"separator").val(""),$("#"+e+"fallback").val(""),$("#"+e+"with").val(""),$("#"+e+"font").val(""),$("#"+e+"color").val("unset"),$("#"+e+"boldunset").prop("checked",!0),$("#"+e+"italicunset").prop("checked",!0),$("#"+e+"underlinedunset").prop("checked",!0),$("#"+e+"strikethroughunset").prop("checked",!0),$("#"+e+"obfuscatedunset").prop("checked",!0),$("#"+e+"hoverEvent_txt").val(""),$("#"+e+"clickEvent_txt").val("")}function bookPreview(e){$("#"+e+"Preview").html("");for(var t=booksJson.books[e].cPage,a=booksJson.getSection(e,0),o=0;o<booksJson.sectionsLength(e);o++){var n=booksJson.getSection(e,o);$("#"+e+"Preview").append(sectionJSONPreview(e,o,t,n,a,booksJson))}}function displayWriteablePage(e){$("#"+e+"bookText").val(quillsJson.books[e].pages[quillsJson.books[e].cPage]),$("#"+e+"pageNo").html("Page "+generatePageChooser(e,quillsJson.books[e].pages.length)+" of "+quillsJson.books[e].pages.length),$("#"+e+"pageChooser").val(quillsJson.books[e].cPage),$("#"+e+"pageChooser").bind("change",function(){quillsJson.goToPage(e,parseInt($("#"+e+"pageChooser").val()))}),generateCommand()}function generatePageChooser(e,t){let a="<select id='"+e+"pageChooser'>";for(let e=0;e<t;e++)a+=`<option value="${e}">${e+1}</option>`;return a+"</select>"}function getFormatUIValueFromData(e){return null==e?"unset":e}function displaySectionValues(t,a,o){clearSectionUI(t);var n,e="";if("text"in a)$("#"+t+"bookText_choice").val("text"),e=a.text;else if("translate"in a){if($("#"+t+"bookText_choice").val("translate"),e=a.translate,$("#"+t+"bookText_choice").trigger("change"),null!=a.fallback&&$("#"+t+"fallback").val(a.fallback),null!=a.with){let e="";for(const s of a.with)e+=","+s;$("#"+t+"with").val(e.substring(1))}}else"keybind"in a?($("#"+t+"bookText_choice").val("keybind"),e=a.keybind):"score"in a?($("#"+t+"bookText_choice").val("score"),$("#"+t+"bookText_choice").trigger("change"),e=a.score.name,$("#"+t+"objective").val(a.score.objective)):"selector"in a?($("#"+t+"bookText_choice").val("selector"),e=a.selector,$("#"+t+"bookText_choice").trigger("change"),null!=a.separator&&$("#"+t+"separator").val(replaceAll("\n","\\n",a.separator))):"nbt"in a&&($("#"+t+"bookText_choice").val("nbt"),$("#"+t+"bookText_choice").trigger("change"),e=a.nbt,"entity"in a?($("#"+t+"targetType").val("entity"),$("#"+t+"targetType").trigger("change"),$("#"+t+"nbtEntityTarget").val(a.entity)):"storage"in a?($("#"+t+"targetType").val("storage"),$("#"+t+"targetType").trigger("change"),$("#"+t+"nbtStorageTarget").val(a.storage)):"block"in a&&($("#"+t+"targetType").val("block"),$("#"+t+"targetType").trigger("change"),$("#"+t+"BlockNBT").val(a.block)),"interpret"in a)&&$("#"+t+"interpret").val(a.interpret?1:0);if("font"in a&&$("#"+t+"font").val(a.font),e=replaceAll("\n","\\n",e),$("#"+t+"bookText_txt").val(e),"color"in a?"#"==a.color.charAt(0)?($("#"+t+"color").val("Hex Code"),$("#"+t+"_color").val(a.color.substr(1)),new jscolor.color(document.getElementById(t+"_color"),{}).fromString(a.color.substr(1)),$("#"+t+"_colsettings").show()):("reset"==a.color?$("#"+t+"color").val("unset"):$("#"+t+"color").val(a.color),$("#"+t+"_colsettings").hide()):($("#"+t+"color").val("unset"),$("#"+t+"_colsettings").hide()),$("#"+t+"bold"+getFormatUIValueFromData(a.bold)).prop("checked",!0),$("#"+t+"italic"+getFormatUIValueFromData(a.italic)).prop("checked",!0),$("#"+t+"underlined"+getFormatUIValueFromData(a.underlined)).prop("checked",!0),$("#"+t+"strikethrough"+getFormatUIValueFromData(a.strikethrough)).prop("checked",!0),$("#"+t+"obfuscated"+getFormatUIValueFromData(a.obfuscated)).prop("checked",!0),"hoverEvent"in a){$("#"+t+"hoverEvent_choice").val(a.hoverEvent.action);try{if(Array.isArray(a.hoverEvent.value)){let e;(e="book"==o?booksJson:tellrawJson).books[t].cHoverEvent>=a.hoverEvent.value.length&&(e.books[t].cHoverEvent=0),$("#"+t+"hoverEvent_txt").val(replaceAll("\n","\\n",a.hoverEvent.value[e.books[t].cHoverEvent].text)),$("#"+t+"hoverfont").val(a.hoverEvent.value[e.books[t].cHoverEvent].font),"color"in a.hoverEvent.value[e.books[t].cHoverEvent]?"#"==(n=a.hoverEvent.value[e.books[t].cHoverEvent].color).charAt(0)?($("#"+t+"hoverColor").val("Hex Code"),$("#"+t+"hover_color").val(n.substr(1)),new jscolor.color(document.getElementById(t+"hover_color"),{}).fromString(n.substr(1)),$("#"+t+"hoverColor_colsettings").show()):("reset"==n?$("#"+t+"hoverColor").val("unset"):$("#"+t+"hoverColor").val(n),$("#"+t+"hoverColor_colsettings").hide()):$("#"+t+"hoverColor").val("unset"),$("#"+t+"hoverbold"+getFormatUIValueFromData(a.hoverEvent.value[e.books[t].cHoverEvent].bold)).prop("checked",!0),$("#"+t+"hoveritalic"+getFormatUIValueFromData(a.hoverEvent.value[e.books[t].cHoverEvent].italic)).prop("checked",!0),$("#"+t+"hoverunderlined"+getFormatUIValueFromData(a.hoverEvent.value[e.books[t].cHoverEvent].underlined)).prop("checked",!0),$("#"+t+"hoverstrikethrough"+getFormatUIValueFromData(a.hoverEvent.value[e.books[t].cHoverEvent].strikethrough)).prop("checked",!0),$("#"+t+"hoverobfuscated"+getFormatUIValueFromData(a.hoverEvent.value[e.books[t].cHoverEvent].obfuscated)).prop("checked",!0)}else null!=a.hoverEvent.value?($("#"+t+"hoverEvent_txt").val(replaceAll("\n","\\n",a.hoverEvent.value)),a.hoverEvent.value=[a.hoverEvent.value]):$("#"+t+"hoverEvent_txt").val("")}catch(e){$("#"+t+"hoverEvent_txt").val("")}}else $("#"+t+"hoverEvent_txt").val("");"clickEvent"in a?($("#"+t+"clickEvent_choice").val(a.clickEvent.action),"boolean"==typeof a.clickEvent.value?$("#"+t+"clickEvent_txt").val(a.clickEvent.value):$("#"+t+"clickEvent_txt").val(replaceAll("\n","\\n",""+a.clickEvent.value))):$("#"+t+"clickEvent_txt").val(""),("book"==o?($("#"+t+"sectionNo").html("Section "+(booksJson.books[t].cSection+1)+" of "+booksJson.sectionsLength(t)),$("#"+t+"pageNo").html("Page "+generatePageChooser(t,booksJson.books[t].pages.length)+" of "+booksJson.books[t].pages.length),$("#"+t+"pageChooser").val(booksJson.books[t].cPage),$("#"+t+"pageChooser").bind("change",function(){booksJson.goToPage(t,parseInt($("#"+t+"pageChooser").val()))}),bookPreview):"tellraw"==o||"lore"==o?($("#"+t+"sectionNo").html("Section "+(tellrawJson.books[t].cSection+1)+" of "+tellrawJson.sectionsLength(t)),$("#"+t+"pageNo").html("Line "+(tellrawJson.books[t].cPage+1)+" of "+tellrawJson.books[t].pages.length),tellrawPreview):($("#"+t+"sectionNo").html("Section "+(signJson.books[t].cSection+1)+" of "+signJson.sectionsLength(t)),$("#"+t+"pageNo").html("Line "+(signJson.books[t].cPage+1)+" of "+signJson.books[t].pages.length),$("#"+t+"clickEvent_txt").prop("disabled",0!=signJson.books[t].cSection),$("#"+t+"clickEvent_choice").prop("disabled",0!=signJson.books[t].cSection),signPreview))(t),$("#"+t+"bookText_txt").trigger("keyup"),("book"==o?bookUpdate:"sign"==o?signUpdate:tellrawUpdate)(t)}function bookUpdate(e){var t,a={},o=replaceAll("\\n","\n",$("#"+e+"bookText_txt").val());"score"==$("#"+e+"bookText_choice").val()?a.score={name:o,objective:$("#"+e+"objective").val()}:"selector"==$("#"+e+"bookText_choice").val()?(a.selector=o,a.separator=replaceAll("\\n","\n",$("#"+e+"separator").val())):"translate"==$("#"+e+"bookText_choice").val()?(a.translate=o,a.fallback=replaceAll("\\n","\n",$("#"+e+"fallback").val()),a.with=$("#"+e+"with").val().split(",")):"nbt"==$("#"+e+"bookText_choice").val()?(a.nbt=o,"entity"==$("#"+e+"targetType").val()?a.entity=$("#"+e+"nbtEntityTarget").val():"storage"==$("#"+e+"targetType").val()?a.storage=$("#"+e+"nbtStorageTarget").val():(t=getCoordsString(e+"BlockNBT"),a.block=t[0]+" "+t[1]+" "+t[2]),1==$("#"+e+"interpret").val()?a.interpret=!0:0==$("#"+e+"interpret").val()&&(a.interpret=!1)):a[$("#"+e+"bookText_choice").val()]=o,a.font=$("#"+e+"font").val(),"Hex Code"==$("#"+e+"color").val()?a.color="#"+$("#"+e+"_color").val():a.color=$("#"+e+"color").val(),a.bold=$("input[name='"+e+"bold']:checked").val(),a.italic=$("input[name='"+e+"italic']:checked").val(),a.underlined=$("input[name='"+e+"underlined']:checked").val(),a.strikethrough=$("input[name='"+e+"strikethrough']:checked").val(),a.obfuscated=$("input[name='"+e+"obfuscated']:checked").val(),"hoverEvent"in booksJson.books[e].pages[booksJson.books[e].cPage][booksJson.books[e].cSection].data&&(a.hoverEvent=booksJson.books[e].pages[booksJson.books[e].cPage][booksJson.books[e].cSection].data.hoverEvent),"show_text"==$("#"+e+"hoverEvent_choice").val()?"hoverEvent"in a?(a.hoverEvent.action="show_text",a.hoverEvent.value[booksJson.books[e].cHoverEvent]={text:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())},a.hoverEvent.value[booksJson.books[e].cHoverEvent].font=$("#"+e+"hoverfont").val(),"Hex Code"==$("#"+e+"hoverColor").val()?a.hoverEvent.value[booksJson.books[e].cHoverEvent].color="#"+$("#"+e+"hover_color").val():a.hoverEvent.value[booksJson.books[e].cHoverEvent].color=$("#"+e+"hoverColor").val(),a.hoverEvent.value[booksJson.books[e].cHoverEvent].bold=$("input[name='"+e+"hoverbold']:checked").val(),a.hoverEvent.value[booksJson.books[e].cHoverEvent].italic=$("input[name='"+e+"hoveritalic']:checked").val(),a.hoverEvent.value[booksJson.books[e].cHoverEvent].underlined=$("input[name='"+e+"hoverunderlined']:checked").val(),a.hoverEvent.value[booksJson.books[e].cHoverEvent].strikethrough=$("input[name='"+e+"hoverstrikethrough']:checked").val(),a.hoverEvent.value[booksJson.books[e].cHoverEvent].obfuscated=$("input[name='"+e+"hoverobfuscated']:checked").val()):(booksJson.books[e].cHoverEvent=0,a.hoverEvent={action:"show_text",value:[{text:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())}]}):a.hoverEvent={action:$("#"+e+"hoverEvent_choice").val(),value:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())},showHideHoverEventFormatting(e,booksJson),$("#"+e+"clickEvent_txt").val().length&&(a.clickEvent={action:$("#"+e+"clickEvent_choice").val(),value:$("#"+e+"clickEvent_txt").val()}),booksJson.updateSection(e,a),deferJSONOutput||(bookPreview(e),hoverEventPreview(e,booksJson),generateCommand())}function getWrittenBookNBT(e){var t="",t=(t+=',title:"'+$("#"+e+"title").val()+'"')+(',author:"'+$("#"+e+"author").val()+'"');return-1!=$("#"+e+"generation").val()&&(t+=",generation:"+$("#"+e+"generation").val()),-1!=$("#"+e+"resolved").val()&&(t+=",resolved:"+("1"==$("#"+e+"resolved").val())),t+=booksJson.getJsonForBook(e)}function loadWritableBookFromNBT(e,t){for(var a=0;a<t.length;a++)0!=a&&quillsJson.addPage(e),quillsJson.updatePage(e,replaceAll('\\"','"',t[a]));quillsJson.flipPage(e,1)}function loadSignFromNBT(e,t){if(null!=t.Text1||null!=t.Text2||null!=t.Text3||null!=t.Text4)null!=t.GlowingText&&$("#"+e+"GlowingText").val(parseInt(t.GlowingText.val)),null!=t.Color&&$("#"+e+"BaseColor").val(t.Color.val),load1p19SignFromNBT(e,t);else for(const c of[{panel:"SignPaneBack",nbt:"back_text"},{panel:"SignPane",nbt:"front_text"}])if(null!=t[c.nbt]){var a="back_text"==c.nbt?e.replaceAll("SignPane","SignPaneBack"):e;if(null!=t[c.nbt].val.has_glowing_text&&$("#"+a+"GlowingText").val(parseInt(t[c.nbt].val.has_glowing_text.val)),null!=t[c.nbt].val.color&&$("#"+a+"BaseColor").val(t[c.nbt].val.color.val),null!=t[c.nbt].val.messages)for(var o,n=t[c.nbt].val.messages.val,s=0;s<n.length;s++){try{o=JSON.parse(JSON.parse('"'+n[s]+'"'.replace(/\\[1]/g,"")))}catch(e){o=JSON.parse(JSON.parse('"'+n[s].replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}if(null!=o.extra){var i=o.extra;delete o.extra,signJson.updateSection(a,o);for(var l=0;l<i.length;l++)signJson.addSectionFromObject(a,new Section(i[l]))}else{if(Array.isArray(o))for(var r=0;r<o.length;r++)signJson.addSectionFromObject(a,new Section(o[r]));else"string"==typeof o||o instanceof String?signJson.addSectionFromObject(a,new Section({text:o})):signJson.addSectionFromObject(a,new Section(o));signJson.flipSection(a,1),signJson.deleteSection(a)}signJson.flipPage(a,1)}}}function load1p19SignFromNBT(e,t){for(var a,o=0;o<4;o++){if(null!=t["Text"+(o+1)]){try{a=JSON.parse(JSON.parse('"'+t["Text"+(o+1)].val+'"'.replace(/\\[1]/g,"")))}catch(e){a=JSON.parse(JSON.parse('"'+t["Text"+(o+1)].val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}if(null!=a.extra){var n=a.extra;delete a.extra,signJson.updateSection(e,a);for(var s=0;s<n.length;s++)signJson.addSectionFromObject(e,new Section(n[s]))}else{if(Array.isArray(a))for(var i=0;i<a.length;i++)signJson.addSectionFromObject(e,new Section(a[i]));else signJson.addSectionFromObject(e,new Section(a));signJson.flipSection(e,1),signJson.deleteSection(e)}}else signJson.updateSection(e,JSON.parse('{"text":"","color":"black"}'));signJson.flipPage(e,1)}}function createWrittenBookForm(e,t){null==booksJson&&(booksJson=new Book),$("#"+e+"ItemPane").append("<div id='"+e+"BookPane'></div>");var a,o={title:{type:"text",id:(e+="BookPane")+"title",format:"string",cssClass:"fLabel100",tip:"written_book"},author:{type:"text",id:e+"author",format:"string",cssClass:"fLabel100",tip:"written_book"},generation:{type:"choice",id:e+"generation",cssClass:"fLabel100",values:[[-1,"unset"],["0","Original"],["1","Copy of Original"],["2","Copy of Copy"],["3","Tattered"]],format:"int",tip:"written_book"},resolved:{type:"choice",id:e+"resolved",cssClass:"fLabel100",values:unsetTrueFalse,format:"b",tip:"written_book"},Pages:{type:"panel",cssClass:"fLabel100",panelID:e+"Pages",format:"special",tip:"written_book"}};for(a in o)createComponent(e,a,o[a],t);$("#"+e+"Pages").html("<span class='pagePreviewFrame'><span><br><a href=\"javascript:booksJson.flipPage('"+e+"',-1)\" class='greenPlus' title='Go to previous page'>&#8678;</a><span id='"+e+"pageNo'></span><a href=\"javascript:booksJson.flipPage('"+e+"',1)\" class='greenPlus' title='Go to next page'>&#8680;</a><a href=\"javascript:booksJson.addPage('"+e+"')\" class='greenPlus'  title='Add a new page'>+</a><a href=\"javascript:deletePage('"+e+"')\" class='redX' title='Delete this page'>X</a><a href=\"javascript:booksJson.swapPage('"+e+"', -1)\" class='anchorButton' title='Swap with previous page'>&#8630</a><a href=\"javascript:booksJson.swapPage('"+e+"',1)\" class='anchorButton' title='Swap with next page'>&#8631</a></span><br><span id='"+e+"Preview' class='pagePreview roundedDiv'></span>"+addJSONCopyPasteButtons(e,"book")+"</span><span id='"+e+"Setup' class='pageSetup'><br><span class='fLabel100'><a href=\"javascript:booksJson.gradientMaker('"+e+"','booksJson')\" class='anchorButton' title='Select some colors to spread accross the text'>Gradient Maker</a></span><span><a href=\"javascript:booksJson.flipSection('"+e+"',-1)\" class='greenPlus'  title='Go to previous section'>&#8678;</a><span id='"+e+"sectionNo'></span><a href=\"javascript:booksJson.flipSection('"+e+"',1)\" class='greenPlus' title='Go to next section'>&#8680;</a><a href=\"javascript:booksJson.addSection('"+e+"')\" class='greenPlus' title='Add a new section'>+</a><a href=\"javascript:deleteSection('"+e+"')\" class='redX' title='Delete this section'>X</a><a href=\"javascript:booksJson.swapSection('"+e+"', -1)\" class='anchorButton' title='Swap with previous section'>&#8630</a><a href=\"javascript:booksJson.swapSection('"+e+"',1)\" class='anchorButton' title='Swap with next section'>&#8631</a></span></span>"),$("#"+e+"Setup").append("<br><span id='"+e+"gradientPane'  class='roundedDiv'></span><br><span class='fLabel100'>component type</span><select id='"+e+"bookText_choice'><option value='text'>text</option><option value='translate'>translate</option><option value='keybind'>keybind</option><option value='score'>score</option><option value='selector'>selector</option><option value='nbt'>nbt</option></select>"),$(`#${e}gradientPane`).hide(),$("#"+e+"Setup").append("<br><span class='fLabel100'>value</span><textarea id='"+e+"bookText_txt' class='bookUpdate bigTF'></textarea>"+makeTip("json.value")),$("#"+e+"Setup").append("<br><span id='"+e+"extraComponents'></span>"),createComponent(e+"Setup","color",{type:"makeSelect",id:e+"color",values:jsonColors,format:"special",cssClass:"fLabel100",tip:"written_book",eventClass:"jsonHexColorUpdate"},t),$("#"+e+"Setup").append("<span id='"+e+"_colsettings'><input id='"+e+"_color' value='FF0000' class='medTF' onchange='bookUpdate(\""+e+"\")'></span>"),new jscolor.color(document.getElementById(e+"_color"),{}).fromString("FF0000"),$("#"+e+"_colsettings").hide(),$(".jsonHexColorUpdate").on("change",function(){jsonHexColorUpdate(e,booksJson.context)}),createComponent(e+"Setup","jsonFormats",{label:" ",type:"jsonFormats",id:e,cssClass:"fLabel100",format:"special",eventClass:"bookUpdate"},t),createComponent(e+"Setup","font",{type:"text",id:e+"font",cssClass:"fLabel100",format:"string",tip:"written_book",eventClass:"bookUpdate"},t),createComponent(e+"Setup","clickEvent",{type:"choicetext",id:e+"clickEvent",values:["run_command","copy_to_clipboard","suggest_command","open_url","change_page"],format:"special",fwClass:"bigTF",cssClass:"fLabel100",tip:"written_book",eventClass:"bookUpdate"},t),createComponent(e+"Setup","hoverEvent",{type:"choicetext",id:e+"hoverEvent",values:["show_text","show_item","show_entity"],format:"special",cssClass:"fLabel100",fwClass:"bigTF",tip:"written_book",eventClass:"bookUpdate"},t),createComponent(e+"Setup","hoverEventFormat",{type:"panel",panelID:e+"hoverEventFormat",cssClass:"fLabel100",fwClass:"bigTF",eventClass:"bookUpdate"},t),makeHoverEventUI(e,"booksJson","bookUpdate"),$("#"+e+"bookText_choice").bind("change",function(){"score"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>objective</span><input type='text' id='"+e+"objective' class='bigTF bookUpdate'>"),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)})):"selector"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>separator</span><input type='text' id='"+e+"separator' class='bigTF bookUpdate'>"+makeTip("json.separator")),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)})):"translate"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>fallback</span><input type='text' id='"+e+"fallback' class='bigTF bookUpdate'>"+makeTip("json.fallback")+"<br><span class='fLabel100'>with</span><input type='text' id='"+e+"with' class='bigTF bookUpdate'>"+makeTip("json.with")),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)})):"nbt"==$("#"+e+"bookText_choice").val()?($("#"+e+"extraComponents").html("<span class='fLabel100'>target type</span><select id='"+e+"targetType'><option value='entity'>entity</option><option value='block'>block</option><option value='storage'>storage</option></select><br><span id='"+e+"nbtTarget'></span>"),changeNBTTargetTypeBook(e,t),bindTargetTypeChangeBook(e,t)):$("#"+e+"extraComponents").html(""),$("#"+e+"bookText_txt").trigger("keyup")}),booksJson.makeNewBook(e),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)}),displaySectionValues(e,booksJson.getSection(e),booksJson.context)}function bindTargetTypeChangeBook(e,t){$("#"+e+"targetType").bind("change",function(){changeNBTTargetTypeBook(e,t)})}function changeNBTTargetTypeBook(e,t){"entity"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>entity </span><input type='text' id='"+e+"nbtEntityTarget' class='bookUpdate bigTF'>"):"storage"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>storage </span><input type='text' id='"+e+"nbtStorageTarget' class='bookUpdate bigTF'>"):($("#"+e+"nbtTarget").html(makeCoords(e+"BlockNBT","Block",!0,!0)),$("#"+e+"nbtTarget span").removeClass("fLabel200").addClass("fLabel100"),$("#"+e+"BlockNBT").addClass("bookUpdate")),createComponent(e+"nbtTarget","interpret",{id:e+"interpret",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",eventClass:"bookUpdate"},t),$(".bookUpdate").on("change keyup",function(){bookUpdate(e)}),bookUpdate(e)}function loadWrittenBookFromNBT(e,t){if(null!=t.title&&$("#"+e+"title").val(t.title.val),null!=t.author&&$("#"+e+"author").val(t.author.val),null!=t.generation&&$("#"+e+"generation").val(parseInt(t.generation.val)),null!=t.resolved&&$("#"+e+"resolved").val("true"==t.resolved.val||"1b"==t.resolved.val?"1":"0"),null!=t.pages){for(var a=t.pages.val,o=0;o<a.length;o++){0!=o&&booksJson.addPage(e);var n=JSON.parse(JSON.parse('"'+a[o]+'"'));if(n.length&&""==n[0]&&n.splice(0,1),null!=n.extra){var s=n.extra;delete n.extra,booksJson.updateSection(e,n);for(var i=0;i<s.length;i++)booksJson.addSectionFromObject(e,new Section(s[i]))}else{if(Array.isArray(n))for(var l=0;l<n.length;l++)booksJson.addSectionFromObject(e,new Section(n[l]));else booksJson.addSectionFromObject(e,new Section(n));booksJson.flipSection(e,1),booksJson.deleteSection(e)}}booksJson.flipPage(e,1)}}function getWritableBookNBT(e){return",pages:"+JSON.stringify(quillsJson.books[e].pages)}function createWritableBookForm(e,t){null==quillsJson&&(quillsJson=new WritableBook),$("#"+e+"ItemPane").append("<div id='"+e+"BookPane'></div>"),createComponent(e+="BookPane","Pages",{type:"panel",cssClass:"fLabel100",panelID:e+"Pages",format:"special",tip:"written_book"},t),$("#"+e+"Pages").html("<span class='writableBookFrame'><span><a href=\"javascript:quillsJson.flipPage('"+e+"',-1)\" class='greenPlus' title='Go to previous page'>&#8678;</a><span id='"+e+"pageNo'></span><a href=\"javascript:quillsJson.flipPage('"+e+"',1)\" class='greenPlus' title='Go to next page'>&#8680;</a><a href=\"javascript:quillsJson.addPage('"+e+"')\" class='greenPlus'  title='Add a new page'>+</a><a href=\"javascript:deleteWritablePage('"+e+"')\" class='redX' title='Delete this page'>X</a><a href=\"javascript:quillsJson.swapPage('"+e+"', -1)\" class='anchorButton' title='Swap with previous page'>&#8630</a><a href=\"javascript:quillsJson.swapPage('"+e+"',1)\" class='anchorButton' title='Swap with next page'>&#8631</a></span>\t\t   <br><span class='roundedDiv'><textarea class='writable_book' id='"+e+"bookText'></textarea></span></span>"),quillsJson.makeNewBook(e),$("#"+e+"bookText").on("keyup",function(){writableBookUpdate(e)}),$("#"+e+"pageNo").html("Page "+generatePageChooser(e,quillsJson.books[e].pages.length)+" of "+quillsJson.books[e].pages.length),$("#"+e+"pageChooser").val(quillsJson.books[e].cPage),$("#"+e+"pageChooser").bind("change",function(){quillsJson.goToPage(e,parseInt($("#"+e+"pageChooser").val()))})}function writableBookUpdate(e){quillsJson.updatePage(e,$("#"+e+"bookText").val()),generateCommand()}function getPixel(e,t){var a=4*t,o=e.data;let n="#";for(let e=0;e<3;e++){var s=1==(s=o[a+e].toString(16).toUpperCase()).length?"0"+s:s;n+=s}return n}function getPixelXY(e,t,a){return getPixel(e,a*e.width+t)}function processImageJSONForTellraw(e,a,o,n){var s=[];let i=currentLine="";var l=getPixelXY(n,0,0);for(let t=0;t<o;t++){i+="\n";for(let e=0;e<a;e++){var r=getPixelXY(n,e,t);l==r?i+="":(s.push({color:l,text:i}),l=r,i="")}}s.push({color:l,text:i}),s[0].italic=!1,deferJSONOutput=!0,importTellrawJSON(e,s),deferJSONOutput=!1,tellrawPreview(e),generateCommand()}function processImageJSONForLore(e,n,t,s){var i=[];for(let o=0;o<t;o++){var l="";let t="",a="";for(let e=0;e<n;e++){var r=getPixelXY(s,e,o);l==r?t+="":(l.length&&(a+=`,{\\"text\\":\\"${t}\\",\\"color\\":\\"${l}\\"}`),l=r,t="")}a=(a+=`,{\\"text\\":\\"${t}\\",\\"color\\":\\"${l}\\"}`).slice(0,2)+'\\"italic\\":false,'+a.slice(2),i.push("["+a.substring(1)+"]")}tellrawJson.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0,cHoverEvent:0},tellrawJson.books[e].pages.push([]),tellrawJson.books[e].pages[0].push(new Section),deferJSONOutput=!0,loadLoreFromNBT(e,i),deferJSONOutput=!1,tellrawPreview(e),generateCommand()}function createTellrawForm(l,e,t,a,o){t=t||"ItemPane",null==tellrawJson&&(tellrawJson=new TellRawJson),createComponent(null!=o?l+=o:l+(t=t||"ItemPane"),"Pages",{type:"panel",cssClass:"fLabel100",panelID:l+"Pages",format:"special",tip:"written_book"},e);var n="tellraw"==currentCommand||"Lore"==t||0==l.indexOf("text")&&"EntityName"==t?"<span class='fLabel100'>Image-to-Text</span><button class='greenPlus' id='"+l+"ShowImageJSON'>Load Image</button>"+makeTip("json.image")+"<div id='"+l+"ShowImageStatus'></div><br>":"",r="tellraw"==currentCommand?"tellrawmode":"Lore"==t?"loremode":0==l.indexOf("text")&&"EntityName"==t?"textdisplaymode":"",t="Lore"==o?"<span class='fLabel100'></span><span><a href=\"javascript:tellrawJson.flipPage('"+l+"',-1)\" class='greenPlus' title='Go to previous page'>&#8678;</a><span id='"+l+"pageNo' class='pageAndSection'></span><a href=\"javascript:tellrawJson.flipPage('"+l+"',1)\" class='greenPlus' title='Go to next page'>&#8680;</a><a href=\"javascript:tellrawJson.addPage('"+l+"')\" class='greenPlus'  title='Add a new page'>+</a><a href=\"javascript:deleteLoreLine('"+l+"')\" class='redX' title='Delete this page'>X</a><a href=\"javascript:tellrawJson.swapPage('"+l+"', -1)\" class='anchorButton' title='Swap with previous page'>&#8630</a><a href=\"javascript:tellrawJson.swapPage('"+l+"',1)\" class='anchorButton' title='Swap with next page'>&#8631</a></span><br>":"";$("#"+l+"Pages").html("<span id='"+l+"Setup' class='pageSetup'><br>"+n+t+"<span class='fLabel100'><a href=\"javascript:tellrawJson.gradientMaker('"+l+"','tellrawJson')\" class='anchorButton' title='Select some colors to spread accross the text'>Gradient Maker</a></span><span><a href=\"javascript:tellrawJson.flipSection('"+l+"',-1)\" class='greenPlus'  title='Go to previous section'>&#8678;</a><span id='"+l+"sectionNo' class='pageAndSection'></span><a href=\"javascript:tellrawJson.flipSection('"+l+"',1)\" class='greenPlus' title='Go to next section'>&#8680;</a><a href=\"javascript:tellrawJson.addSection('"+l+"')\" class='greenPlus' title='Add a new section'>+</a><a href=\"javascript:deleteTellrawSection('"+l+"')\" class='redX' title='Delete this section'>X</a><a href=\"javascript:tellrawJson.swapSection('"+l+"', -1)\" class='anchorButton' title='Swap with previous section'>&#8630</a><a href=\"javascript:tellrawJson.swapSection('"+l+"',1)\" class='anchorButton' title='Swap with next section'>&#8631</a></span></span><br><span class='pagePreviewFrame'><span id='"+l+"Preview' class='tellrawPreview roundedDiv'></span>"+addJSONCopyPasteButtons(l,"tellraw")+"</span>"),n.length&&$("#"+l+"ShowImageJSON").on("click",function(){var e=document.createElement("input");e.type="file",e.onchange=e=>{var e=e.target.files[0],t=new FileReader;t.onload=e=>{var i=new Image;i.onload=()=>{$("#"+l+"ShowImageStatus").html("<span class='fLabel100'>Loaded Image </span> <canvas id='"+l+"_canvas'></canvas><br><span class='fLabel100'>W</span><input type='text' class='medTF' id='"+l+"_w' value='"+i.naturalWidth+"'> H<input type='text' class='medTF' id='"+l+"_h' value='"+i.naturalHeight+"'>");let e=i.naturalWidth,t=i.naturalHeight;var a=document.getElementById(l+"_canvas"),o=a.getContext("2d"),n=(a.width=i.naturalWidth,a.height=i.naturalHeight,o.drawImage(i,0,0,i.naturalWidth,i.naturalHeight),o.getImageData(0,0,a.width,a.height)),s=($("#"+l+"_w, #"+l+"_h").on("keyup",function(){e=parseInt($("#"+l+"_w").val()),t=parseInt($("#"+l+"_h").val()),a.width=e,a.height=t,o.drawImage(i,0,0,i.naturalWidth,i.naturalHeight,0,0,e,t),n=o.getImageData(0,0,a.width,a.height)})," pixels and may not display as intended.<br>MCStacker can attempt to process it as is or you can adjust the width and height.<br>Your browser may appear to freeze during processing.");"loremode"==r&&93<i.naturalWidth&&48<i.naturalHeight?$("#"+l+"ShowImageStatus").append("<br>This image is not suitable for Lore as it is larger than 93x48"+s):"textdisplaymode"==r&&22<i.naturalWidth?$("#"+l+"ShowImageStatus").append("<br>This image is not suitable for text_display entites as it is wider than 22"+s):"tellrawmode"==r&&35<i.naturalWidth&&20<i.naturalHeight&&$("#"+l+"ShowImageStatus").append("<br>This image is not suitable for /tellraw as it is larger than 35x20"+s),$("#"+l+"ShowImageStatus").append("<br><span class='fLabel100'></span><button id='"+l+"ShowImageProcessButton' class='greenPlus'>Process Image</button><button id='"+l+"ShowImageClearButton' class='greenPlus'>Clear</button>"),$("#"+l+"ShowImageProcessButton").on("click",function(){"loremode"==r?processImageJSONForLore(l,e,t,n):"textdisplaymode"!=r&&"tellrawmode"!=r||processImageJSONForTellraw(l,e,t,n)}),$("#"+l+"ShowImageClearButton").on("click",function(){"loremode"!=r&&"textdisplaymode"!=r&&"tellrawmode"!=r||processImageJSONForLore(l,0,0,n)})},i.src=e.target.result},t.readAsDataURL(e)},e.click()}),$("#"+l+"Setup").append(`<br><span id='${l}gradientPane' class='roundedDiv'></span><br><span class='fLabel100'>component type</span><select id='${l}bookText_choice'><option value='text'>text</option><option value='translate'>translate</option><option value='keybind'>keybind</option></select>`),$(`#${l}gradientPane`).hide(),a&&$("#"+l+"bookText_choice").append("<option value='score'>score</option><option value='selector'>selector</option><option value='nbt'>nbt</option>"),$("#"+l+"Setup").append("<br><span class='fLabel100'>value</span><input type='text' id='"+l+"bookText_txt' class='tellrawUpdate verybigTF'>"+makeTip("json.value")),$("#"+l+"Setup").append("<br><span id='"+l+"extraComponents'></span>"),createComponent(l+"Setup","color",{type:"makeSelect",id:l+"color",values:jsonColors,format:"special",cssClass:"fLabel100",tip:"written_book",eventClass:"jsonHexColorUpdate"},e),$("#"+l+"Setup").append("<span id='"+l+"_colsettings'><input id='"+l+"_color' value='FF0000' class='medTF' onchange='tellrawUpdate(\""+l+"\")'></span>"),new jscolor.color(document.getElementById(l+"_color"),{}).fromString("FF0000"),$("#"+l+"_colsettings").hide(),$(".jsonHexColorUpdate").on("change",function(){jsonHexColorUpdate(l,tellrawJson.context)}),createComponent(l+"Setup","jsonFormats",{label:" ",type:"jsonFormats",id:l,cssClass:"fLabel100",format:"special",eventClass:"tellrawUpdate"},e),createComponent(l+"Setup","font",{type:"text",id:l+"font",cssClass:"fLabel100",format:"string",tip:"written_book",eventClass:"tellrawUpdate"},e),"tellraw"==currentCommand&&(createComponent(l+"Setup","clickEvent",{type:"choicetext",id:l+"clickEvent",values:["run_command","copy_to_clipboard","suggest_command","open_url"],format:"special",fwClass:"bigTF",cssClass:"fLabel100",tip:"written_book",eventClass:"tellrawUpdate"},e),createComponent(l+"Setup","hoverEvent",{type:"choicetext",id:l+"hoverEvent",values:["show_text","show_item","show_entity"],format:"special",cssClass:"fLabel100",fwClass:"bigTF",tip:"written_book",eventClass:"tellrawUpdate"},e),createComponent(l+"Setup","hoverEventFormat",{type:"panel",panelID:l+"hoverEventFormat",cssClass:"fLabel100",fwClass:"bigTF",eventClass:"tellrawUpdate"},e),makeHoverEventUI(l,"tellrawJson","tellrawUpdate")),$("#"+l+"bookText_choice").bind("change",function(){"score"==$("#"+l+"bookText_choice").val()?($("#"+l+"extraComponents").html("<span class='fLabel100'>objective</span><input type='text' id='"+l+"objective' class='bigTF tellrawUpdate'>"),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(l)})):"selector"==$("#"+l+"bookText_choice").val()?($("#"+l+"extraComponents").html("<span class='fLabel100'>separator</span><input type='text' id='"+l+"separator' class='bigTF tellrawUpdate'>"+makeTip("json.separator")),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(l)})):"translate"==$("#"+l+"bookText_choice").val()?($("#"+l+"extraComponents").html("<span class='fLabel100'>fallback</span><input type='text' id='"+l+"fallback' class='bigTF tellrawUpdate'>"+makeTip("json.fallback")+"<br><span class='fLabel100'>with</span><input type='text' id='"+l+"with' class='bigTF tellrawUpdate'>"+makeTip("json.with")),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(l)})):"nbt"==$("#"+l+"bookText_choice").val()?($("#"+l+"extraComponents").html("<span class='fLabel100'>target type</span><select id='"+l+"targetType'><option value='entity'>entity</option><option value='block'>block</option><option value='storage'>storage</option></select><br><span id='"+l+"nbtTarget'></span>"),changeNBTTargetType(l,e),bindTargetTypeChange(l,e)):$("#"+l+"extraComponents").html(""),$("#"+l+"bookText_txt").trigger("keyup")}),tellrawJson.makeNewTellraw(l),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(l)}),displaySectionValues(l,tellrawJson.getSection(l),tellrawJson.context)}function bindTargetTypeChange(e,t){$("#"+e+"targetType").bind("change",function(){changeNBTTargetType(e,t)})}function changeNBTTargetType(e,t){"entity"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>entity </span><input type='text' id='"+e+"nbtEntityTarget' class='tellrawUpdate bigTF'>"):"storage"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>storage </span><input type='text' id='"+e+"nbtStorageTarget' class='tellrawUpdate bigTF'>"):($("#"+e+"nbtTarget").html(makeCoords(e+"BlockNBT","Block",!0,!0)),$("#"+e+"nbtTarget span").removeClass("fLabel200").addClass("fLabel100"),$("#"+e+"BlockNBT").addClass("tellrawUpdate")),createComponent(e+"nbtTarget","interpret",{id:e+"interpret",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",eventClass:"tellrawUpdate"},t),$(".tellrawUpdate").on("change keyup",function(){tellrawUpdate(e)}),tellrawUpdate(e)}class TellRawJson extends Book{constructor(){super(),this.context="tellraw"}sectionsLengthForLine(e,t){return this.books[e].pages[t].length}makeNewTellraw(e){this.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0,cHoverEvent:0},this.books[e].pages.push([]),this.books[e].pages[0].push(new Section),this.books[e].pages[0][0].data.color="unset"}getJsonForTellrawExtraStyle(e){var t=$.extend({},this.books[e].pages[0][0].data),a=this.getFirstFormats(t);if(this.removeUnrequiredFormatting(a,t),1<this.books[e].pages[0].length){t.extra=[];for(var o=1;o<this.books[e].pages[0].length;o++)t.extra.push($.extend({},this.books[e].pages[0][o].data)),this.removeUnrequiredFormatting(a,t.extra[o-1])}return JSON.stringify(t)}getJsonForTellraw(e){try{if(""==this.books[e].pages[0][0].data.text)return"";var t=[this.books[e].pages[0][0].data],a=this.getFirstFormats(t[0]);if(this.removeUnrequiredFormatting(a,t[0]),1<this.books[e].pages[0].length){for(var o=1;o<this.books[e].pages[0].length;o++)""!=this.books[e].pages[0][o].data.text&&(t.push(this.books[e].pages[0][o].data),this.removeUnrequiredFormatting(a,t[t.length-1]));return removeUnsetFromJSON(JSON.stringify(t))}return removeUnsetFromJSON(JSON.stringify(t[0]))}catch(e){return""}}getJsonForLore(e){try{for(var t="",a=0;a<this.books[e].pages.length;a++){var o=[this.books[e].pages[a][0].data],n=this.getFirstFormats(o[0]);if(this.removeUnrequiredFormatting(n,o[0]),1<this.books[e].pages[a].length){o.extra=[];for(var s=1;s<this.books[e].pages[a].length;s++)""!=this.books[e].pages[a][s].data.text&&(o.push(this.books[e].pages[a][s].data),this.removeUnrequiredFormatting(n,o[o.length-1]));t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(o))))}else""!=this.books[e].pages[a][0].data.text&&(t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(o[0])))))}return",'{}'"==t?"":t}catch(e){return""}}getJsonForLootTableItemName(e){try{if(!this.books[e].pages[0][0].data.text&&!this.books[e].pages[0][0].data.translate&&!this.books[e].pages[0][0].data.keybind)return[];var t=[removeUnsetFromObject(this.books[e].pages[0][0].data)],a=this.getFirstFormats(t[0]);if(this.removeUnrequiredFormatting(a,t[0]),0<this.books[e].pages[0].length){for(var o=1;o<this.books[e].pages[0].length;o++)""==this.books[e].pages[0][o].data.text&&""==this.books[e].pages[0][o].data.translate&&""==this.books[e].pages[0][o].data.keybind||(t.push(removeUnsetFromObject(this.books[e].pages[0][o].data)),this.removeUnrequiredFormatting(a,t[t.length-1]));return t}return removeUnsetFromObject(t[0])}catch(e){return[]}}getJsonLoreForLootTables(e){try{for(var t=[],a=0;a<this.books[e].pages.length;a++){var o=[removeUnsetFromObject(this.books[e].pages[a][0].data)],n=this.getFirstFormats(o[0]);if(this.removeUnrequiredFormatting(n,o[0]),1<this.books[e].pages[a].length){o.extra=[];for(var s=1;s<this.books[e].pages[a].length;s++)""!=this.books[e].pages[a][s].data.text&&""!=this.books[e].pages[a][s].data.translate&&""!=this.books[e].pages[a][s].data.keybind&&(o.push(removeUnsetFromObject(this.books[e].pages[a][s].data)),this.removeUnrequiredFormatting(n,o[o.length-1]));t.push(o)}else""!=this.books[e].pages[a][0].data.text&&""!=this.books[e].pages[a][0].data.translate&&""!=this.books[e].pages[a][0].data.keybind&&t.push(removeUnsetFromObject(o[0]));jQuery.isEmptyObject(t[t.length-1])&&t.splice(t.length-1,1)}return t}catch(e){return[]}}}function loadLoreFromNBT(t,e,a){for(var o=e,n=0;n<o.length;n++){0!=n&&tellrawJson.addPage(t);let e;if(null!=(e=a?o[n]:JSON.parse(JSON.parse('"'+o[n]+'"'.replace(/\\[1]/g,"")))).extra){var s=e.extra;delete e.extra,tellrawJson.updateSection(t,e);for(var i=0;i<s.length;i++)tellrawJson.addSectionFromObject(t,new Section(s[i]))}else{if(Array.isArray(e))for(var l=0;l<e.length;l++)tellrawJson.addSectionFromObject(t,new Section(e[l]));else"string"==typeof e||e instanceof String?tellrawJson.addSectionFromObject(t,new Section({text:e})):tellrawJson.addSectionFromObject(t,new Section(e));tellrawJson.flipSection(t,1),tellrawJson.deleteSection(t)}}tellrawJson.flipPage(t,1)}function tellrawUpdate(e){var t,a={},o=replaceAll("\\n","\n",$("#"+e+"bookText_txt").val());"score"==$("#"+e+"bookText_choice").val()?a.score={name:o,objective:$("#"+e+"objective").val()}:"selector"==$("#"+e+"bookText_choice").val()?(a[$("#"+e+"bookText_choice").val()]=o,a.separator=replaceAll("\\n","\n",$("#"+e+"separator").val())):"translate"==$("#"+e+"bookText_choice").val()?(a[$("#"+e+"bookText_choice").val()]=o,a.fallback=replaceAll("\\n","\n",$("#"+e+"fallback").val()),a.with=$("#"+e+"with").val().split(",")):"nbt"==$("#"+e+"bookText_choice").val()?(a.nbt=o,"entity"==$("#"+e+"targetType").val()?a.entity=$("#"+e+"nbtEntityTarget").val():"storage"==$("#"+e+"targetType").val()?a.storage=$("#"+e+"nbtStorageTarget").val():(t=getCoordsString(e+"BlockNBT"),a.block=t[0]+" "+t[1]+" "+t[2]),1==$("#"+e+"interpret").val()?a.interpret=!0:0==$("#"+e+"interpret").val()&&(a.interpret=!1)):a[$("#"+e+"bookText_choice").val()]=o,a.font=$("#"+e+"font").val(),"Hex Code"==$("#"+e+"color").val()?a.color="#"+$("#"+e+"_color").val():a.color=$("#"+e+"color").val(),a.bold=$("input[name='"+e+"bold']:checked").val(),a.italic=$("input[name='"+e+"italic']:checked").val(),a.underlined=$("input[name='"+e+"underlined']:checked").val(),a.strikethrough=$("input[name='"+e+"strikethrough']:checked").val(),a.obfuscated=$("input[name='"+e+"obfuscated']:checked").val();try{"hoverEvent"in tellrawJson.books[e].pages[tellrawJson.books[e].cPage][tellrawJson.books[e].cSection].data&&(a.hoverEvent=tellrawJson.books[e].pages[tellrawJson.books[e].cPage][tellrawJson.books[e].cSection].data.hoverEvent)}catch(e){}"tellraw"==currentCommand&&("show_text"==$("#"+e+"hoverEvent_choice").val()?"hoverEvent"in a?(a.hoverEvent.action="show_text",a.hoverEvent.value[tellrawJson.books[e].cHoverEvent]={text:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())},a.hoverEvent.value[tellrawJson.books[e].cHoverEvent].font=$("#"+e+"hoverfont").val(),"Hex Code"==$("#"+e+"hoverColor").val()?a.hoverEvent.value[tellrawJson.books[e].cHoverEvent].color="#"+$("#"+e+"hover_color").val():a.hoverEvent.value[tellrawJson.books[e].cHoverEvent].color=$("#"+e+"hoverColor").val(),a.hoverEvent.value[tellrawJson.books[e].cHoverEvent].bold=$("input[name='"+e+"hoverbold']:checked").val(),a.hoverEvent.value[tellrawJson.books[e].cHoverEvent].italic=$("input[name='"+e+"hoveritalic']:checked").val(),a.hoverEvent.value[tellrawJson.books[e].cHoverEvent].underlined=$("input[name='"+e+"hoverunderlined']:checked").val(),a.hoverEvent.value[tellrawJson.books[e].cHoverEvent].strikethrough=$("input[name='"+e+"hoverstrikethrough']:checked").val(),a.hoverEvent.value[tellrawJson.books[e].cHoverEvent].obfuscated=$("input[name='"+e+"hoverobfuscated']:checked").val()):(tellrawJson.books[e].cHoverEvent=0,a.hoverEvent={action:"show_text",value:[{text:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())}]}):a.hoverEvent={action:$("#"+e+"hoverEvent_choice").val(),value:replaceAll("\\n","\n",$("#"+e+"hoverEvent_txt").val())}),showHideHoverEventFormatting(e,tellrawJson),"tellraw"==currentCommand&&$("#"+e+"clickEvent_txt").val().length&&(a.clickEvent={action:$("#"+e+"clickEvent_choice").val(),value:$("#"+e+"clickEvent_txt").val()}),a=Object.keys(a).sort().reduce((e,t)=>(e[t]=a[t],e),{}),tellrawJson.updateSection(e,a),deferJSONOutput||(tellrawPreview(e),hoverEventPreview(e,tellrawJson),generateCommand())}function sectionJSONPreview(e,t,a,o,n,s){function i(e,t){return"true"==e||1==e||(null==e||"unset"==e)&&("true"==t||1==t)}let l,r;r=s.books[e].cSection<s.books[e].cSectionLast?(l=s.books[e].cSection,s.books[e].cSectionLast):(l=s.books[e].cSectionLast,s.books[e].cSection);var c,p="<span onClick=\"loadJSONPartFromPreview('"+e+"',"+t+","+a+",'"+s.context+"')\" style='cursor: pointer;",t=(i(o.bold,n.bold)&&(p+="font-weight:bold;"),i(o.italic,n.italic)&&(p+="font-style:italic;"),i(o.strikethrough,n.strikethrough)&&(p+="text-decoration:line-through;"),t==s.books[e].cSection&&a==s.books[e].cPage&&(p+="border:solid 1px red;"),t>=l&&t<=r&&a==s.books[e].cPage&&(p+="background-color:#ddd;"),null==o.color||"unset"==o.color?-1!=e.indexOf("SignPane")?p+="color:"+s.htmlColorMap[$("#"+e+"BaseColor").val()]+";'":p+="color:"+s.htmlColorMap[n.color]+";'":"#"==o.color.charAt(0)?p+="color:"+o.color+";'":p+="color:"+s.htmlColorMap[o.color]+";'","");"clickEvent"in o&&(t+="clickEvent: action="+o.clickEvent.action+", value="+o.clickEvent.value),t.length&&(p+=" title='"+t+"'"),p+=">",i(o.underlined,n.underlined)&&(p+="<u>");try{c=replaceAll("\n","<br>",convertToNonBreakingSpaces(c=o.text||o.translate||o.keybind||o.selector||o.nbt||o.score.name||""))}catch(e){c=""}return i(o.obfuscated,n.obfuscated)?p+=function(e){for(var t="",a=0;a<e.length;a++)t+="\n"==e.charAt(a)?"\n":"*";return t}(c):p+=c,i(o.underlined,n.underlined)&&(p+="</u>"),p+="</span>"}function convertToNonBreakingSpaces(e){return e.replace(/ {2,}/g,function(e){return String.fromCharCode(160).repeat(e.length)})}function loadJSONPartFromPreview(e,t,a,o){"book"==o?(booksJson.books[e].cPage=a,booksJson.books[e].cSectionLast=booksJson.books[e].cSection,booksJson.books[e].cSection=t,booksJson.books[e].cHoverEvent=0,displaySectionValues(e,booksJson.getSection(e),o)):"tellraw"==o?(tellrawJson.books[e].cPage=a,tellrawJson.books[e].cSectionLast=tellrawJson.books[e].cSection,tellrawJson.books[e].cSection=t,tellrawJson.books[e].cHoverEvent=0,displaySectionValues(e,tellrawJson.getSection(e),o)):"sign"==o&&(signJson.books[e].cPage=a,signJson.books[e].cSectionLast=signJson.books[e].cSection,signJson.books[e].cSection=t,displaySectionValues(e,signJson.getSection(e),o))}function addJSONCopyPasteButtons(e,t){return"<br><a class='redX' href=\"javascript:cutJSONSections('"+e+"','"+t+"')\">Cut</a><a class='redX' href=\"javascript:copyJSONSections('"+e+"','"+t+"')\">Copy</a><a class='redX' href=\"javascript:pasteJSONSections('"+e+"','"+t+"')\">Paste</a>"+makeTip("json.CutCopyPaste")}function cutJSONSections(e,t){"book"==t?booksJson.cuttoJSONClipboard(e,t):"tellraw"==t?tellrawJson.cuttoJSONClipboard(e,t):"sign"==t&&signJson.cuttoJSONClipboard(e,t)}function copyJSONSections(e,t){"book"==t?booksJson.copytoJSONClipboard(e):"tellraw"==t?tellrawJson.copytoJSONClipboard(e):"sign"==t&&signJson.copytoJSONClipboard(e)}function pasteJSONSections(e,t){"book"==t?booksJson.pastetoJSONClipboard(e,t):"tellraw"==t?tellrawJson.pastetoJSONClipboard(e,t):"sign"==t&&signJson.pastetoJSONClipboard(e,t)}function makeHoverEventUI(e,t,a){let o="booksJson"==t?"book":"tellraw";$("#"+e+"hoverEventFormat").html('Hover Text Formatting<br><span><a href="javascript:'+t+".gradientMaker('"+e+"Hover','"+t+"')\" class='anchorButton' title='Select some colors to spread accross the text'>Gradient Maker</a><a href=\"javascript:"+t+".flipHoverSection('"+e+"',-1)\" class='greenPlus'  title='Go to previous section'>&#8678;</a><span id='"+e+"hoverSectionNo'></span><a href=\"javascript:"+t+".flipHoverSection('"+e+"',1)\" class='greenPlus' title='Go to next section'>&#8680;</a><a href=\"javascript:"+t+".addHoverSection('"+e+"')\" class='greenPlus' title='Add a new section'>+</a><a href=\"javascript:deleteHoverSection('"+e+"','"+o+"')\" class='redX' title='Delete this section'>X</a><a href=\"javascript:"+t+".swapHoverSection('"+e+"', -1)\" class='anchorButton' title='Swap with previous section'>&#8630</a><a href=\"javascript:"+t+".swapHoverSection('"+e+"',1)\" class='anchorButton' title='Swap with next section'>&#8631</a></span><br><span id='"+e+"HovergradientPane' class='roundedDiv'></span><br><span id='"+e+"HoverEventPreview' class='hoverPreview'></span>"),$("#"+e+"hoverEventFormat").addClass("roundedDiv"),$(`#${e}HovergradientPane`).hide(),createComponent(e+"hoverEventFormat","color",{type:"makeSelect",id:e+"hoverColor",values:jsonColors,format:"special",cssClass:"fLabel100",tip:"written_book",eventClass:"jsonHoverHexColorUpdate"},0),$("#"+e+"hoverEventFormat").append("<span id='"+e+"hoverColor_colsettings'><input id='"+e+"hover_color' value='FF0000' class='medTF' onchange='"+o+'Update("'+e+"\")'></span>"),new jscolor.color(document.getElementById(e+"hover_color"),{}).fromString("FF0000"),$("#"+e+"hoverColor_colsettings").hide(),$(".jsonHoverHexColorUpdate").on("change",function(){"Hex Code"==$("#"+e+"hoverColor").val()?$("#"+e+"hoverColor_colsettings").show():$("#"+e+"hoverColor_colsettings").hide(),("book"==o?bookUpdate:"sign"==o?signUpdate:tellrawUpdate)(e)}),createComponent(e+"hoverEventFormat","font",{type:"text",id:e+"hoverfont",cssClass:"fLabel100",format:"string",tip:"written_book",eventClass:a},0),createComponent(e+"hoverEventFormat","jsonFormats",{label:" ",type:"jsonFormats",id:e+"hover",cssClass:"fLabel100",format:"special",eventClass:a},0)}function showHideHoverEventFormatting(e,t){$("#"+e+"hoverEvent_txt")&&("show_text"==$("#"+e+"hoverEvent_choice").val()?$("#"+e+"hoverEventFormat").show():$("#"+e+"hoverEventFormat").hide())}function tellrawPreview(e){if(!deferJSONOutput){$("#"+e+"Preview").html("");for(var t=0;t<tellrawJson.books[e].pages.length;t++){for(var a=tellrawJson.getLineSection(e,t,0),o=0;o<tellrawJson.sectionsLengthForLine(e,t);o++){var n=tellrawJson.getLineSection(e,t,o);$("#"+e+"Preview").append(sectionJSONPreview(e,o,t,n,a,tellrawJson))}$("#"+e+"Preview").append("<br>")}}}function hoverEventPreview(t,a){$("#"+t+"hoverSectionNo").html(a.books[t].cHoverEvent+1+" of "+a.hoverSectionsLength(t)),$("#"+t+"HoverEventPreview").html("");var o=a.getLineSection(t,a.books[t].cPage,a.books[t].cSection);if("hoverEvent"in o&&"value"in o.hoverEvent)for(let e=0;e<o.hoverEvent.value.length;e++)$("#"+t+"HoverEventPreview").append(hoverEventJSONPreview(t,e,o.hoverEvent.value[e],o.hoverEvent.value[0],a))}function loadJSONHoverPartFromPreview(e,t,a){"book"==a?(booksJson.books[e].cHoverEvent=t,displaySectionValues(e,booksJson.getSection(e),a)):"tellraw"==a&&(tellrawJson.books[e].cHoverEvent=t,displaySectionValues(e,tellrawJson.getSection(e),a))}function hoverEventJSONPreview(e,t,a,o,n){function s(e,t){return"true"==e||1==e||(null==e||"unset"==e)&&("true"==t||1==t)}var i,l="<span onClick=\"loadJSONHoverPartFromPreview('"+e+"',"+t+",'"+n.context+"')\" style='cursor: pointer;";s(a.bold,o.bold)&&(l+="font-weight:bold;"),s(a.italic,o.italic)&&(l+="font-style:italic;"),s(a.strikethrough,o.strikethrough)&&(l+="text-decoration:line-through;"),t==n.books[e].cHoverEvent&&(l+="border:solid 1px red;"),null==a.color||"unset"==a.color?l+="color:"+n.htmlColorMap.white+";'":"#"==a.color.charAt(0)?l+="color:"+a.color+";'":l+="color:"+n.htmlColorMap[a.color]+";'",l+=">",s(a.underlined,o.underlined)&&(l+="<u>");try{i=replaceAll("\n","<br>",i=a.text||a.translate||a.keybind||a.selector||a.nbt||a.score.name||"")}catch(e){i=""}return s(a.obfuscated,o.obfuscated)?l+=function(e){for(var t="",a=0;a<e.length;a++)t+="\n"==e.charAt(a)?"\n":"*";return t}(i):l+=i,s(a.underlined,o.underlined)&&(l+="</u>"),l+="</span>"}class Block{constructor(e,t){this.blockNBT=t||{},this.bType=e}getBlockNBT(e=0){var t,a="";for(t in this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);return"CustomName"in this.blockNBT&&(a+=getCustomNameAndColor("#CustomName",e)),a.length?"{"+a.substr(1)+"}":a}generateForm(e=0){for(var t in this.blockNBT)createComponent("blockSpec"+e,t,this.blockNBT[t],e)}generateFormForFalling(e){for(var t in this.blockNBT)createComponent("blockSpec"+e,t,this.blockNBT[t],e)}loadValue(e,t,a,o){var n,s=o||0;if($("#"+t+s).length&&null!=this.blockNBT[t])if("text"==this.blockNBT[t].type||"choice"==this.blockNBT[t].type||"makeSelect"==this.blockNBT[t].type||"makeSelectWithIndexAndValues"==this.blockNBT[t].type||"makeSelectWithIndexes"==this.blockNBT[t].type){if("string"==this.blockNBT[t].format)"Potion"==t?$("#"+t+s).val(extractMinecraftID(a)):$("#"+t+s).val(a.replace(/\\"/g,'"').replace(/\\\\\\"/g,'\\"').replace(/\\'/g,"'"));else if("b"==this.blockNBT[t].format||"short"==this.blockNBT[t].format||"long"==this.blockNBT[t].format||"int"==this.blockNBT[t].format)$("#"+t+s).val(parseInt(a));else if("f"==this.blockNBT[t].format||"d"==this.blockNBT[t].format)$("#"+t+s).val(parseFloat(a));else if("special"==this.blockNBT[t].format)if("Tags"==t){for(var i="",l=0;l<a.length;l++)i+=","+a[l];$("#Tags"+s).val(i.substr(1))}else"CustomName"==t?(o=JSON.parse(JSON.parse('"'+a+'"'))).text&&$("#CustomName"+s).val(o.text):"Command"==t?($("#Command"+s).val(unEscapeForCommandBlock(a)),$):"Primary"!=t&&"Secondary"!=t||-1==a||$("#"+t+s).val(a)}else"ticks"==this.blockNBT[t].type?$("#"+t+s).val(a):"RecordItem"==t&&(showHide(t+s+"Pane",t+s+"SH"),setupItemSlotForNBT(t+s,a,e));else if("Items"==t)for(l=0;l<a.length;l++)setupItemSlotForNBT(replaceAll("b","",a[l].Slot.val)+"Slot"+s,a[l],e);else if("CustomName"==t){try{n=JSON.parse(JSON.parse('"'+a+'"'))}catch(e){n=JSON.parse(JSON.parse('"'+a.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON("CustomName"+s,n),showHide("CustomName"+s+"EntityName","CustomName"+s+"EntityNameSH")}else if(null!=this.blockNBT[t]&&"UUIDArray"==this.blockNBT[t].type)loadUUIDArrayNBT(t+s,a);else if("primary_effect"==t)$("#Primary"+s).val(extractMinecraftID(a));else if("secondary_effect"==t)$("#Secondary"+s).val(extractMinecraftID(a));else if("patterns"==t){let e="";for(const r of a)e+=`,{pattern:"minecraft:${extractMinecraftID(r.pattern.val)}",color:"${r.color.val}"}`;$("#BlockEntityTag"+s).val(`patterns:[${e.substring(1)}]`)}}}class DecoratedPot extends Block{constructor(e){super(e,{Sherd0:{label:"Sherd 1",type:"makeSelect",values:potterySherds,hasUnset:!0,format:"special",tip:"decorated_pot.sherd"},Sherd1:{label:"Sherd 2",type:"makeSelect",values:potterySherds,hasUnset:!0,format:"special"},Sherd2:{label:"Sherd 3",type:"makeSelect",values:potterySherds,hasUnset:!0,format:"special"},Sherd3:{label:"Sherd 4",type:"makeSelect",values:potterySherds,hasUnset:!0,format:"special"},LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:e},item:{type:"itemselect",forceConstruct:!0,tip:e}})}getBlockNBT(e=0){var t=getItemNBT("item"+e);let a="";return"{}"!=t&&(a+=",item:"+t),(a+=getDecoratedPotSherds("Sherd",e)+getNBTforKey("LootTable",this.blockNBT.LootTable,e)).length?"{"+a.substring(1)+"}":a}}function getDecoratedPotSherds(a,o){if(-1==$("#"+a+"0"+o).val()&&-1==$("#"+a+"1"+o).val()&&-1==$("#"+a+"2"+o).val()&&-1==$("#"+a+"3"+o).val())return"";{let t="";for(let e=0;e<4;e++)-1==$("#"+a+e+o).val()?t+=',"minecraft:brick"':t+=',"minecraft:'+$("#"+a+e+o).val()+'"';return",sherds:["+t.substring(1)+"]"}}function loadPotterySherds(t,a,o){for(let e=0;e<4;e++)$("#"+t+e+a).val(extractMinecraftID(o[e]))}class Banner extends Block{getBlockNBT(e=0){let t="";var a=$("#BlockEntityTag"+e).val();let o="";if(-1!=a.indexOf("Patterns:[")){let e=extractSegment("[","]",a.indexOf("Patterns:[")+9,a);if("[]"!=e){var n=/\d+/;for(const l of e=(e=e.substring(2,e.lastIndexOf("]")-1)).split("},{")){var s=l.match(n)[0],i=l.substring(l.indexOf("Pattern:")+9,l.lastIndexOf('"'));o+=`,{pattern:"minecraft:${bannerConvert[i]}",color:"${signColors[s]}"}`}t+=`,patterns:[${o.substring(1)}]`}}else if(-1!=a.indexOf("patterns")){let e=a.substring(a.indexOf("banner_patterns")+8);e=extractSegment("[","]",e.indexOf("["),e),t+=",patterns:"+e}return(t+=getCustomNameAndColor("#CustomName",e)).length?"{"+t.substr(1)+"}":t}}class Beacon extends Block{constructor(e){super(e,{CustomName:{type:"customNameJSON",format:"special",tip:"beacon.CustomName"},Lock:{type:"text",format:"string",tip:"block.Lock"},Levels:{type:"text",format:"int",tip:e},Primary:{type:"makeSelect",values:["speed","haste","strength","jump_boost","regeneration","resistance"],format:"special",hasUnset:!0,tip:e},Secondary:{type:"makeSelect",values:[["regeneration"]],format:"special",hasUnset:!0,tip:e}})}getBlockNBT(e=0){var t,a="";for(t in this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);return"-1"!=$("#Primary"+e).val()&&(a+=',primary_effect:"minecraft:'+$("#Primary"+e).val()+'"'),"-1"!=$("#Secondary"+e).val()&&(a+=',secondary_effect:"minecraft:'+$("#Secondary"+e).val()+'"'),(a+=getCustomNameAndColor("#CustomName",e)).length?"{"+a.substr(1)+"}":a}}class BlockWithSlots extends Block{constructor(e,t,a){var o={CustomName:{type:"customNameJSON",format:"special",tip:"block.CustomName"},Lock:{type:"text",format:"string",tip:"block.Lock"}};Object.assign(o,t);for(var n=0;n<a;n++)o[n+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+n};super(e,o),this.slots=a}getBlockNBT(e=0){var t,a="";for(t in this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);for(var o="",n=0;n<this.slots;n++){var s=getItemNBT(n+"Slot"+e);"{}"!=s&&(o+=",{Slot:"+n+"b,"+s.substr(1))}return o.length&&(a+=",Items:["+o.substr(1)+"]"),"furnace"!=this.bType&&"blast_furnace"!=this.bType&&"smoker"!=this.bType||(a+=getRecipesUsed("RecipesUsed"+e)),(a+=getCustomNameAndColor("#CustomName",e)).length?"{"+a.substr(1)+"}":a}}class SculkCatalyst extends Block{constructor(e){initSculkCatalystNBT(),super(e,sculkCatalystNBT)}getBlockNBT(e=0){e=getSculkCatalystNBT(e);return e.length?"{"+e.substr(1)+"}":e}}class BeeHiveNest extends Block{constructor(e){initBeeHiveNestNBT(),super(e,beeHiveNestNBT)}getBlockNBT(e=0){let t=getBeesForHiveNBT(e);return t.length&&(t=`,bees:[${t.substring(1)}]`),(t+=getTargetCompound(e,"flower_pos")).length?"{"+t.substring(1)+"}":t}}class campfire extends BlockWithSlots{constructor(e,t,a){for(var o={},n=0;n<a;n++)o[n+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+n},o[n+"CookingTime"]={type:"ticks",format:"special",tip:"campfire.CookingTime",label:"CookingTime "+n},o[n+"CookingTotalTime"]={type:"ticks",format:"special",tip:"campfire.CookingTotalTime",label:"CookingTotalTime "+n};super(e,o),delete this.blockNBT.CustomName,delete this.blockNBT.Lock,this.slots=a}getBlockNBT(e=0){var t,a="";for(t in this.blockNBT)a+=getNBTforKey(t,this.blockNBT[t],e);for(var o="",n="",s="",i=0;i<this.slots;i++){var l=getItemNBT(i+"Slot"+e);"{}"!=l&&(s+=",{Slot:"+i+"b,"+l.substr(1))}for(i=0;i<this.slots;i++)$("#"+i+"CookingTime"+e).val().length?o+=","+$("#"+i+"CookingTime"+e).val():o+=",0",$("#"+i+"CookingTotalTime"+e).val().length?n+=","+$("#"+i+"CookingTotalTime"+e).val():n+=",0";return",0,0,0,0"!=o&&(a+=",CookingTimes:[I;"+o.substr(1)+"]"),",0,0,0,0"!=n&&(a+=",CookingTotalTimes:[I;"+n.substr(1)+"]"),s.length&&(a+=",Items:["+s.substr(1)+"]"),a.length?"{"+a.substr(1)+"}":a}}class BrewingStand extends Block{constructor(e){for(var t={CustomName:{type:"customNameJSON",format:"special",tip:"block.CustomName"},Lock:{type:"text",format:"string",tip:"block.Lock"},BrewTime:{type:"ticks",tip:e},Fuel:{type:"text",format:"b",tip:e}},a=0;a<5;a++)t[a+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+a};super(e,t),this.slots=5}}function getCommandStatsFormNBT(){return{SuccessCountName:{type:"text",format:"string",tip:"commandStats"},SuccessCountObjective:{type:"text",format:"string",tip:"commandStats"},AffectedBlocksName:{type:"text",format:"string",tip:"commandStats"},AffectedBlocksObjective:{type:"text",format:"string",tip:"commandStats"},AffectedEntitiesName:{type:"text",format:"string",tip:"commandStats"},AffectedEntitiesObjective:{type:"text",format:"string",tip:"commandStats"},AffectedItemsName:{type:"text",format:"string",tip:"commandStats"},AffectedItemsObjective:{type:"text",format:"string",tip:"commandStats"},QueryResultName:{type:"text",format:"string",tip:"commandStats"},QueryResultObjective:{type:"text",format:"string",tip:"commandStats"}}}function getCommandBlockFieldsFormNBT(){return{CustomName:{type:"customNameJSON",format:"special",tip:"block.CustomName"},Command:{type:"text",format:"special",fwClass:"verybigTF",tip:"command_block"},SuccessCount:{type:"text",format:"int",tip:"command_block"},TrackOutput:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},powered:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},auto:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},conditionMet:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},UpdateLastExecution:{type:"choice",values:unsetTrueFalse,format:"b",tip:"command_block"},LastExecution:{type:"text",format:"long",tip:"command_block"}}}function escapeForCommandBlock(e){let t=e.replace(/\"/g,'\\"').replace(/\\\\"/g,'\\\\\\"');return t=(t=(t=(t=t.match(/\\{4}"/g)?t.replace(/\\{4}"/g,'\\\\\\\\\\"').replace(/\\{1}'/g,"\\\\'"):t).replace(/\\n/g,"\\\\n")).match(/\\{6}"/g)?t.replace(/\\{6}"/g,'\\\\\\\\\\\\\\"'):t).match(/\\{2}"/g)?t.replace(/\\{2}"/g,'\\\\\\"'):t}function unEscapeForCommandBlock(e){return e.replace(/\\'/g,"'").replace(/\\"/g,'"').replace(/\\\"/g,'"').replace(/\\\\\"/g,'\\"').replace(/\\{4}"/g,'\\\\\\"').replace(/\\\\n/g,"\\n")}class CommandBlock extends Block{constructor(e){super(e,{}),this.cbNBT=getCommandBlockFieldsFormNBT(),this.csNBT=getCommandStatsFormNBT(),Object.assign(this.blockNBT,this.cbNBT),Object.assign(this.blockNBT,this.csNBT)}getBlockNBT(e=0){var t="";for(a in this.cbNBT)t+=getNBTforKey(a,this.cbNBT[a],e);$("#Command"+e).val().length&&(t+=',Command:"'+escapeForCommandBlock($("#Command"+e).val())+'"');var a,o="";for(a in this.csNBT)o+=getNBTforKey(a,this.csNBT[a],e);return o.length&&(t+=",CommandStats:{"+o.substr(1)+"}"),(t+=getCustomNameAndColor("#CustomName",e)).length?"{"+t.substr(1)+"}":t}}class EndGateway extends Block{getBlockNBT(e=0){var t="",a=getNBTforKey("Age",this.blockNBT.Age,e);return a.length&&(t+=a),(a=getNBTforKey("ExactTeleport",this.blockNBT.ExactTeleport,e)).length&&(t+=a),(t+=getTargetCompound(e,"exit_portal")).length?"{"+t.substr(1)+"}":t}}class FlowerPot extends Block{getBlockNBT(e=0){var t="",e=$("#Item"+e).val();return-1!=e&&(t='{Item:"minecraft:',-1==e.indexOf(":")?t+=e+'"}':t+=e.split(":")[0]+'",Data:'+e.split(":")[1]+"}"),t}}class SusSand extends Block{getBlockNBT(e=0){var t=getItemNBT("item"+e);let a="";return"{}"!=t&&(a+=",item:"+t),(a+=getNBTforKey("LootTable",this.blockNBT.LootTable,e)).length?"{"+a.substring(1)+"}":""}}class JukeBox extends Block{getBlockNBT(e=0){e=getItemNBT("RecordItem"+e);return"{}"!=e?"{RecordItem:"+e+"}":""}}class Lectern extends Block{getBlockNBT(e=0){var t="",a=getItemNBT("Book"+e);return"{}"!=a&&(t+=",Book:"+a),(t+=getNBTforKey("Page",this.blockNBT.Page,e)).length?"{"+t.substr(1)+"}":t}}class Vault extends Block{constructor(e){super(e)}generateForm(e=0){createVaultUI("blockSpec"+e,e)}generateFormForFalling(e=0){this.generateForm(e)}getBlockNBT(e=0){let t=getVaultNBT("blockSpec"+e,e);return t=t.length?`{${t.substring(1)}}`:t}}class MobSpawner extends Block{constructor(e){super(e)}generateForm(e=0){createMonsterSpawnerUI("blockSpec"+e,e)}generateFormForFalling(e=0){this.generateForm(e)}getBlockNBT(e=0){let t=getMonsterSpawnerNBT("blockSpec"+e,e);return t=t.length?`{${t.substring(1)}}`:t}}class TrialSpawner extends MobSpawner{constructor(e){super(e)}generateForm(e=0){createTrialSpawnerUI("blockSpec"+e,e)}generateFormForFalling(e=0){this.generateForm(e)}getBlockNBT(e=0){let t=getTrialSpawnerNBT("blockSpec"+e,e);return t=t.length?`{${t.substring(1)}}`:t}}class crafter extends Block{constructor(e){super(e)}generateForm(e=0){createCrafterUI("blockSpec"+e,e)}generateFormForFalling(e=0){this.generateForm(e)}getBlockNBT(e=0){let t=getCrafterNBT("blockSpec"+e,e);return t=t.length?`{${t.substring(1)}}`:t}}class PlayerHead extends Block{constructor(e,t){super(e,t)}generateForm(e=0){var t="blockSpec"+e;createComponent("blockSpec"+e,"SkullOwner",{type:"text",cssClass:"fLabel200",fwClass:"bigTF",tip:"player_head.skullOwner"},e),$("#"+t).append("<br><span class='fLabel200'>Note Block Sound</span><select id='"+t+"sound'></select><input type='text' id='"+t+"sound_filter' placeholder='Filter' class='medTF' onkeyup=\"updateSoundSelect('"+t+"sound')\">"+makeTip("player_head","note_block_sound")),bindGenCom(t+"sound","change"),updateSoundSelect(t+"sound",!0)}generateFormForFalling(e=0){this.generateForm(e)}getBlockNBT(e=0){var e="blockSpec"+e,t=$("#SkullOwner0").val();return t.length&&(t=-1!=t.indexOf("profile={")?",profile:"+(t=extractSegment("{","}",t.indexOf("profile={")+8,t)):',profile:"'+t+'"'),"unset"!=$("#"+e+"sound").val()&&(t+=',note_block_sound:"minecraft:'+$("#"+e+"sound").val()+'"'),t.length?"{"+t.substr(1)+"}":t}}class Sign extends Block{constructor(e,t){super(e,t),this.csNBT=getCommandStatsFormNBT(),Object.assign(this.blockNBT,t),Object.assign(this.blockNBT,this.csNBT)}getBlockNBT(t=0){var e,a="",o="";for(e in this.csNBT)o+=getNBTforKey(e,this.csNBT[e],t);o.length&&(a+=",CommandStats:{"+o.substr(1)+"}");for(const s of[{panel:"SignPaneBack",nbt:"back_text"},{panel:"SignPane",nbt:"front_text"}]){let e="";-1!=$("#blockSpec"+t+s.panel+"BaseColor").val()&&(e+=',color:"'+$("#blockSpec"+t+s.panel+"BaseColor").val()+'"'),-1!=$("#blockSpec"+t+s.panel+"GlowingText").val()&&(e+=",has_glowing_text:"+$("#blockSpec"+t+s.panel+"GlowingText").val()+"b");var n=signJson.getJsonForSign("blockSpec"+t+s.panel);n.length&&(e+=n),e.length&&(a+=","+s.nbt+":{"+e.substring(1)+"}")}return(a+=getNBTforKey("is_waxed",this.blockNBT.is_waxed,t)).length?"{"+a.substr(1)+"}":a}generateForm(e=0){for(var t in this.blockNBT)createComponent("blockSpec"+e,t,this.blockNBT[t],e);$("#blockSpec"+e).append("<br><span id='blockSpec"+e+"ItemPane'></span>"),createSignForm("blockSpec"+e,e)}generateFormForFalling(e){this.generateForm(e)}}class SignJson extends Book{constructor(){super(),this.context="sign"}sectionsLengthForLine(e,t){return this.books[e].pages[t].length}makeNewSign(e){this.books[e]={pages:[],cPage:0,cSection:0,cSectionLast:0};for(var t=0;t<4;t++)this.books[e].pages.push([]),this.books[e].pages[t].push(new Section)}getJsonForSign(e){for(var t="",a=0,o=0;o<this.books[e].pages.length;o++){var n=[this.books[e].pages[o][0].data],s=this.getFirstFormats(n[0]);if(this.removeUnrequiredFormatting(s,n[0]),1==this.books[e].pages[o].length&&null!=this.books[e].pages[o][0].data.text&&""==this.books[e].pages[o][0].data.text&&(a++,t+=',\'{"text":""}\''),1<this.books[e].pages[o].length){n.extra=[];for(var i=1;i<this.books[e].pages[o].length;i++)""!=this.books[e].pages[o][i].data.text&&(n.push(this.books[e].pages[o][i].data),this.removeUnrequiredFormatting(s,n[n.length-1]));""!=this.books[e].pages[o][0].data.text&&(t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(n)))))}else""!=this.books[e].pages[o][0].data.text&&(t+=","+jsonConvert(JSON.stringify(removeUnsetFromJSON(JSON.stringify(n[0])))))}return 4==a?"":",messages:["+t.substring(1)+"]"}}function removeUnsetFromObject(e){for(key in e)"unset"!=e[key]&&""!=e[key]||delete e[key];return e}const replacements=[',"color":"unset"',',"font":""',',"bold":"unset"',',"italic":"unset"',',"underlined":"unset"',',"strikethrough":"unset"',',"obfuscated":"unset"',',"separator":""',',"fallback":""',',"with":[""]',',"hoverEvent":{"action":"show_text","value":[{"text":""}]}'];function removeUnsetFromJSON(e){let t=replaceAll(':"true"',":true",e);t=replaceAll(':"false"',":false",t);for(const o of replacements)t=replaceAll(o,"",t),t=replaceAll(o.substring(1),"",t);t=replaceAll("{,","{",t);var a=JSON.parse(t);if(Array.isArray(a)){for(let e=0;e<a.length;e++)a[e]=simplifyJSONinArray(a[e]);return JSON.stringify(a)}return simplifyJSON(a,t)}function simplifyJSONinArray(e){return 1<Object.keys(e).length||null==e.text||-1!=e.text.indexOf("\n")?e:e.text}function simplifyJSON(e,t){return 1<Object.keys(e).length||null==e.text||-1!=e.text.indexOf("\n")?t:`"${e.text}"`}function convert_contents_to_value(e){e=replaceAll('hoverEvent":{"action":"show_text","contents','hoverEvent":{"action":"show_text","value',e),e=replaceAll('hoverEvent":{"action":"show_item","contents','hoverEvent":{"action":"show_item","value',e);return replaceAll('hoverEvent":{"action":"show_entity","contents','hoverEvent":{"action":"show_entity","value',e)}function convert_value_to_contents(e){return null==e?e:(e=replaceAll('hoverEvent":{"action":"show_text","value','hoverEvent":{"action":"show_text","contents',e),e=replaceAll('hoverEvent":{"action":"show_item","value','hoverEvent":{"action":"show_item","contents',e),replaceAll('hoverEvent":{"action":"show_entity","value','hoverEvent":{"action":"show_entity","contents',e))}function createSignForm(e,t){null==signJson&&(signJson=new SignJson);for(const a of["SignPane","SignPaneBack"]){$("#"+e+"ItemPane").append("<div id='"+e+a+"'></div>");const o=e+a;$("#"+o).append("<hr>"+("SignPane"==a?"Front":"Back")),createComponent(o,"BaseColor",{type:"makeSelect",values:signColors,format:"string",tip:"sign",hasUnset:!0,align:"R",id:o+"BaseColor",eventClass:"signUpdate"+a},t),createComponent(o,"GlowingText",{type:"choice",values:unsetTrueFalse,format:"b",tip:"sign",id:o+"GlowingText",eventClass:"signUpdate"+a},t),createComponent(o,"Pages",{type:"panel",cssClass:"fLabel100",panelID:o+"Pages",format:"special",tip:"written_book"},t),$("#"+o+"Pages").append("<span class='pagePreviewFrame'><span><br><a href=\"javascript:signJson.flipPage('"+o+"',-1)\" class='greenPlus' title='Go to previous line'>&#8678;</a><span id='"+o+"pageNo'></span><a href=\"javascript:signJson.flipPage('"+o+"',1)\" class='greenPlus' title='Go to next line'>&#8680;</a><a href=\"javascript:signJson.swapPage('"+o+"', -1)\" class='anchorButton' title='Swap with previous line'>&#8630</a><a href=\"javascript:signJson.swapPage('"+o+"',1)\" class='anchorButton' title='Swap with next line'>&#8631</a></span><br><span id='"+o+"Preview' class='signPreview roundedDiv'></span>"+addJSONCopyPasteButtons(o,"sign")+"</span><span id='"+o+"Setup' class='pageSetup'><br><span class='fLabel100'><a href=\"javascript:signJson.gradientMaker('"+o+"','signJson')\" class='anchorButton' title='Select some colors to spread accross the text'>Gradient Maker</a></span><span><a href=\"javascript:signJson.flipSection('"+o+"',-1)\" class='greenPlus'  title='Go to previous section'>&#8678;</a><span id='"+o+"sectionNo'></span><a href=\"javascript:signJson.flipSection('"+o+"',1)\" class='greenPlus' title='Go to next section'>&#8680;</a><a href=\"javascript:signJson.addSection('"+o+"')\" class='greenPlus' title='Add a new section'>+</a><a href=\"javascript:deleteSignSection('"+o+"')\" class='redX' title='Delete this section'>X</a><a href=\"javascript:signJson.swapSection('"+o+"', -1)\" class='anchorButton' title='Swap with previous section'>&#8630</a><a href=\"javascript:signJson.swapSection('"+o+"',1)\" class='anchorButton' title='Swap with next section'>&#8631</a></span></span>"),$("#"+o+"Setup").append("<br><span id='"+o+"gradientPane' class='roundedDiv'></span><br><span class='fLabel100'>component type</span><select id='"+o+"bookText_choice'><option value='text'>text</option><option value='translate'>translate</option><option value='keybind'>keybind</option><option value='score'>score</option><option value='selector'>selector</option><option value='nbt'>nbt</option></select>"),$(`#${o}gradientPane`).hide(),$("#"+o+"Setup").append("<br><span class='fLabel100'>value</span><input type='text' id='"+o+"bookText_txt' class='signUpdate"+a+" bigTF'>"),$("#"+o+"Setup").append("<br><span id='"+o+"extraComponents'></span>"),createComponent(o+"Setup","color",{type:"makeSelect",id:o+"color",values:jsonColors,format:"special",cssClass:"fLabel100",tip:"written_book",eventClass:"jsonHexColorUpdate"+a},t),$("#"+o+"Setup").append("<span id='"+o+"_colsettings'><input id='"+o+"_color' value='FF0000' class='medTF' onchange='signUpdate(\""+o+"\")'></span>"),new jscolor.color(document.getElementById(o+"_color"),{}).fromString("FF0000"),$("#"+o+"_colsettings").hide(),$(".jsonHexColorUpdate"+a).on("change",function(){jsonHexColorUpdate(o,signJson.context)}),createComponent(o+"Setup","jsonFormats",{label:" ",type:"jsonFormats",id:o,cssClass:"fLabel100",format:"special",eventClass:"signUpdate"+a},t),createComponent(o+"Setup","font",{type:"text",id:o+"font",cssClass:"fLabel100",format:"string",tip:"written_book",eventClass:"signUpdate"+a},t),createComponent(o+"Setup","clickEvent",{type:"choicetext",id:o+"clickEvent",values:["run_command"],format:"special",fwClass:"bigTF",cssClass:"fLabel100",tip:"written_book",eventClass:"signUpdate"+a},t),$("#"+o+"bookText_choice").bind("change",function(){"score"==$("#"+o+"bookText_choice").val()?($("#"+o+"extraComponents").html("<span class='fLabel100'>objective</span><input type='text' id='"+o+"objective' class='bigTF signUpdate"+a+"'>"),$(".signUpdate"+a).on("change keyup",function(){signUpdate(o,a)})):"selector"==$("#"+o+"bookText_choice").val()?($("#"+o+"extraComponents").html("<span class='fLabel100'>separator</span><input type='text' id='"+o+"separator' class='bigTF signUpdate"+a+"'>"+makeTip("json.separator")),$(".signUpdate"+a).on("change keyup",function(){signUpdate(o,a)})):"translate"==$("#"+o+"bookText_choice").val()?($("#"+o+"extraComponents").html("<span class='fLabel100'>fallback</span><input type='text' id='"+o+"fallback' class='bigTF signUpdate"+a+"'>"+makeTip("json.fallback")+"<br><span class='fLabel100'>with</span><input type='text' id='"+o+"with' class='bigTF signUpdate"+a+"'>"+makeTip("json.with")),$(".signUpdate"+a).on("change keyup",function(){signUpdate(o,a)})):"nbt"==$("#"+o+"bookText_choice").val()?($("#"+o+"extraComponents").html("<span class='fLabel100'>target type</span><select id='"+o+"targetType'><option value='entity'>entity</option><option value='block'>block</option><option value='storage'>storage</option></select><br><span id='"+o+"nbtTarget'></span>"),changeNBTTargetTypeSign(o,t,a),bindTargetTypeChangeSign(o,t,a)):$("#"+o+"extraComponents").html(""),$("#"+o+"bookText_txt").trigger("keyup")}),signJson.makeNewSign(o),$(".signUpdate"+a).on("change keyup",function(){signUpdate(o,a)}),displaySectionValues(o,signJson.getSection(o),signJson.context)}}function bindTargetTypeChangeSign(e,t,a){$("#"+e+"targetType").bind("change",function(){changeNBTTargetTypeSign(e,t,a)})}function changeNBTTargetTypeSign(e,t,a){"entity"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>entity </span><input type='text' id='"+e+"nbtEntityTarget' class='signUpdate"+a+" bigTF'>"):"storage"==$("#"+e+"targetType").val()?$("#"+e+"nbtTarget").html("<span class='fLabel100'>storage </span><input type='text' id='"+e+"nbtStorageTarget' class='signUpdate"+a+" bigTF'>"):($("#"+e+"nbtTarget").html("<span class='fLabel100'>block </span> X<input type='text' id='"+e+"nbtBlockTargetX' class='signUpdate"+a+" smallTF'>Y<input type='text' id='"+e+"nbtBlockTargetY' class='signUpdate"+a+" smallTF'>Z<input type='text' id='"+e+"nbtBlockTargetZ' class='tellrawUpdate smallTF'>"),$("#"+e+"nbtTarget").html(makeCoords(e+"BlockNBT","Block",!0,!0)),$("#"+e+"nbtTarget span").removeClass("fLabel200").addClass("fLabel100"),$("#"+e+"BlockNBT").addClass("signUpdate"+a)),createComponent(e+"nbtTarget","interpret",{id:e+"interpret",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",eventClass:"signUpdate"+a},t),$(".signUpdate"+a).on("change keyup",function(){signUpdate(e,a)}),signUpdate(e,a)}function signUpdate(e,t){var a,t="SignPaneBack"==(t=t||-1!=e.indexOf("SignPaneBack")?"SignPaneBack":"SignPane")?e:e.replace("SignPaneBack","SignPane"),e={},o=replaceAll("\\n","\n",$("#"+t+"bookText_txt").val());"score"==$("#"+t+"bookText_choice").val()?e.score={name:o,objective:$("#"+t+"objective").val()}:"selector"==$("#"+t+"bookText_choice").val()?(e[$("#"+t+"bookText_choice").val()]=o,e.separator=replaceAll("\\n","\n",$("#"+t+"separator").val())):"translate"==$("#"+t+"bookText_choice").val()?(e[$("#"+t+"bookText_choice").val()]=o,e.fallback=replaceAll("\\n","\n",$("#"+t+"fallback").val()),e.with=$("#"+t+"with").val().split(",")):"nbt"==$("#"+t+"bookText_choice").val()?(e.nbt=o,"entity"==$("#"+t+"targetType").val()?e.entity=$("#"+t+"nbtEntityTarget").val():"storage"==$("#"+t+"targetType").val()?e.storage=$("#"+t+"nbtStorageTarget").val():(a=getCoordsString(t+"BlockNBT"),e.block=a[0]+" "+a[1]+" "+a[2]),1==$("#"+t+"interpret").val()?e.interpret=!0:0==$("#"+t+"interpret").val()&&(e.interpret=!1)):e[$("#"+t+"bookText_choice").val()]=o,e.font=$("#"+t+"font").val(),"Hex Code"==$("#"+t+"color").val()?e.color="#"+$("#"+t+"_color").val():e.color=$("#"+t+"color").val(),e.bold=$("input[name='"+t+"bold']:checked").val(),e.italic=$("input[name='"+t+"italic']:checked").val(),e.underlined=$("input[name='"+t+"underlined']:checked").val(),e.strikethrough=$("input[name='"+t+"strikethrough']:checked").val(),e.obfuscated=$("input[name='"+t+"obfuscated']:checked").val(),$("#"+t+"clickEvent_txt").val().length&&(e.clickEvent={action:$("#"+t+"clickEvent_choice").val(),value:$("#"+t+"clickEvent_txt").val()}),signJson.updateSection(t,e),deferJSONOutput||(signPreview(t),generateCommand())}function signPreview(e){$("#"+e+"Preview").html("");for(var t=0;t<4;t++){for(var a=signJson.getLineSection(e,t,0),o=0;o<signJson.sectionsLengthForLine(e,t);o++){var n=signJson.getLineSection(e,t,o);$("#"+e+"Preview").append(sectionJSONPreview(e,o,t,n,a,signJson))}$("#"+e+"Preview").append("<br>")}}function deleteSignSection(e){1==signJson.sectionsLength(e)?(signJson.books[e].pages[signJson.books[e].cPage]=[new Section],displaySectionValues(e,signJson.books[e].pages[signJson.books[e].cPage][0].data,signJson.context)):displaySectionValues(e,signJson.deleteSection(e),signJson.context)}class area_effect_cloud extends Entity{constructor(e,t){super(e,t),this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"},ParticlePanel:{type:"panel",label:"Particle",panelID:"partPanel"+e,tip:t,align:"R"},ParticleOptions:{type:"panel",label:"",panelID:"aec"+e,tip:t,align:"R"},ReapplicationDelay:{type:"ticks",tip:"area_effect_cloud",align:"R"},Radius:{type:"text",format:"f",tip:"area_effect_cloud",align:"R"},RadiusPerTick:{type:"text",format:"f",tip:"area_effect_cloud",align:"R"},RadiusOnUse:{type:"text",format:"f",tip:"area_effect_cloud",align:"R"},Duration:{type:"ticks",tip:"area_effect_cloud",align:"R"},DurationOnUse:{type:"text",format:"f",tip:"area_effect_cloud",align:"R"},Age:{type:"ticks",tip:"area_effect_cloud",align:"R"},WaitTime:{type:"ticks",tip:"area_effect_cloud",align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:t,playerLookup:!0},Color:{type:"colorChooser",format:"special",tip:"area_effect_cloud",align:"R"},Potion:{type:"makeSelectWithIndexAndValues",values:potions,format:"special",tip:"area_effect_cloud",align:"R"},Effects:{label:"effects",type:"statusEffects",format:"special",tip:"area_effect_cloud",align:"R"}}}loadNewParticleFormat(t){$("#name"+this.stackPos).val(t.type.val),$("#name"+this.stackPos).trigger("change");let e;switch(t.type.val){case"dust":null!=t.color&&(e=floatToHex(t.color.val[0])+floatToHex(t.color.val[1])+floatToHex(t.color.val[2]),new jscolor.color(document.getElementById(`aec${this.stackPos}Color_color`),{}).fromString(e.toUpperCase())),null!=t.scale&&$("#dustSize"+this.stackPos).val(t.scale.val);break;case"dust_color_transition":null!=t.from_color&&(e=floatToHex(t.from_color.val[0])+floatToHex(t.from_color.val[1])+floatToHex(t.from_color.val[2]),new jscolor.color(document.getElementById(`aec${this.stackPos}Color_color`),{}).fromString(e.toUpperCase())),null!=t.to_color&&(e=floatToHex(t.to_color.val[0])+floatToHex(t.to_color.val[1])+floatToHex(t.to_color.val[2]),new jscolor.color(document.getElementById(`aec${this.stackPos}Color_color_to`),{}).fromString(e.toUpperCase())),null!=t.scale&&$("#dustSize"+this.stackPos).val(t.scale.val);break;case"block":case"block_marker":case"falling_dust":case"dust_pillar":if(null!=t.block_state){let e;if(e=null!=t.block_state.val.Name?extractMinecraftID113(t.block_state.val.Name.val):extractMinecraftID113(t.block_state.val),!$("#block"+this.stackPos+" option[value='"+e+"']").length)throw new MCSException(e+" is not a block id");if($("#block"+this.stackPos).val(e),$("#block"+this.stackPos).trigger("change"),null!=t.block_state.val.Properties)for(var a in t.block_state.val.Properties.val)$(`#${a}BS`+this.stackPos).val(t.block_state.val.Properties.val[a].val)}break;case"item":null!=t.item&&$("#item"+this.stackPos).val(extractMinecraftID((null!=t.item.val.id?t.item.val.id:t.item).val))}}loadParticleAndOptions(e){var e=e.split(" ");e[0]=extractMinecraftID(e[0]),$("#name"+this.stackPos).val(e[0]),$("#name"+this.stackPos).trigger("change"),"item"==e[0]&&2<=e.length?$("#item"+this.stackPos).val(e[1]):"block"==e[0]&&2<=e.length?$("#block"+this.stackPos).val(e[1]):"dust"==e[0]&&5<=e.length&&($("#dustSize"+this.stackPos).val(e[4]),e=floatToHex(e[1])+floatToHex(e[2])+floatToHex(e[3]),new jscolor.color(document.getElementById("aec"+this.stackPos+"Color_color"),{}).fromString(e.toUpperCase()))}getEntitySpecificCommand(e){var t="";if("unset"!=$("#name"+this.stackPos).val()){if(t+=`,Particle:{type:"${$("#name"+this.stackPos).val()}"`,"item"==$("#name"+this.stackPos).val())-1!=$("#item"+this.stackPos).val()&&(t+=`,item:"${$("#item"+this.stackPos).val()}"`);else if("block"==$("#name"+this.stackPos).val()||"block_marker"==$("#name"+this.stackPos).val()||"dust_pillar"==$("#name"+this.stackPos).val()||"falling_dust"==$("#name"+this.stackPos).val()){if(-1!=$("#block"+this.stackPos).val())if($("#block"+this.stackPos).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+this.stackPos).val()])"unset"!=$("#"+a+"BS"+this.stackPos).val()&&(o+=","+a+':"'+$("#"+a+"BS"+this.stackPos).val()+'"');0!=o.length?t+=`,block_state:{Name:"minecraft:${$("#block"+this.stackPos).val()}",Properties:{${o.substring(1)}}}`:t+=`,block_state:"minecraft:${$("#block"+this.stackPos).val()}"`}else t+=`,block_state:"minecraft:${$("#block"+this.stackPos).val()}"`}else"dust"==$("#name"+this.stackPos).val()?(n=$(`#aec${this.stackPos}Color_color`).val(),t+=`,color:[${parseFloat(hexToR(n)/255).toFixed(3)},${parseFloat(hexToG(n)/255).toFixed(3)},${parseFloat(hexToB(n)/255).toFixed(3)}],scale:`+parseFloat($("#dustSize"+this.stackPos).val())):"dust_color_transition"==$("#name"+this.stackPos).val()&&(n=$(`#aec${this.stackPos}Color_color`).val(),t+=`,from_color:[${parseFloat(hexToR(n)/255).toFixed(3)},${parseFloat(hexToG(n)/255).toFixed(3)},${parseFloat(hexToB(n)/255).toFixed(3)}],scale:`+parseFloat($("#dustSize"+this.stackPos).val()),n=$(`#aec${this.stackPos}Color_color_to`).val(),t+=`,to_color:[${parseFloat(hexToR(n)/255).toFixed(3)},${parseFloat(hexToG(n)/255).toFixed(3)},${parseFloat(hexToB(n)/255).toFixed(3)}]`);t+="}"}for(a in this.entityNBT)t+=getNBTforKey(a,this.entityNBT[a],e);var n=getPotion("potion","Potion"+this.stackPos)+getColorInteger("Color"+this.stackPos,"custom_color")+getStatusEffectsNBT("custom_effects","Effects"+this.stackPos);return n.length&&(t+=`,potion_contents:{${n.substring(1)}}`),t=(t+=getMotion(this.stackPos,"Motion")+getRotation(this.stackPos)+getTargetingTags(this.stackPos)+getPassengersNBT(this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}generateForm(){super.generateForm(),$("#partPanel"+this.stackPos).append("<select id='name"+this.stackPos+"'></select><input type='text' id='name"+this.stackPos+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateParticleSelect('name"+this.stackPos+"','area_effect_cloud')\">"+makeTip("area_effect_cloud","Particle")),loadParticleOptions("name"+this.stackPos,"area_effect_cloud");let o=this.stackPos;$("#name"+this.stackPos).bind("change",function(){let e=" ";if("item"==$("#name"+o).val()){for(var t in e+="<span class='fLabel200'>Item</span><select id='item"+o+"' onchange='javascript:generateCommand();'>",itemsAndBlocks)"t"!=itemsAndBlocks[t].c&&(e+="<option value='"+t+"'>"+itemsAndBlocks[t].d+"</option>");e+="</select><input type='text' id='item"+o+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateItemSelectOptions('#item"+o+"')\">",$("#aec"+o).html(e)}else if("block"==$("#name"+o).val()||"block_marker"==$("#name"+o).val()||"dust_pillar"==$("#name"+o).val()||"falling_dust"==$("#name"+o).val()){for(var a in e+="<span class='fLabel200'>Block</span><select id='block"+o+"'  onchange='javascript:fallingBlockChange("+o+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[a].c&&(e+="<option value='"+a+"'>"+itemsAndBlocks[a].d+"</option>");e+="</select><input type='text' id='block"+o+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateTileSelectOptions('#block"+o+"',false)\"><span id='blockSpec"+o+"'></span>",$("#aec"+o).html(e)}else"dust_color_transition"==$("#name"+o).val()||"dust"==$("#name"+o).val()?($("#aec"+o).html("<span class='fLabel200'>Size</span><input id='dustSize"+o+"' type='text' value='1' class='medTF' >"+makeTip("particle113","dustSize")+"<br><span class='fLabel200'>Color</span><input id='aec"+o+"Color_color' value='FF0000' onchange='generateCommand()'></input>"),bindGenCom("dustSize"+o,"keyup"),new jscolor.color(document.getElementById("aec"+o+"Color_color"),{}).fromString("FF0000"),"dust_color_transition"==$("#name"+o).val()&&($("#aec"+o).append("<br><span class='fLabel200'>To Color</span><input id='aec"+o+"Color_color_to' value='FF0000' onchange='generateCommand()'></input>"),new jscolor.color(document.getElementById("aec"+o+"Color_color_to"),{}).fromString("FF0000")),generateCommand()):$("#aec"+o).empty();generateCommand()})}}class armor_stand extends Entity{constructor(e,t){super(e,t),this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Team:{type:"text",format:"string",tip:"mob"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Silent:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Air:{type:"ticks",tip:"entity"},Glowing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},DeathTime:{type:"ticks",tip:"mob",align:"R"},ShowArms:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},Small:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},Marker:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},Invisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},NoBasePlate:{type:"choice",values:unsetTrueFalse,format:"b",tip:"armor_stand",align:"R"},ActiveEffects:{type:"statusEffects",format:"special",tip:"mob",align:"R"},PersistenceRequired:{type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},Health:{type:"text",format:"f",tip:"mob",align:"R"},SleepingX:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},SleepingY:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},SleepingZ:{type:"text",format:"int",tip:"mob.sleeping",align:"R"},Holding:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Offhand:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Head:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Body:{label:"Chest",type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Leg:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},Boot:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"},BodyArmorItem:{type:"itemselect",format:"special",hide:!0,tip:"mob",align:"R"}};for(var a=0;a<attributeModifiers116.length;a++)"generic"==getAttributeType(attributeModifiers116[a])&&(this.entityNBT["attrib_"+attributeModifiers116[a]]={label:attributeModifiers116[a],type:"text",format:"special",tip:"mob."+attributeModifiers116[a],align:"R"});this.poseparts=new Array("Body","LeftArm","RightArm","LeftLeg","RightLeg","Head")}getEntitySpecificCommand(e){var t,a="";for(t in this.entityNBT)a+=getNBTforKey(t,this.entityNBT[t],e);return a=(a+=getMotion(this.stackPos,"Motion")+getTargetingTags(this.stackPos)+this.getArmorStandAttributes()+this.armorStandPose()+this.armorStandDisabledSlotBitField()+getPassengersNBT(this.stackPos)+getRotation(this.stackPos)+getHandAndArmorItmes(this.stackPos)+getStatusEffectsNBT("active_effects","ActiveEffects"+this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}loadPoseNBT(e){showHide("Pose"+this.stackPos,"Pose"+this.stackPos+"SH");for(var t=0;t<this.poseparts.length;t++)null!=e[this.poseparts[t]]&&($("#Pose"+this.stackPos+"_"+t+"_x").val(parseFloat(e[this.poseparts[t]].val[0])),$("#Pose"+this.stackPos+"_"+t+"_y").val(parseFloat(e[this.poseparts[t]].val[1])),$("#Pose"+this.stackPos+"_"+t+"_z").val(parseFloat(e[this.poseparts[t]].val[2])))}armorStandPose(){for(var t="",a=new Array("x","y","z"),o=0;o<this.poseparts.length;o++){var n="";let e=!1;for(var s=0;s<a.length;s++)"f"==n.charAt(n.length-1)&&(n+=","),0<$("#Pose"+this.stackPos+"_"+o+"_"+a[s]).val().length?(e=!0,n+=$("#Pose"+this.stackPos+"_"+o+"_"+a[s]).val()+"f"):n+="0f";e&&(t+=","+this.poseparts[o]+":["+n+"]")}return t.length?",Pose:{"+t.substring(1)+"}":t}loadDisabledSlotsNBT(e){showHide("DisabledSlots"+this.stackPos,"DisabledSlots"+this.stackPos+"SH");var t=[],a=1,o=[1,256,65536];t.push(0);for(var n=0;n<3;n++)for(var a=o[n],s=0;s<6;s++)t.push(a),a*=2;for(var n=2,i=5,s=t.length-2;0<=s;s--)t[s+1]<=e&&(e-=t[s+1],$("#DisabledSlot"+this.stackPos+"_"+i+"_"+dsOperation[n]).prop("checked",!0)),--i<0&&(n--,i=5)}armorStandDisabledSlotBitField(){for(var e=0,t=0;t<6;t++)$("#DisabledSlot"+this.stackPos+"_"+t+"_remove").is(":checked")&&(e+=1<<t+0),$("#DisabledSlot"+this.stackPos+"_"+t+"_replace").is(":checked")&&(e+=1<<t+8),$("#DisabledSlot"+this.stackPos+"_"+t+"_place").is(":checked")&&(e+=1<<t+16);return 0!=e?",DisabledSlots:"+e:""}getArmorStandAttributes(){for(var e="",t=0;t<attributeModifiers116.length;t++)"generic"==getAttributeType(attributeModifiers116[t])&&0<$("#attrib_"+attributeModifiers116[t]+this.stackPos).val().length&&(e+=`,{id:"minecraft:generic.${attributeModifiers116[t]}",base:${$("#attrib_"+attributeModifiers116[t]+this.stackPos).val()}}`);return e.length?",attributes:["+e.substring(1)+"]":e}generateForm(){super.generateForm(),$("#entityPane"+this.stackPos+"R").append("<br><span class='fLabel200'>Pose</span>"+mkShowHide("Pose"+this.stackPos,"Pose"+this.stackPos+"SH")+"<div id='Pose"+this.stackPos+"' class='PoseControl roundedDiv'></div>"+makeTip("armor_stand","Pose"));for(var e=new Array("Body","Left Arm","Right Arm","Left Leg","Right Leg","Head"),t=new Array("x","y","z"),a="<table class='aTable'><tr><td></td><td>X&nbsp;Rotation</td><td>Y&nbsp;Rotation</td><td>Z&nbspRotation</td></tr>",o=0;o<e.length;o++){a+="<tr><td>"+e[o]+"</td>";for(var n=0;n<t.length;n++)a+="<td><input type='text' class='smallTF' id='Pose"+this.stackPos+"_"+o+"_"+t[n]+"' title='"+e[o]+" "+t[n].toUpperCase()+" Rotation'></td>";a+="</tr>"}a+="</table>Import Pose<input type='text' id='importPose"+this.stackPos+"' class='bigTF'> "+makeButton("Import","importPose("+this.stackPos+")","Import Generated Pose")+makeTip("armor_stand","ImportPose"),showHide("Pose"+this.stackPos,"Pose"+this.stackPos+"SH"),$("#Pose"+this.stackPos).html(a);for(o=0;o<e.length;o++)for(n=0;n<t.length;n++)bindGenCom("Pose"+this.stackPos+"_"+o+"_"+t[n],"keyup");$("#entityPane"+this.stackPos+"R").append("<br><span class='fLabel200'>Disabled Slots</span>"+mkShowHide("DisabledSlots"+this.stackPos,"DisabledSlots"+this.stackPos+"SH")+"<div id='DisabledSlots"+this.stackPos+"' class='DisabledSlotsControl roundedDiv'></div>"+makeTip("armor_stand","DisabledSlots"));for(var s="<table class='aTable'><tr><td><input type='checkbox' id='DisabledSlotAll"+this.stackPos+"' onClick='allDisabledSlots("+this.stackPos+")'> </td><td width=60 align=left>Remove</td><td width=60 align=left>Replace</td><td width=60 align=left>Place</td></tr>",o=0;o<disabledSlots.length;o++){s+="<tr><td>"+disabledSlots[o]+"</td>";for(n=0;n<dsOperation.length;n++)s+="<td><input type='checkbox' id='DisabledSlot"+this.stackPos+"_"+o+"_"+dsOperation[n]+"'></td>";s+="</tr>"}s+="</table>",showHide("DisabledSlots"+this.stackPos,"DisabledSlots"+this.stackPos+"SH"),$("#DisabledSlots"+this.stackPos).html(s);for(o=0;o<disabledSlots.length;o++)for(n=0;n<dsOperation.length;n++)bindGenCom("DisabledSlot"+this.stackPos+"_"+o+"_"+dsOperation[n],"change")}}function importPose(e){var t=new Array("Body","LeftArm","RightArm","LeftLeg","RightLeg","Head");let a=$("#importPose"+e).val();a=(a=extractSegment("{","}",a.indexOf("Pose:")+5,a)).substr(1,a.length-2);for(var o=0;o<t.length;o++){var n=a.indexOf(t[o]);-1!=n?(n=(part=(part=extractSegment("[","]",n+t[o].length+1,a)).substr(1,part.length-2)).split(","),$("#Pose"+e+"_"+o+"_x").val(parseFloat(n[0])),$("#Pose"+e+"_"+o+"_y").val(parseFloat(n[1])),$("#Pose"+e+"_"+o+"_z").val(parseFloat(n[2]))):($("#Pose"+e+"_"+o+"_x").val(""),$("#Pose"+e+"_"+o+"_y").val(""),$("#Pose"+e+"_"+o+"_z").val(""))}generateCommand()}function allDisabledSlots(e){for(var t=0;t<disabledSlots.length;t++)for(var a=0;a<dsOperation.length;a++)$("#DisabledSlot"+e+"_"+t+"_"+dsOperation[a]).prop("checked",$("#DisabledSlotAll"+e).is(":checked"));generateCommand()}class BreedableMob extends Mob{constructor(e,t,a){super(e,t),this.breedNBT={InLove:{type:"ticks",tip:"breedable",align:"R"},Age:{type:"ticks",tip:"breedable",align:"R"},ForcedAge:{type:"ticks",tip:"breedable",align:"R"},LoveCause:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"breedable"}},null!=a&&Object.assign(this.breedNBT,a)}generateForm(){Object.assign(this.mobNBT,this.breedNBT),super.generateForm()}}class tropical_fish extends Mob{constructor(e,t,a){super(e,t),this.myNBT={Variant:{type:"choice",values:[[0,"Random"],[1,"Specified Below"]],format:"special",tip:t,align:"R"},Size:{type:"choice",values:[[0,"Small"],[1,"Big"]],format:"special",align:"R"},Pattern:{type:"makeSelect",values:[0,1,2,3,4,5],format:"special",align:"R"},BaseColor:{type:"choice",values:colours1,format:"special",align:"R"},PatternColor:{type:"choice",values:colours1,format:"special",align:"R"},FromBucket:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"}},null!=a&&Object.assign(this.myNBT,a)}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}getEntitySpecificCommand(e){var t;return 0==$("#Variant"+this.stackPos).val()?super.getMobNBT():(t=parseInt($("#Size"+this.stackPos).val()),t=(t=(t+=256*parseInt($("#Pattern"+this.stackPos).val()))+65536*parseInt($("#BaseColor"+this.stackPos).val()))+16777216*parseInt($("#PatternColor"+this.stackPos).val()),super.getMobNBT()+",Variant:"+t)}loadVariantNBT(e){$("#Variant"+this.stackPos).val(1);var t=Math.floor(e/16777216),e=e%16777216;$("#PatternColor"+this.stackPos).val(t),t=Math.floor(e/65536),e%=65536,$("#BaseColor"+this.stackPos).val(t),t=Math.floor(e/256),e%=256,$("#Pattern"+this.stackPos).val(t),$("#Size"+this.stackPos).val(e)}}class enderman extends Mob{constructor(e,t,a){super(e,t),Object.assign(this.mobNBT,a)}generateForm(){var e,t="<br><span class='fLabel200'>Carry</span>";for(e in t+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[e].c&&(t+="<option value='"+e+"'>"+itemsAndBlocks[e].d+"</option>");t+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+")\"><span id='blockSpec"+this.stackPos+"'></span>",super.generateForm(),$("#entityPane"+this.stackPos+"R").append(t)}getEntitySpecificCommand(e){var t="";if(-1!=$("#block"+e).val()){if(t=',carriedBlockState:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}"}return super.getEntitySpecificCommand()+t}}class zombie extends Mob{constructor(e,t,a){super(e,t),this.myNBT={IsBaby:{type:"choice",values:unsetTrueFalse,format:"b",tip:"zombie",align:"R"},CanBreakDoors:{type:"choice",values:unsetTrueFalse,format:"b",tip:"zombie",align:"R"}},null!=a&&Object.assign(this.myNBT,a)}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}getEntitySpecificCommand(e){var t="";if("zombie_villager"==this.entityType){for(var a="",o=["meeting_point","home","job_site"],n=0;n<o.length;n++)$("#Memories"+this.stackPos+o[n]+"X").val().length&&$("#Memories"+this.stackPos+o[n]+"Y").val().length&&$("#Memories"+this.stackPos+o[n]+"Z").val().length&&(a+=',"minecraft:'+o[n]+'":{value:{pos:[I;'+$("#Memories"+this.stackPos+o[n]+"X").val()+","+$("#Memories"+this.stackPos+o[n]+"Y").val()+","+$("#Memories"+this.stackPos+o[n]+"Z").val()+'],dimension:"minecraft:'+$("#Memories"+this.stackPos+o[n]+"Dim").val()+'"}}');a.length&&(a=",Brain:{memories:{"+a.substr(1)+"}}");var s="",i=($("#Gossips"+this.stackPos+"Pane > .gossip").each(function(e){var t=this.id,a='Type:"'+$("#"+t+"Type").val()+'"',t=($("#"+t+"Value").val().length&&(a+=",Value:"+$("#"+t+"Value").val()),getUUIDArray(t+"Target"));t.length&&(a+=",Target:"+t),a.length&&(s+=",{"+a+"}")}),s.length&&(s=",Gossips:["+s.substr(1)+"]"),"");$("#Trades"+this.stackPos+"Pane > .trade").each(function(e){var t=this.id,a="",o=(-1!=$("#"+t+"rewardExp").val()&&(a+=",rewardExp:"+$("#"+t+"rewardExp").val()+"b"),$("#"+t+"maxUses").val().length&&(a+=",maxUses:"+$("#"+t+"maxUses").val()),$("#"+t+"uses").val().length&&(a+=",uses:"+$("#"+t+"uses").val()),$("#"+t+"xp").val().length&&(a+=",xp:"+$("#"+t+"xp").val()),$("#"+t+"priceMultiplier").val().length&&(a+=",priceMultiplier:"+$("#"+t+"priceMultiplier").val()+"f"),$("#"+t+"specialPrice").val().length&&(a+=",specialPrice:"+$("#"+t+"specialPrice").val()),$("#"+t+"demand").val().length&&(a+=",demand:"+$("#"+t+"demand").val()),getItemNBT(t+"buy"));"{}"!=o&&(a+=",buy:"+o),"{}"!=(o=getItemNBT(t+"buyB"))&&(a+=",buyB:"+o),"{}"!=(o=getItemNBT(t+"sell"))&&(a+=",sell:"+o),a.length&&(i+=",{"+a.substr(1)+"}")}),$("#NoTrades"+e).is(":checked")?i=",Offers:{}":i.length&&(i=",Offers:{Recipes:["+i.substr(1)+"]}"),t=getVillagerData(e)+i+a+s}else"zombified_piglin"==this.entityType&&(t=getAngryAt(e));return super.getMobNBT()+t}loadVillagerTradesNBT(e,t){if(null!=e.Recipes)for(var a=e.Recipes.val,o=0;o<a.length;o++){var n="Trades"+this.stackPos+"Pane_Trade_"+o,s=a[o];addTrade("Trades"+this.stackPos+"Pane"),addTradeFromNBT(s,n,t)}else $("#NoTrades"+this.stackPos).prop("checked",!0)}}class HorseMob extends BreedableMob{constructor(e,t){if(super(e,t),this.myNBT={Bred:{type:"choice",values:unsetTrueFalse,format:"b",tip:"horse",align:"R"},EatingHaystack:{type:"choice",values:unsetTrueFalse,format:"b",tip:"horse",align:"R"},Tame:{type:"choice",values:unsetTrueFalse,format:"b",tip:"horse",align:"R"},Temper:{type:"text",format:"int",tip:"horse",align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"mob.Owner"}},"llama"==this.entityType||"trader_llama"==this.entityType?(this.myNBT.Variant={type:"choice",values:[[-1,"unset"],[0,"Creamy"],[1,"White"],[2,"Brown"],[3,"Gray"]],format:"int",tip:"llama",align:"R"},this.myNBT.Strength={type:"choice",values:[[-1,"unset"],[0,"0"],[1,"1"],[2,"2"],[3,"3"],[4,"4"],[5,"5"]],format:"int",tip:"llama",align:"R"}):this.myNBT.SaddleItem={type:"makeSelect",values:["unset","none","saddle"],format:"special",tip:"horse",align:"R"},"horse"==this.entityType)this.myNBT.Variant={type:"choice",values:this.getVariantArray(),format:"int",tip:"horse",align:"R"};else if("mule"==this.entityType||"donkey"==this.entityType||"llama"==this.entityType||"trader_llama"==this.entityType){"trader_llama"==this.entityType&&(this.myNBT.DespawnDelay={type:"ticks",tip:"trader_llama",align:"R"}),this.myNBT.ChestedHorse={type:"choice",values:unsetTrueFalse,format:"b",tip:"chested_horse",align:"R"};for(var a=2;a<=16;a++)this.myNBT[a+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+a,align:"R"}}else"skeleton_horse"==this.entityType?(this.myNBT.SkeletonTrap={type:"choice",values:unsetTrueFalse,format:"b",tip:"skeleton_horse",align:"R"},this.myNBT.SkeletonTrapTime={type:"ticks",tip:"skeleton_horse",align:"R"}):"camel"==this.entityType&&(this.myNBT.IsSitting={type:"choice",values:unsetTrueFalse,format:"b",tip:"camel",align:"R"})}loadSaddleItemNBT(e){null!=e.id&&"minecraft:saddle"==e.id.val?$("#SaddleItem"+this.stackPos).val("saddle"):$("#SaddleItem"+this.stackPos).val("none")}loadDecorItemNBT(e){null!=e.id&&$("#DecorItem"+this.stackPos).val(extractMinecraftID(e.id.val))}getVariantArray(){var e=new Array("White","Creamy","Chestnut","Brown","Black","Gray","Dark Brown"),t=new Array("None","White","White Field","White Dots","Black Dots"),a=[];a.push([-1,"unset"]);for(var o=0;o<e.length;o++)for(var n=0;n<t.length;n++)a.push([o+256*n,e[o]+" / "+t[n]]);return a}getEntitySpecificCommand(e){var t="";if("mule"==this.entityType||"donkey"==this.entityType||"llama"==this.entityType||"trader_llama"==this.entityType){for(var a=2;a<=16;a++){var o=getItemNBT(a+"Slot"+e);"{}"!=o&&(t+=",{Slot:"+a+"b,"+o.substr(1))}t.length&&(t=",Items:["+t.substr(1)+"]")}return-1==this.entityType.indexOf("llama")&&"unset"!=$("#SaddleItem"+this.stackPos).val()&&("none"==$("#SaddleItem"+this.stackPos).val()?t+=",SaddleItem:{}":t+=',SaddleItem:{id:"minecraft:'+$("#SaddleItem"+this.stackPos).val()+'",Count:1b}'),super.getMobNBT()+t}generateForm(){Object.assign(this.breedNBT,this.myNBT),super.generateForm()}}class Mooshroom extends BreedableMob{constructor(e,t){super(e,t),this.myNBT={Type:{type:"choice",values:[[-1,"unset"],["brown","Brown"],["red","Red"]],tip:t,format:"string",align:"R"},stew_effects:{type:"stewEffects",format:"special",tip:t,align:"R"}}}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm(),hide("stew_effects"+this.stackPos+"Pane","stew_effects"+this.stackPos+"SH")}getEntitySpecificCommand(e){let t=getStewEffectsNBT("stew_effects"+e);return t.length&&(t=`,stew_effects:[${t}]`),super.getMobNBT()+t}}class warden extends Mob{constructor(e,t){super(e,t),this.myNBT={dig_cooldown:{type:"choice",values:[[-1,"unset"],["1","set"]],format:"special",tip:t,align:"R"},Suspects:{type:"panel",label:"Suspects",panelID:"suspects"+e,tip:t,align:"R"}}}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm(),$("#suspects"+this.stackPos).html("<a href=\"javascript:addSuspects('Suspect',"+this.stackPos+")\" class='greenPlus'>+</a>"+makeTip("warden.Suspects"))}loadWardenDigCooldown(e){null!=e.memories.val&&null!=e.memories.val["minecraft:dig_cooldown"]&&$("#dig_cooldown"+this.stackPos).val("1")}loadSuspects(t){for(let e=0;e<t.length;e++)addSuspects("Suspect",this.stackPos),loadUUIDArrayNBT("Suspect"+this.stackPos+"_"+e,t[e].uuid.val),$("#anger"+this.stackPos+"_"+e).val(t[e].anger.val)}getEntitySpecificCommand(e){var n="";return $("#suspects"+e+" > .aSuspect").each(function(e){var t=this.id,a=getUUIDArray(t),t="#anger"+t.replace("Suspect",""),o=$(t).val();a.length&&(n+=",{uuid:"+a+",anger:"+("Seconds"==$(t+"TT").html()?20*o:o)+"}")}),n.length&&(n=",anger:{suspects:["+n.substr(1)+"]}"),"-1"!=$("#dig_cooldown"+e).val()&&(n+=',Brain:{memories:{"minecraft:dig_cooldown":{value:{},ttl:1200L}}}'),super.getMobNBT()+n}}function addSuspects(e,t){let a=0;for(;$("#"+e+t+"_"+a).length;)a++;$("#suspects"+t).append("<span id='"+e+t+"_"+a+"' class='aSuspect'><span class='fLabel200'></span></span>"),createComponent(e+t+"_"+a,"Suspect UUID",{id:"Suspect"+t+"_"+a,type:"UUIDArray",format:"intArray",playerLookup:!0,align:"R"},t),$("#"+e+t+"_"+a).append(" Anger<input type='text' id='anger"+t+"_"+a+"' class='medTF' value=150>"+mkTicksSecs("anger"+t+"_"+a+"TT")+" <a href=\"javascript:removeContainer('"+e+t+"_"+a+"')\" class='redX'>x</a>"),bindGenCom("anger"+t+"_"+a,"keyup")}class Fox extends BreedableMob{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"mob.Owner"},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"},Sleeping:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},Crouching:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},Type:{type:"choice",values:[[-1,"unset"],["red","Red"],["snow","Snow"]],format:"string",tip:t,align:"R"},Trusted:{type:"panel",label:"Trusted",panelID:"trusted"+e,tip:t,align:"R"}}}generateForm(){Object.assign(this.breedNBT,this.myNBT),super.generateForm(),$("#trusted"+this.stackPos).html("<a href=\"javascript:addFoxTrusts('Trusts',"+this.stackPos+")\" class='greenPlus'>+</a>"+makeTip("fox.Trusted"))}getEntitySpecificCommand(e){var a="";return $("#trusted"+e+" > .foxTrust").each(function(e){var t=this.id,t=getUUIDArray(t);t.length&&(a+=","+t)}),a.length&&(a=",Trusted:["+a.substr(1)+"]"),super.getMobNBT()+a}}function addFoxTrusts(e,t){let a=0;for(;$("#"+e+t+"_"+a).length;)a++;$("#trusted"+t).append("<span id='"+e+t+"_"+a+"' class='foxTrust'><span class='fLabel200'></span></span>"),createComponent(e+t+"_"+a,"Trusts UUID",{id:"Trusts"+t+"_"+a,type:"UUIDArray",format:"intArray",playerLookup:!0,align:"R"},t),$("#"+e+t+"_"+a).append("<a href=\"javascript:removeContainer('"+e+t+"_"+a+"')\" class='redX'>x</a>")}class Bee extends BreedableMob{constructor(e,t){super(e,t),this.myNBT={hive_posX:{type:"text",format:"special",align:"R",tip:"bee.HivePosX"},hive_posY:{type:"text",format:"special",align:"R"},hive_posZ:{type:"text",format:"special",align:"R"},flower_posX:{type:"text",format:"special",align:"R",tip:"bee.FlowerPosX"},flower_posY:{type:"text",format:"special",align:"R"},flower_posZ:{type:"text",format:"special",align:"R"},HasNectar:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},HasStung:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},TicksSincePollination:{type:"ticks",format:"int",tip:t,align:"R"},CannotEnterHiveTicks:{type:"ticks",format:"int",tip:t,align:"R"},CropsGrownSincePollination:{type:"text",format:"int",tip:t,align:"R"},AngerTime:{type:"ticks",format:"int",tip:t,align:"R"},AngryAt:{type:"UUIDArray",format:"special",align:"R",playerLookup:!0,tip:t}}}load_flower_pos_Or_hive_pos(e,t){$("#"+t+"X"+this.stackPos).val(e[0]),$("#"+t+"Y"+this.stackPos).val(e[1]),$("#"+t+"Z"+this.stackPos).val(e[2])}loadFlowerOrHivePos(e,t){t="HivePos"==t?"hive_pos":"flower_pos";$("#"+t+"X"+this.stackPos).val(e.X.val),$("#"+t+"Y"+this.stackPos).val(e.Y.val),$("#"+t+"Z"+this.stackPos).val(e.Z.val)}generateForm(){Object.assign(this.breedNBT,this.myNBT),super.generateForm()}getCoords(e){return $("#"+e+"X"+this.stackPos).val().length&&$("#"+e+"Y"+this.stackPos).val().length&&$("#"+e+"Z"+this.stackPos).val().length?","+e+":[I;"+$("#"+e+"X"+this.stackPos).val()+","+$("#"+e+"Y"+this.stackPos).val()+","+$("#"+e+"Z"+this.stackPos).val()+"]":""}getEntitySpecificCommand(e){return super.getMobNBT()+getAngryAt(e)+this.getCoords("hive_pos")+this.getCoords("flower_pos")}}class Piglin extends Mob{constructor(e,t,a){super(e,t,a)}getEntitySpecificCommand(e){let t="",a="";return $("#Inventory"+e+"MultiItemPane  > .itemSelectControl").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Pane"));"-1"!=$("#"+t).val()&&(a+=","+getItemNBT(t))}),a.length&&(t+=",Inventory:["+a.substr(1)+"]"),t+super.getMobNBT()}loadPiglinInventory(t,a,e){var o="Inventory"+e+"MultiItem";showHide(o+"Pane",o+"PaneSH");for(let e=0;e<a.length;e++)addMultiItem(o+"Pane",!1),showHide(o+"Pane_"+e+"Pane",o+"Pane_"+e+"PaneSH"),setupItemSlotForNBT(o+"Pane_"+e,a[e],t)}}class allay extends Mob{constructor(e,t){super(e,t),this.myNBT={LikedPlayer:{label:"Liked Player",type:"UUIDArray",format:"special",align:"R",playerLookup:!0,tip:"allay.liked_player"},LikedNoteBlockX:{label:"Liked Noteblock X",type:"text",format:"special",align:"R",tip:"allay.liked_noteblock"},LikedNoteBlockY:{label:"Y",type:"text",format:"special",align:"R"},LikedNoteBlockZ:{label:"Z",type:"text",format:"special",align:"R"},CanDuplicate:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},DuplicationCooldown:{type:"ticks",format:"int",tip:t,align:"R"}}}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}getEntitySpecificCommand(e){let t=getUUIDArray("LikedPlayer"+e),a=(t.length&&(t=',"minecraft:liked_player":{value:'+t+"}"),""),o=($("#LikedNoteBlockX"+this.stackPos).val().length&&$("#LikedNoteBlockY"+this.stackPos).val().length&&$("#LikedNoteBlockZ"+this.stackPos).val().length&&(a+=',"minecraft:liked_noteblock":{value:{pos:[I;'+$("#LikedNoteBlockX"+this.stackPos).val()+","+$("#LikedNoteBlockY"+this.stackPos).val()+","+$("#LikedNoteBlockZ"+this.stackPos).val()+"]}}"),t+a);return o.length&&(o=",Brain:{memories:{"+o.substring(1)+"}}"),super.getMobNBT()+o}loadLikedPlayer(e){null!=e.memories.val&&(null!=e.memories.val["minecraft:liked_player"]&&null!=e.memories.val["minecraft:liked_player"].val.value&&loadUUIDArrayNBT("LikedPlayer"+this.stackPos,e.memories.val["minecraft:liked_player"].val.value.val),null!=e.memories.val["minecraft:liked_noteblock"])&&null!=e.memories.val["minecraft:liked_noteblock"].val.value&&(e=e.memories.val["minecraft:liked_noteblock"].val.value.val.pos.val,$("#LikedNoteBlockX"+this.stackPos).val(e[0]),$("#LikedNoteBlockY"+this.stackPos).val(e[1]),$("#LikedNoteBlockZ"+this.stackPos).val(e[2]))}}class villager extends BreedableMob{constructor(e,t){super(e,t),this.tradeCounter=0,this.myNBT={profession:{type:"makeSelect",values:["unset","none","armorer","butcher","cartographer","cleric","farmer","fisherman","fletcher","leatherworker","librarian","mason","nitwit","shepherd","toolsmith","weaponsmith"],format:"special",tip:"villager",align:"R"},type:{type:"makeSelect",values:["unset","desert","jungle","plains","savanna","snow","swamp","taiga"],format:"special",tip:"villager",align:"R"},level:{type:"makeSelect",values:["unset",1,2,3,4,5,99],format:"special",tip:"villager",align:"R"},Willing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"villager",align:"R"},LastRestock:{type:"text",format:"int",tip:"villager",align:"R"},Xp:{type:"text",format:"int",tip:"villager",align:"R"},Trades:{type:"villTrade",format:"special",tip:"villager",align:"R"},Memories:{type:"memories",format:"special",tip:"villager.memories",align:"R"},Gossips:{type:"gossips",format:"special",tip:"villager.gossips",align:"R"},NoTrades:{label:"Untradable",type:"cb",format:"special",tip:"villager",align:"R"}};for(var a=0;a<8;a++)this.myNBT[a+"Inv"]={type:"itemselect",format:"special",hide:!0,label:"Inventory "+a,align:"R",tip:"villager.Inventory"};"wandering_trader"==t&&(delete this.myNBT.type,delete this.myNBT.profession,this.myNBT.DespawnDelay={type:"ticks",tip:"wandering_trader",align:"R"},this.myNBT.wander_targetX={type:"text",format:"special",tip:"wandering_trader.WanderTarget",align:"R"},this.myNBT.wander_targetY={type:"text",format:"special",align:"R"},this.myNBT.wander_targetZ={type:"text",format:"special",align:"R"})}loadVillagerTradesNBT(e,t){if(null!=e.Recipes)for(var a=e.Recipes.val,o=0;o<a.length;o++){var n="Trades"+this.stackPos+"Pane_Trade_"+o,s=a[o];addTrade("Trades"+this.stackPos+"Pane"),addTradeFromNBT(s,n,t)}else $("#NoTrades"+this.stackPos).prop("checked",!0)}loadWanderTargetNBT(e){Array.isArray(e)?($("#wander_targetX"+this.stackPos).val(parseInt(e[0])),$("#wander_targetY"+this.stackPos).val(parseInt(e[1])),$("#wander_targetZ"+this.stackPos).val(parseInt(e[2]))):null!=e.X&&($("#wander_targetX"+this.stackPos).val(parseInt(e.X.val)),$("#wander_targetY"+this.stackPos).val(parseInt(e.Y.val)),$("#wander_targetZ"+this.stackPos).val(parseInt(e.Z.val)))}getEntitySpecificCommand(e){for(var t="",a=0;a<8;a++){var o=getItemNBT(a+"Inv"+e);"{}"!=o&&(t+=",{"+o.substr(1))}t.length&&(t=",Inventory:["+t.substr(1)+"]");var n="",s="";if("villager"==this.entityType){for(var i=["meeting_point","home","job_site"],a=0;a<i.length;a++)$("#Memories"+this.stackPos+i[a]+"X").val().length&&$("#Memories"+this.stackPos+i[a]+"Y").val().length&&$("#Memories"+this.stackPos+i[a]+"Z").val().length&&(n+=',"minecraft:'+i[a]+'":{value:{pos:[I;'+$("#Memories"+this.stackPos+i[a]+"X").val()+","+$("#Memories"+this.stackPos+i[a]+"Y").val()+","+$("#Memories"+this.stackPos+i[a]+"Z").val()+'],dimension:"minecraft:'+$("#Memories"+this.stackPos+i[a]+"Dim").val()+'"}}');n.length&&(n=",Brain:{memories:{"+n.substr(1)+"}}"),$("#Gossips"+this.stackPos+"Pane > .gossip").each(function(e){var t=this.id,a='Type:"'+$("#"+t+"Type").val()+'"',t=($("#"+t+"Value").val().length&&(a+=",Value:"+$("#"+t+"Value").val()),getUUIDArray(t+"Target"));t.length&&(a+=",Target:"+t),a.length&&(s+=",{"+a+"}")}),s.length&&(s=",Gossips:["+s.substr(1)+"]")}var l="",r=($("#Trades"+this.stackPos+"Pane > .trade").each(function(e){var t=getTradeNBT(this.id);t.length&&(l+=",{"+t.substr(1)+"}")}),$("#NoTrades"+e).is(":checked")?l=",Offers:{}":l.length&&(l=",Offers:{Recipes:["+l.substr(1)+"]}"),"");return"wandering_trader"==this.entityType&&(r=getTargetCompound(this.stackPos,"wander_target")),super.getMobNBT()+r+getVillagerData(e)+l+n+s+t}generateForm(){Object.assign(this.mobNBT,this.myNBT),super.generateForm()}}function getVillagerData(e){let t="";return"unset"!=$("#level"+e).val()&&(t+=",level:"+$("#level"+e).val()),$("#profession"+e).length&&"unset"!=$("#profession"+e).val()&&(t+=',profession:"minecraft:'+$("#profession"+e).val()+'"'),$("#type"+e).length&&"unset"!=$("#type"+e).val()&&(t+=',type:"minecraft:'+$("#type"+e).val()+'"'),0<t.length?",VillagerData:{"+t.substr(1)+"}":t}function loadVillagerData(e,t){null!=e.type&&$("#type"+t).val(extractMinecraftID(e.type.val)),null!=e.profession&&$("#profession"+t).val(extractMinecraftID(e.profession.val)),null!=e.level&&$("#level"+t).val(e.level.val)}class ThrownThings extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},Item:{type:"itemselect",label:"Render As",format:"special",forceConstruct:!0,noCount:!0,tip:"projectile",align:"R"}},Object.assign(this.entityNBT,this.myNBT)}generateForm(){super.generateForm()}getEntitySpecificCommand(e){var t="";return"dragon_fireball"!=this.entityType&&"wither_skull"!=this.entityType&&(t="{}"!=(e=getItemNBT("Item"+e))?",Item:"+e:""),this.getEntityNBT()+t}}class small_fireball extends ThrownThings{constructor(e,t){super(e,t),this.myNBT={life:{type:"ticks",tip:"projectile.life",align:"R"},acceleration_power:{type:"text",format:"d",tip:"projectile.acceleration_power",align:"R"}},"dragon_fireball"!=t&&"wither_skull"!=t||(delete this.entityNBT.Item,delete this.entityNBT.CustomModelData,delete this.entityNBT.EnchantGlint,"wither_skull"==t&&(this.myNBT.dangerous={type:"choice",values:unsetTrueFalse,align:"R",format:"b",tip:t}))}getEntityNBT(){var e,t="";for(e in this.entityNBT)t+=getNBTforKey(e,this.entityNBT[e],this.stackPos);return t=(t=(t=(t+=getMotion(this.stackPos,"Motion"))+getTargetingTags(this.stackPos))+getPassengersNBT(this.stackPos))+getCustomNameAndColor("#CustomName",this.stackPos)}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class fireball extends small_fireball{constructor(e,t){super(e,t),this.fbNBT={ExplosionPower:{type:"text",format:"b",align:"R"},Invulnerable:{type:"choice",values:unsetTrueFalse,align:"R",format:"b",tip:t}}}generateForm(){Object.assign(this.entityNBT,this.fbNBT),super.generateForm()}}class eye_of_ender extends ThrownThings{constructor(e,t){super(e,t),delete this.entityNBT.Owner}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class wind_charge extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},acceleration_power:{type:"text",format:"d",tip:"projectile.acceleration_power",align:"R"}},Object.assign(this.entityNBT,this.myNBT)}generateForm(){super.generateForm()}}class potion extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},Item:{type:"itemselectOnly",label:"Render As",format:"special",forceConstruct:!0,noCount:!0,tip:"potionrender",align:"R"},Potion:{type:"makeSelectWithIndexAndValues",values:potions,format:"special",tip:t,align:"R"},CustomPotionEffects:{type:"statusEffects",format:"special",tip:t,align:"R"},CustomPotionColor:{type:"colorChooser",format:"special",tip:t,align:"R"},CustomModelData:{type:"text",format:"special",class:"medTF",tip:"item",align:"R"},EnchantGlint:{type:"choice",values:[["0","False"],["1","True"]],format:"special",tip:"item",align:"R"}}}getEntitySpecificCommand(e){var t=$("#Item"+e).val();let a="-1"!=t?t:"",o="";var n=getPotion("potion","Potion"+this.stackPos)+getColorInteger("CustomPotionColor"+this.stackPos,"custom_color")+getStatusEffectsNBT("custom_effects","CustomPotionEffects"+this.stackPos);return n.length&&(o+=`${contextSyntax(!0,"potion_contents")}{${n.substring(1)}}`),"1"==$("#EnchantGlint"+e).val()&&(o+=",enchantment_glint_override:true"),$("#CustomModelData"+e).val().length&&(o+=",custom_model_data:"+$("#CustomModelData"+e).val()),o.length&&(o=",components:{"+o.substr(1)+"}"),""==a&&o.length?a=',Item:{id:"minecraft:splash_potion",count:1'+o+"}":""!=a&&o.length?a="-1"!=t?',Item:{id:"minecraft:'+a+'",count:1'+o+"}":"":""==a||o.length||(a="-1"!=t?',Item:{id:"minecraft:'+a+'",count:1}':""),this.getEntityNBT()+a}loadPotionNBT(t){if(null!=t.id&&$("#Item"+this.stackPos).val(extractMinecraftID(t.id.val)),null!=t.components){var a=t.components.val;let e;null!=a.potion_contents?e=a.potion_contents.val:null!=a["minecraft:potion_contents"]&&(e=a["minecraft:potion_contents"].val),null!=e&&(null!=e.custom_effects&&loadCustomEffectsNBT("CustomPotionEffects"+this.stackPos,e.custom_effects.val),null!=e.potion&&$("#Potion"+this.stackPos).val(extractMinecraftID(e.potion.val)),null!=e.custom_color)&&loadColorIntNBT("CustomPotionColor"+this.stackPos,e.custom_color.val),null!=a.custom_model_data&&$("#CustomModelData"+this.stackPos).val(a.custom_model_data.val),null!=a.enchantment_glint_override&&$("#EnchantGlint"+this.stackPos).val("1")}else null!=t.tag&&null!=t.tag&&(null!=(a=t.tag.val).Potion&&$("#Potion"+this.stackPos).val(extractMinecraftID(a.Potion.val)),null!=a.CustomPotionColor&&loadColorIntNBT("CustomPotionColor"+this.stackPos,a.CustomPotionColor.val),null!=a.custom_potion_effects?loadCustomEffectsNBT("CustomPotionEffects"+this.stackPos,a.custom_potion_effects.val):null!=a.CustomPotionEffects&&loadCustomEffectsNBT("CustomPotionEffects"+this.stackPos,a.CustomPotionEffects.val),null!=a.CustomModelData&&$("#CustomModelData"+this.stackPos).val(a.CustomModelData.val),null!=a.Enchantments)&&$("#EnchantGlint"+this.stackPos).val("1")}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class arrow extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={pickup:{type:"choice",values:[[-1,"unset"],["0","can't be picked up by players"],["1","can be picked up by players in survival or creative"],["2","can only be picked up by players in creative"]],format:"b",tip:"arrow",align:"R"},Item:{type:"itemselect",format:"special",hide:!1,tip:"arrow.arrow_item",align:"R"},player:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},life:{type:"ticks",tip:"arrow",align:"R"},damage:{type:"text",format:"d",tip:"arrow",align:"R"},shake:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},inGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},crit:{type:"choice",values:unsetTrueFalse,format:"b",tip:"arrow",align:"R"},PierceLevel:{type:"text",format:"b",tip:"arrow",align:"R"},SoundEvent:{type:"makeSelect",values:["unset"].concat(soundList),format:"special",tip:"arrow",align:"R"}},"spectral_arrow"==t&&Object.assign(this.myNBT,{Duration:{type:"ticks",tip:"spectral_arrow",align:"R"}})}getEntitySpecificCommand(e){var t="";if(-1!=$("#block"+e).val()){if(t=',inBlockState:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}"}var n=getItemNBT("Item"+e);"{}"!=n&&(t+=",item:"+n);n="unset"==(n=$("#SoundEvent"+this.stackPos).val())?"":',SoundEvent:"'+n+'"';return this.getEntityNBT()+n+t}generateForm(){Object.assign(this.entityNBT,this.myNBT);var e,t="<br><span class='fLabel200'>inBlockState</span>";for(e in t+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[e].c&&(t+="<option value='"+e+"'>"+itemsAndBlocks[e].d+"</option>");t+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+')">'+makeTip("arrow.inBlockState")+"<span id='blockSpec"+this.stackPos+"'></span>",super.generateForm(),$("#entityPane"+this.stackPos+"R").append(t)}}class trident extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={pickup:{type:"choice",values:[[-1,"unset"],["0","can't be picked up by players"],["1","can be picked up by players in survival or creative"],["2","can only be picked up by players in creative"]],format:"b",tip:t,align:"R"},Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},player:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},life:{type:"ticks",tip:t,align:"R"},damage:{type:"text",format:"d",tip:t,align:"R"},shake:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},inGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},crit:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},Trident:{type:"itemselect",format:"special",hide:!1,tip:"item",align:"R"},SoundEvent:{type:"makeSelect",values:["unset"].concat(soundList),format:"special",tip:"arrow",align:"R"}}}getEntitySpecificCommand(e){var e=getItemNBT("Trident"+e),t="unset"==(t=$("#SoundEvent"+this.stackPos).val())?"":',SoundEvent:"'+t+'"';return"{}"!=e?this.getEntityNBT()+",item:"+e+t:this.getEntityNBT()+t}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class firework_rocket extends SimpleEntity{constructor(e,t){super(e,t),this.myNBT={Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"projectile.Owner"},Life:{type:"ticks",tip:t,align:"R"},LifeTime:{type:"ticks",tip:t,align:"R"},ShotAtAngle:{type:"choice",values:unsetTrueFalse,format:"b",tip:t,align:"R"},Explosion:{type:"fwExplosion",format:"special",tip:t,align:"R"}}}getEntitySpecificCommand(e){var a="";return $("#Explosion"+this.stackPos+"Pane > .explosion").each(function(e){var t=this.id;a+=getExplosionNBT(t)}),a.length?super.getEntityNBT()+`,FireworksItem:{id:"minecraft:firework_rocket",count:1,components:{"minecraft:fireworks":{explosions:[${a.substring(1)}]}}}`:super.getEntityNBT()}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class Vehicle extends Entity{constructor(e,t,a){super(e,t),this.entityNBT={MotionX:{type:"text",format:"special",tip:"entity.Motion"},MotionY:{type:"text",format:"special",tip:"entity.Motion"},MotionZ:{type:"text",format:"special",tip:"entity.Motion"},Yaw:{type:"text",format:"special",tip:"entity"},Pitch:{type:"text",format:"special",tip:"entity"},NoGravity:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Silent:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Glowing:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},UUID:{type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},CustomName:{type:"customNameJSON",format:"special",tip:"entity"},CustomNameVisible:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},Tags:{type:"text",format:"special",tip:"entity",fwClass:"bigTF"}},null!=a&&Object.assign(this.entityNBT,a)}getEntitySpecificCommand(e){return this.getEntityNBT()}generateForm(){super.generateForm()}}class minecart extends Vehicle{constructor(e,t,a){super(e,t),this.minecartNBT={CustomDisplayTile:{type:"choice",values:unsetTrueFalse,format:"b",tip:"minecart",align:"R"},DisplayOffset:{type:"text",format:"short",tip:"minecart",align:"R"}},null!=a&&Object.assign(this.minecartNBT,a),Object.assign(this.entityNBT,this.minecartNBT)}loadDisplayStateMinecart(e){null!=e.Name&&$("#DisplayTile"+this.stackPos).val(extractMinecraftID(e.Name.val))}getEntitySpecificCommand(e){var t="";if(-1!=$("#block"+e).val()){if(t=',DisplayState:{Name:"minecraft:'+$("#block"+e).val()+'"',$("#block"+e).val()in blockStates){var a,o="";for(a in blockStates[$("#block"+e).val()])"unset"!=$("#"+a+"BS"+e).val()&&(o+=","+a+':"'+$("#"+a+"BS"+e).val()+'"');0!=o.length&&(t+=",Properties:{"+o.substr(1)+"}")}t+="}"}return super.getEntitySpecificCommand()+t}generateForm(){var e,t="<br><span class='fLabel200'>DisplayState</span>";for(e in t+="<select id='block"+this.stackPos+"' onchange='javascript:fallingBlockChange("+this.stackPos+");'>",itemsAndBlocks)"i"!=itemsAndBlocks[e].c&&(t+="<option value='"+e+"'>"+itemsAndBlocks[e].d+"</option>");t+="</select><input type='text' id='block_filter"+this.stackPos+"' placeholder='Filter' class='medTF' onkeyup=\"updateFallingBlockOptions('block',"+this.stackPos+")\"><span id='blockSpec"+this.stackPos+"'></span>",$("#entityPane"+this.stackPos+"R").append(t),super.generateForm()}}class chest_minecart extends minecart{constructor(e,t,a){super(e,t),this.slots=a,this.myNBT={LootTable:{type:"text",format:"string",tip:t,align:"R"}};for(var o=0;o<this.slots;o++)this.myNBT[o+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+o,align:"R"}}getEntitySpecificCommand(e){for(var t="",a=0;a<this.slots;a++){var o=getItemNBT(a+"Slot"+e);"{}"!=o&&(t+=",{Slot:"+a+"b,"+o.substr(1))}return t.length&&(t=",Items:["+t.substr(1)+"]"),super.getEntitySpecificCommand(e)+t}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class chest_boat extends Vehicle{constructor(e,t,a){super(e,t),this.slots=a,this.myNBT={Type:{type:"makeSelect",values:["oak","spruce","birch","jungle","acacia","dark_oak","mangrove","bamboo"],format:"string",tip:"boat",align:"R"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},LootTable:{type:"text",format:"string",tip:"chest",align:"R"}};for(var o=0;o<this.slots;o++)this.myNBT[o+"Slot"]={type:"itemselect",format:"special",hide:!0,label:"Slot "+o,align:"R"}}getEntitySpecificCommand(e){for(var t="",a=0;a<this.slots;a++){var o=getItemNBT(a+"Slot"+e);"{}"!=o&&(t+=",{Slot:"+a+"b,"+o.substr(1))}return t.length&&(t=",Items:["+t.substr(1)+"]"),super.getEntitySpecificCommand(e)+t}generateForm(){Object.assign(this.entityNBT,this.myNBT),super.generateForm()}}class hopper_minecart extends chest_minecart{constructor(e,t,a){super(e,t,a),this.hopperNBT={Enabled:{type:"choice",values:unsetTrueFalse,format:"b",tip:t},TransferCooldown:{type:"text",format:"int",tip:t}}}generateForm(){Object.assign(this.entityNBT,this.hopperNBT),super.generateForm()}}class spawner_minecart extends minecart{constructor(e,t){super(e,t,0)}getEntitySpecificCommand(e){return super.getEntitySpecificCommand(e)+getMonsterSpawnerNBT("spawnerMinecart"+e,e)}generateForm(){super.generateForm(),$(`#entityPane${this.stackPos}R`).append(`<div id='spawnerMinecart${this.stackPos}'></div>`),createMonsterSpawnerUI("spawnerMinecart"+this.stackPos,this.stackPos)}}var entities=["allay","area_effect_cloud","armor_stand","armadillo","arrow","axolotl","bat","bee","blaze","block_display","boat","bogged","breeze","breeze_wind_charge","camel","cat","cave_spider","chest_boat","chest_minecart","chicken","cod","command_block_minecart","cow","creeper","dolphin","donkey","dragon_fireball","drowned","egg","elder_guardian","end_crystal","ender_dragon","ender_pearl","enderman","endermite","evoker_fangs","evoker","experience_bottle","experience_orb","eye_of_ender","falling_block","fireball","firework_rocket","fishing_bobber","fox","frog","furnace_minecart","ghast","giant","glow_item_frame","glow_squid","goat","guardian","hoglin","horse","hopper_minecart","husk","illusioner","interaction","iron_golem","item","item_display","item_frame","leash_knot","lightning_bolt","llama","llama_spit","magma_cube","marker","minecart","mooshroom","mule","ocelot","ominous_item_spawner","painting","panda","parrot","phantom","pig","piglin","piglin_brute","pillager","polar_bear","potion","pufferfish","rabbit","ravager","salmon","sheep","shulker","shulker_bullet","silverfish","skeleton","skeleton_horse","slime","small_fireball","sniffer","snowball","snow_golem","spawner_minecart","spectral_arrow","spider","squid","stray","strider","tadpole","text_display","tnt","tnt_minecart","trader_llama","trident","tropical_fish","turtle","vex","villager","vindicator","warden","wind_charge","witch","wandering_trader","wither","wither_skull","wither_skeleton","wolf","zoglin","zombie","zombie_horse","zombified_piglin","zombie_villager"];const amSlots=["unset","any","hand","mainhand","offhand","armor","head","chest","legs","feet"],bannerConvert={b:"base",bs:"stripe_bottom",ts:"stripe_top",ls:"stripe_left",rs:"stripe_right",cs:"stripe_center",ms:"stripe_middle",drs:"stripe_downright",dls:"stripe_downleft",ss:"small_stripes",cr:"cross",sc:"straight_cross",ld:"diagonal_left",rud:"diagonal_right",lud:"diagonal_up_left",rd:"diagonal_up_right",vh:"half_vertical",vhr:"half_vertical_right",hh:"half_horizontal",hhb:"half_horizontal_bottom",bl:"square_bottom_left",br:"square_bottom_right",tl:"square_top_left",tr:"square_top_right",bt:"triangle_bottom",tt:"triangle_top",bts:"triangles_bottom",tts:"triangles_top",mc:"circle",mr:"rhombus",bo:"border",cbo:"curly_border",bri:"bricks",gra:"gradient",gru:"gradient_up",cre:"creeper",sku:"skull",flo:"flower",moj:"mojang",glb:"globe",pig:"piglin",flow:"flow",guster:"guster"},explosionShapes=["small_ball","large_ball","star","creeper","burst"],projectiles=["arrow","tipped_arrow","spectral_arrow","firework_rocket"],mapMarkers=["player","frame","red_marker","blue_marker","target_x","target_point","player_off_map","player_off_limits","mansion","monument","banner_white","banner_orange","banner_magenta","banner_light_blue","banner_yellow","banner_lime","banner_pink","banner_gray","banner_light_gray","banner_cyan","banner_purple","banner_blue","banner_brown","banner_green","banner_red","banner_black","red_x","village_desert","village_plains","village_savanna","village_snowy","village_taiga","jungle_temple","swamp_hut"];var potterySherds=["brick","angler_pottery_sherd","archer_pottery_sherd","arms_up_pottery_sherd","blade_pottery_sherd","brewer_pottery_sherd","burn_pottery_sherd","danger_pottery_sherd","explorer_pottery_sherd","flow_pottery_sherd","friend_pottery_sherd","guster_pottery_sherd","heart_pottery_sherd","heartbreak_pottery_sherd","howl_pottery_sherd","miner_pottery_sherd","mourner_pottery_sherd","plenty_pottery_sherd","prize_pottery_sherd","scrape_pottery_sherd","shelter_pottery_sherd","sheaf_pottery_sherd","skull_pottery_sherd","snort_pottery_sherd"],paintingMotives=["alban","aztec","aztec2","bomb","burning_skull","bust","courbet","creebet","donkey_kong","earth","fighters","fire","graham","kebab","match","pigscene","plant","pointer","pool","sea","skeleton","skull_and_roses","stage","sunset","void","wanderer","wasteland","water","wind","wither","meditative","prairie_ride","baroque","humble","unpacked","bouquet","cavebird","cotan","endboss","fern","owlemons","sunflowers","tides","backyard","pond","changing","finding","lowmist","passage","orb"],dsOperation=(paintingMotives.sort(),new Array("remove","replace","place")),disabledSlots=new Array("Hand","Boot","Leg","Chest","Head","Offhand"),woolDyes=["White","Orange","Magenta","Light Blue","Yellow","Lime","Pink","Gray","Light Gray","Cyan","Purple","Blue","Brown","Green","Red","Black"],particles=["angry_villager","ash","block","block_marker","bubble","bubble_column_up","bubble_pop","campfire_cosy_smoke","campfire_signal_smoke","cherry_leaves","cloud","composter","crimson_spore","crit","current_down","damage_indicator","dolphin","dragon_breath","dripping_dripstone_lava","dripping_dripstone_water","dripping_honey","dripping_lava","dripping_obsidian_tear","dripping_water","dust","dust_color_transition","dust_pillar","dust_plume","effect","elder_guardian","electric_spark","enchant","enchanted_hit","end_rod","entity_effect","explosion","explosion_emitter","falling_dripstone_lava","falling_dripstone_water","falling_dust","falling_honey","falling_lava","falling_nectar","falling_obsidian_tear","falling_spore_blossom","falling_water","firework","fishing","flame","flash","glow","glow_squid_ink","happy_villager","heart","instant_effect","item","item_slime","item_snowball","landing_honey","landing_lava","landing_obsidian_tear","large_smoke","lava","mycelium","nautilus","note","poof","portal","rain","reverse_portal","scrape","sculk_charge","sculk_charge_pop","sculk_soul","shriek","smoke","sneeze","snowflake","sonic_boom","soul","soul_fire_flame","spit","splash","spore_blossom_air","squid_ink","sweep_attack","totem_of_undying","underwater","vibration","warped_spore","wax_off","wax_on","white_ash","white_smoke","witch","trial_omen","trial_spawner_detection","trial_spawner_detection_ominous","gust_emitter_small","gust_emitter_large","gust","ominous_spawning","vault_connection"],statusEffectsArray=(particles.sort(),["speed","slowness","haste","mining_fatigue","strength","instant_health","instant_damage","jump_boost","nausea","regeneration","resistance","fire_resistance","water_breathing","invisibility","blindness","night_vision","hunger","weakness","poison","wither","health_boost","absorption","saturation","glowing","levitation","luck","unluck","slow_falling","conduit_power","dolphins_grace","bad_omen","hero_of_the_village","darkness","oozing","infested","weaving","wind_charged","raid_omen","trial_omen"]),potions=(statusEffectsArray.sort(),[["-1","unset"],["empty","Uncraftable Potion"],["water","Water Potion"],["awkward","Awkward Potion"],["mundane","Mundane Potion"],["thick","Thick Potion"],["swiftness","Swiftness Potion"],["strong_swiftness","Swiftness Strong Potion"],["long_swiftness","Swiftness Long Potion"],["slowness","Slowness Potion"],["strong_slowness","Slowness Strong Potion"],["long_slowness","Slowness Long Potion"],["strength","Strength Potion"],["strong_strength","Strength Strong Potion"],["long_strength","Strength Long Potion"],["weakness","Weakness Potion"],["long_weakness","Weakness Long Potion"],["healing","Healing Potion"],["strong_healing","Healing Strong Potion"],["harming","Harming Potion"],["strong_harming","Harming Strong Potion"],["leaping","Leaping Potion"],["strong_leaping","Leaping Strong Potion"],["long_leaping","Leaping Long Potion"],["luck","Luck Potion"],["regeneration","Regeneration Potion"],["strong_regeneration","Regeneration Strong Potion"],["long_regeneration","Regeneration Long Potion"],["poison","Poison Potion"],["strong_poison","Poison Strong Potion"],["long_poison","Poison Long Potion"],["fire_resistance","Fire Resistance Potion"],["long_fire_resistance","Fire Resistance Long Potion"],["water_breathing","Water Breathing Potion"],["long_water_breathing","Water Breathing Long Potion"],["night_vision","Night Vision Potion"],["long_night_vision","Night Vision Long Potion"],["invisibility","Invisibility Potion"],["long_invisibility","Invisibility Long Potion"],["turtle_master","Turtle Master Potion"],["strong_turtle_master","Turtle Master Strong Potion"],["long_turtle_master","Turtle Master Long Potion"],["slow_falling","Slow Falling Potion"],["long_slow_falling","Slow Falling Long Potion"],["wind_charged","Wind Charging Potion"],["oozing","Oozing Potion"],["infested","Infestation Potion"],["weaving","Weaving Potion"]]),attributeModifiers116=["armor","armor_toughness","attack_damage","attack_knockback","attack_speed","block_break_speed","block_interaction_range","entity_interaction_range","fall_damage_multiplier","follow_range","gravity","jump_strength","knockback_resistance","luck","max_absorption","max_health","movement_speed","safe_fall_distance","scale","step_height","burning_time","explosion_knockback_resistance","mining_efficiency","movement_efficiency","oxygen_bonus","sneaking_speed","submerged_mining_speed","sweeping_damage_ratio","water_movement_efficiency"];function getAttributeType(e){return-1!=["block_interaction_range","block_break_speed","entity_interaction_range","entity_interaction_range","mining_efficiency","sneaking_speed","submerged_mining_speed","sweeping_damage_ratio"].indexOf(e)?"player":"generic"}var bgPalette=["61abaf","247F45","7F653E","FF9999","7AF7FF","95FFBB","FFE9C9","FFC2B6","B3FFFF","48FF8A","FFC97D","FF826A","507C7F","4A7F5D","7F7465","7F615B","25C1CC","3ACC6E","CCA164","CC6855"],trimables=["turtle_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings","leather_helmet","leather_boots","leather_chestplate","leather_leggings"],enchantables={"Blast Protection":{group:"Armor",max:4,items:["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]},"Feather Falling":{group:"Armor",max:4,items:["leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_boots"]},"Fire Protection":{group:"Armor",max:4,items:["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]},"Projectile Protection":{group:"Armor",max:4,items:["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]},Protection:{group:"Armor",max:4,items:["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]},Thorns:{group:"Armor",max:3,items:["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings"]},"Aqua Affinity":{group:"Movement/Environment",max:1,items:["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","netherite_helmet"]},"Depth Strider":{group:"Movement/Environment",max:3,items:["leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_boots"]},"Frost Walker":{group:"Movement/Environment",max:2,items:["leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_boots"]},Respiration:{group:"Movement/Environment",max:3,items:["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","netherite_helmet"]},"Soul Speed":{group:"Movement/Environment",max:3,items:["leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","netherite_boots"]},"Swift Sneak":{group:"Movement/Environment",max:3,items:["leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","netherite_leggings"]},"Bane of Arthropods":{group:"Weapon",max:5,items:["mace","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_axe","netherite_sword"]},Breach:{group:"Weapon",max:4,items:["mace"]},Density:{group:"Weapon",max:5,items:["mace"]},"Fire Aspect":{group:"Weapon",max:2,items:["mace","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","netherite_sword"]},Knockback:{group:"Weapon",max:2,items:["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","netherite_sword"]},Looting:{group:"Weapon",max:3,items:["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","netherite_sword"]},Sharpness:{group:"Weapon",max:5,items:["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_axe","netherite_sword"]},Smite:{group:"Weapon",max:5,items:["mace","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_axe","netherite_sword"]},"Sweeping Edge":{group:"Weapon",max:3,items:["iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","netherite_sword"]},"Wind Burst":{group:"Weapon",max:3,items:["mace"]},Flame:{group:"Bow",max:1,items:["bow"]},Power:{group:"Bow",max:5,items:["bow"]},Punch:{group:"Bow",max:2,items:["bow"]},"Quick Charge":{group:"Crossbow",max:3,items:["crossbow"]},Multishot:{group:"Bow/Crossbow",max:1,items:["crossbow","bow"]},Piercing:{group:"Bow/Crossbow",max:4,items:["crossbow","bow"]},Infinity:{group:"Bow/Crossbow",max:1,items:["bow","crossbow"]},Channeling:{group:"Trident",max:1,items:["trident"]},Impaling:{group:"Trident",max:5,items:["trident"]},Loyalty:{group:"Trident",max:3,items:["trident"]},Riptide:{group:"Trident",max:3,items:["trident"]},Efficiency:{group:"Tools",max:5,items:["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","shears","netherite_pickaxe","netherite_shovel","netherite_axe","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","netherite_hoe"]},Fortune:{group:"Tools",max:3,items:["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_pickaxe","netherite_shovel","netherite_axe","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","netherite_hoe"]},"Silk Touch":{group:"Tools",max:1,items:["iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","netherite_pickaxe","netherite_shovel","netherite_axe","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","netherite_hoe"]},Mending:{group:"Durability",max:1,items:["mace","brush","iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","shears","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","bow","fishing_rod","carrot_on_a_stick","flint_and_steel","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","shield","elytra","trident","crossbow","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings","netherite_pickaxe","netherite_shovel","netherite_axe","netherite_hoe","netherite_sword","warped_fungus_on_a_stick"]},Unbreaking:{group:"Durability",max:3,items:["mace","brush","iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","shears","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","bow","fishing_rod","carrot_on_a_stick","flint_and_steel","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","elytra","shield","trident","turtle_helmet","crossbow","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings","netherite_pickaxe","netherite_shovel","netherite_axe","netherite_hoe","netherite_sword","warped_fungus_on_a_stick"]},"Luck of the Sea":{group:"Fishing",max:3,items:["fishing_rod"]},Lure:{group:"Fishing",max:3,items:["fishing_rod"]},"Binding Curse":{group:"Cursed",max:1,items:["turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","elytra","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings","wither_skeleton_skull","skeleton_skull","dragon_head","player_head","zombie_head","creeper_head","piglin_head","carved_pumpkin"]},"Vanishing Curse":{group:"Cursed",max:1,items:["mace","brush","iron_pickaxe","wooden_pickaxe","stone_pickaxe","diamond_pickaxe","golden_pickaxe","iron_shovel","wooden_shovel","stone_shovel","diamond_shovel","golden_shovel","iron_axe","wooden_axe","stone_axe","diamond_axe","golden_axe","shears","iron_sword","wooden_sword","stone_sword","diamond_sword","golden_sword","turtle_helmet","leather_helmet","chainmail_helmet","iron_helmet","diamond_helmet","golden_helmet","leather_chestplate","chainmail_chestplate","iron_chestplate","diamond_chestplate","golden_chestplate","leather_leggings","chainmail_leggings","iron_leggings","diamond_leggings","golden_leggings","leather_boots","chainmail_boots","iron_boots","diamond_boots","golden_boots","bow","fishing_rod","carrot_on_a_stick","flint_and_steel","wooden_hoe","stone_hoe","iron_hoe","diamond_hoe","golden_hoe","shield","elytra","netherite_helmet","netherite_boots","netherite_chestplate","netherite_leggings","netherite_pickaxe","netherite_shovel","netherite_axe","netherite_hoe","netherite_sword","warped_fungus_on_a_stick","compass","wither_skeleton_skull","skeleton_skull","dragon_head","player_head","zombie_head","creeper_head","piglin_head","carved_pumpkin"]}},durabilities={wolf_armor:64,brush:64,iron_pickaxe:250,wooden_pickaxe:59,stone_pickaxe:131,diamond_pickaxe:1561,netherite_pickaxe:2031,golden_pickaxe:32,iron_shovel:250,wooden_shovel:59,stone_shovel:131,diamond_shovel:1561,golden_shovel:32,netherite_shovel:2031,iron_axe:250,wooden_axe:59,stone_axe:131,diamond_axe:1561,golden_axe:32,netherite_axe:2031,shears:238,iron_sword:250,wooden_sword:59,stone_sword:131,diamond_sword:1561,golden_sword:32,netherite_sword:2031,leather_helmet:55,chainmail_helmet:165,iron_helmet:165,diamond_helmet:363,golden_helmet:77,turtle_helmet:275,netherite_helmet:407,leather_chestplate:80,chainmail_chestplate:240,iron_chestplate:240,diamond_chestplate:528,netherite_chestplate:592,golden_chestplate:112,leather_leggings:75,chainmail_leggings:225,netherite_leggings:555,iron_leggings:225,diamond_leggings:495,golden_leggings:105,leather_boots:65,chainmail_boots:195,iron_boots:195,diamond_boots:429,golden_boots:91,netherite_boots:481,bow:384,fishing_rod:64,carrot_on_a_stick:25,flint_and_steel:64,wooden_hoe:59,stone_hoe:131,iron_hoe:250,diamond_hoe:1561,golden_hoe:32,netherite_hoe:2031,elytra:432,shield:336,trident:250,crossbow:465,warped_fungus_on_a_stick:100,mace:500},knowledgeList=["andesite_slab_from_andesite_stonecutting","andesite_stairs_from_andesite_stonecutting","andesite_wall_from_andesite_stonecutting","armor_dye","baked_potato_from_campfire_cooking","baked_potato_from_smoking","banner_duplicate","blackstone_slab_from_blackstone_stonecutting","blackstone_stairs_from_blackstone_stonecutting","blackstone_wall_from_blackstone_stonecutting","black_dye_from_wither_rose","black_stained_glass_pane_from_glass_pane","blue_dye_from_cornflower","blue_stained_glass_pane_from_glass_pane","bolt_armor_trim_smithing_template_smithing_trim","bone_meal_from_bone_block","book_cloning","brick_slab_from_bricks_stonecutting","brick_stairs_from_bricks_stonecutting","brick_wall_from_bricks_stonecutting","brown_stained_glass_pane_from_glass_pane","chiseled_copper_from_copper_block_stonecutting","chiseled_copper_from_cut_copper_stonecutting","chiseled_deepslate_from_cobbled_deepslate_stonecutting","chiseled_nether_bricks_from_nether_bricks_stonecutting","chiseled_polished_blackstone_from_blackstone_stonecutting","chiseled_polished_blackstone_from_polished_blackstone_stonecutting","chiseled_quartz_block_from_quartz_block_stonecutting","chiseled_red_sandstone_from_red_sandstone_stonecutting","chiseled_sandstone_from_sandstone_stonecutting","chiseled_stone_bricks_from_stone_bricks_stonecutting","chiseled_stone_bricks_stone_from_stonecutting","chiseled_tuff_bricks_from_polished_tuff_stonecutting","chiseled_tuff_bricks_from_tuff_bricks_stonecutting","chiseled_tuff_bricks_from_tuff_stonecutting","chiseled_tuff_from_tuff_stonecutting","coal_from_blasting_coal_ore","coal_from_blasting_deepslate_coal_ore","coal_from_smelting_coal_ore","coal_from_smelting_deepslate_coal_ore","coast_armor_trim_smithing_template_smithing_trim","cobbled_deepslate_slab_from_cobbled_deepslate_stonecutting","cobbled_deepslate_stairs_from_cobbled_deepslate_stonecutting","cobbled_deepslate_wall_from_cobbled_deepslate_stonecutting","cobblestone_slab_from_cobblestone_stonecutting","cobblestone_stairs_from_cobblestone_stonecutting","cobblestone_wall_from_cobblestone_stonecutting","cooked_beef_from_campfire_cooking","cooked_beef_from_smoking","cooked_chicken_from_campfire_cooking","cooked_chicken_from_smoking","cooked_cod_from_campfire_cooking","cooked_cod_from_smoking","cooked_mutton_from_campfire_cooking","cooked_mutton_from_smoking","cooked_porkchop_from_campfire_cooking","cooked_porkchop_from_smoking","cooked_rabbit_from_campfire_cooking","cooked_rabbit_from_smoking","cooked_salmon_from_campfire_cooking","cooked_salmon_from_smoking","copper_grate_from_copper_block_stonecutting","copper_ingot_from_blasting_copper_ore","copper_ingot_from_blasting_deepslate_copper_ore","copper_ingot_from_blasting_raw_copper","copper_ingot_from_smelting_copper_ore","copper_ingot_from_smelting_deepslate_copper_ore","copper_ingot_from_smelting_raw_copper","copper_ingot_from_waxed_copper_block","cut_copper_from_copper_block_stonecutting","cut_copper_slab_from_copper_block_stonecutting","cut_copper_slab_from_cut_copper_stonecutting","cut_copper_stairs_from_copper_block_stonecutting","cut_copper_stairs_from_cut_copper_stonecutting","cut_red_sandstone_from_red_sandstone_stonecutting","cut_red_sandstone_slab_from_cut_red_sandstone_stonecutting","cut_red_sandstone_slab_from_red_sandstone_stonecutting","cut_sandstone_from_sandstone_stonecutting","cut_sandstone_slab_from_cut_sandstone_stonecutting","cut_sandstone_slab_from_sandstone_stonecutting","cyan_dye_from_pitcher_plant","cyan_stained_glass_pane_from_glass_pane","dark_prismarine_slab_from_dark_prismarine_stonecutting","dark_prismarine_stairs_from_dark_prismarine_stonecutting","decorated_pot_simple","deepslate_bricks_from_cobbled_deepslate_stonecutting","deepslate_bricks_from_polished_deepslate_stonecutting","deepslate_brick_slab_from_cobbled_deepslate_stonecutting","deepslate_brick_slab_from_deepslate_bricks_stonecutting","deepslate_brick_slab_from_polished_deepslate_stonecutting","deepslate_brick_stairs_from_cobbled_deepslate_stonecutting","deepslate_brick_stairs_from_deepslate_bricks_stonecutting","deepslate_brick_stairs_from_polished_deepslate_stonecutting","deepslate_brick_wall_from_cobbled_deepslate_stonecutting","deepslate_brick_wall_from_deepslate_bricks_stonecutting","deepslate_brick_wall_from_polished_deepslate_stonecutting","deepslate_tiles_from_cobbled_deepslate_stonecutting","deepslate_tiles_from_deepslate_bricks_stonecutting","deepslate_tiles_from_polished_deepslate_stonecutting","deepslate_tile_slab_from_cobbled_deepslate_stonecutting","deepslate_tile_slab_from_deepslate_bricks_stonecutting","deepslate_tile_slab_from_deepslate_tiles_stonecutting","deepslate_tile_slab_from_polished_deepslate_stonecutting","deepslate_tile_stairs_from_cobbled_deepslate_stonecutting","deepslate_tile_stairs_from_deepslate_bricks_stonecutting","deepslate_tile_stairs_from_deepslate_tiles_stonecutting","deepslate_tile_stairs_from_polished_deepslate_stonecutting","deepslate_tile_wall_from_cobbled_deepslate_stonecutting","deepslate_tile_wall_from_deepslate_bricks_stonecutting","deepslate_tile_wall_from_deepslate_tiles_stonecutting","deepslate_tile_wall_from_polished_deepslate_stonecutting","diamond_from_blasting_deepslate_diamond_ore","diamond_from_blasting_diamond_ore","diamond_from_smelting_deepslate_diamond_ore","diamond_from_smelting_diamond_ore","diorite_slab_from_diorite_stonecutting","diorite_stairs_from_diorite_stonecutting","diorite_wall_from_diorite_stonecutting","dried_kelp_from_campfire_cooking","dried_kelp_from_smelting","dried_kelp_from_smoking","dune_armor_trim_smithing_template_smithing_trim","dye_black_bed","dye_black_carpet","dye_black_wool","dye_blue_bed","dye_blue_carpet","dye_blue_wool","dye_brown_bed","dye_brown_carpet","dye_brown_wool","dye_cyan_bed","dye_cyan_carpet","dye_cyan_wool","dye_gray_bed","dye_gray_carpet","dye_gray_wool","dye_green_bed","dye_green_carpet","dye_green_wool","dye_light_blue_bed","dye_light_blue_carpet","dye_light_blue_wool","dye_light_gray_bed","dye_light_gray_carpet","dye_light_gray_wool","dye_lime_bed","dye_lime_carpet","dye_lime_wool","dye_magenta_bed","dye_magenta_carpet","dye_magenta_wool","dye_orange_bed","dye_orange_carpet","dye_orange_wool","dye_pink_bed","dye_pink_carpet","dye_pink_wool","dye_purple_bed","dye_purple_carpet","dye_purple_wool","dye_red_bed","dye_red_carpet","dye_red_wool","dye_white_bed","dye_white_carpet","dye_white_wool","dye_yellow_bed","dye_yellow_carpet","dye_yellow_wool","emerald_from_blasting_deepslate_emerald_ore","emerald_from_blasting_emerald_ore","emerald_from_smelting_deepslate_emerald_ore","emerald_from_smelting_emerald_ore","end_stone_bricks_from_end_stone_stonecutting","end_stone_brick_slab_from_end_stone_brick_stonecutting","end_stone_brick_slab_from_end_stone_stonecutting","end_stone_brick_stairs_from_end_stone_brick_stonecutting","end_stone_brick_stairs_from_end_stone_stonecutting","end_stone_brick_wall_from_end_stone_brick_stonecutting","end_stone_brick_wall_from_end_stone_stonecutting","exposed_chiseled_copper_from_exposed_copper_stonecutting","exposed_chiseled_copper_from_exposed_cut_copper_stonecutting","exposed_copper_grate_from_exposed_copper_stonecutting","exposed_cut_copper_from_exposed_copper_stonecutting","exposed_cut_copper_slab_from_exposed_copper_stonecutting","exposed_cut_copper_slab_from_exposed_cut_copper_stonecutting","exposed_cut_copper_stairs_from_exposed_copper_stonecutting","exposed_cut_copper_stairs_from_exposed_cut_copper_stonecutting","eye_armor_trim_smithing_template_smithing_trim","firework_rocket_simple","firework_star_fade","flow_armor_trim_smithing_template_smithing_trim","gold_ingot_from_blasting_deepslate_gold_ore","gold_ingot_from_blasting_gold_ore","gold_ingot_from_blasting_nether_gold_ore","gold_ingot_from_blasting_raw_gold","gold_ingot_from_gold_block","gold_ingot_from_nuggets","gold_ingot_from_smelting_deepslate_gold_ore","gold_ingot_from_smelting_gold_ore","gold_ingot_from_smelting_nether_gold_ore","gold_ingot_from_smelting_raw_gold","gold_nugget_from_blasting","gold_nugget_from_smelting","granite_slab_from_granite_stonecutting","granite_stairs_from_granite_stonecutting","granite_wall_from_granite_stonecutting","gray_stained_glass_pane_from_glass_pane","green_stained_glass_pane_from_glass_pane","host_armor_trim_smithing_template_smithing_trim","iron_ingot_from_blasting_deepslate_iron_ore","iron_ingot_from_blasting_iron_ore","iron_ingot_from_blasting_raw_iron","iron_ingot_from_iron_block","iron_ingot_from_nuggets","iron_ingot_from_smelting_deepslate_iron_ore","iron_ingot_from_smelting_iron_ore","iron_ingot_from_smelting_raw_iron","iron_nugget_from_blasting","iron_nugget_from_smelting","lapis_lazuli_from_blasting_deepslate_lapis_ore","lapis_lazuli_from_blasting_lapis_ore","lapis_lazuli_from_smelting_deepslate_lapis_ore","lapis_lazuli_from_smelting_lapis_ore","light_blue_dye_from_blue_orchid","light_blue_dye_from_blue_white_dye","light_blue_stained_glass_pane_from_glass_pane","light_gray_dye_from_azure_bluet","light_gray_dye_from_black_white_dye","light_gray_dye_from_gray_white_dye","light_gray_dye_from_oxeye_daisy","light_gray_dye_from_white_tulip","light_gray_stained_glass_pane_from_glass_pane","lime_dye_from_smelting","lime_stained_glass_pane_from_glass_pane","magenta_dye_from_allium","magenta_dye_from_blue_red_pink","magenta_dye_from_blue_red_white_dye","magenta_dye_from_lilac","magenta_dye_from_purple_and_pink","magenta_stained_glass_pane_from_glass_pane","map_cloning","map_extending","mossy_cobblestone_from_moss_block","mossy_cobblestone_from_vine","mossy_cobblestone_slab_from_mossy_cobblestone_stonecutting","mossy_cobblestone_stairs_from_mossy_cobblestone_stonecutting","mossy_cobblestone_wall_from_mossy_cobblestone_stonecutting","mossy_stone_bricks_from_moss_block","mossy_stone_bricks_from_vine","mossy_stone_brick_slab_from_mossy_stone_brick_stonecutting","mossy_stone_brick_stairs_from_mossy_stone_brick_stonecutting","mossy_stone_brick_wall_from_mossy_stone_brick_stonecutting","mud_brick_slab_from_mud_bricks_stonecutting","mud_brick_stairs_from_mud_bricks_stonecutting","mud_brick_wall_from_mud_bricks_stonecutting","netherite_axe_smithing","netherite_boots_smithing","netherite_chestplate_smithing","netherite_helmet_smithing","netherite_hoe_smithing","netherite_ingot_from_netherite_block","netherite_leggings_smithing","netherite_pickaxe_smithing","netherite_scrap_from_blasting","netherite_shovel_smithing","netherite_sword_smithing","nether_brick_slab_from_nether_bricks_stonecutting","nether_brick_stairs_from_nether_bricks_stonecutting","nether_brick_wall_from_nether_bricks_stonecutting","orange_dye_from_orange_tulip","orange_dye_from_red_yellow","orange_dye_from_torchflower","orange_stained_glass_pane_from_glass_pane","oxidized_chiseled_copper_from_oxidized_copper_stonecutting","oxidized_chiseled_copper_from_oxidized_cut_copper_stonecutting","oxidized_copper_grate_from_oxidized_copper_stonecutting","oxidized_cut_copper_from_oxidized_copper_stonecutting","oxidized_cut_copper_slab_from_oxidized_copper_stonecutting","oxidized_cut_copper_slab_from_oxidized_cut_copper_stonecutting","oxidized_cut_copper_stairs_from_oxidized_copper_stonecutting","oxidized_cut_copper_stairs_from_oxidized_cut_copper_stonecutting","pink_dye_from_peony","pink_dye_from_pink_petals","pink_dye_from_pink_tulip","pink_dye_from_red_white_dye","pink_stained_glass_pane_from_glass_pane","polished_andesite_from_andesite_stonecutting","polished_andesite_slab_from_andesite_stonecutting","polished_andesite_slab_from_polished_andesite_stonecutting","polished_andesite_stairs_from_andesite_stonecutting","polished_andesite_stairs_from_polished_andesite_stonecutting","polished_basalt_from_basalt_stonecutting","polished_blackstone_bricks_from_blackstone_stonecutting","polished_blackstone_bricks_from_polished_blackstone_stonecutting","polished_blackstone_brick_slab_from_blackstone_stonecutting","polished_blackstone_brick_slab_from_polished_blackstone_bricks_stonecutting","polished_blackstone_brick_slab_from_polished_blackstone_stonecutting","polished_blackstone_brick_stairs_from_blackstone_stonecutting","polished_blackstone_brick_stairs_from_polished_blackstone_bricks_stonecutting","polished_blackstone_brick_stairs_from_polished_blackstone_stonecutting","polished_blackstone_brick_wall_from_blackstone_stonecutting","polished_blackstone_brick_wall_from_polished_blackstone_bricks_stonecutting","polished_blackstone_brick_wall_from_polished_blackstone_stonecutting","polished_blackstone_from_blackstone_stonecutting","polished_blackstone_slab_from_blackstone_stonecutting","polished_blackstone_slab_from_polished_blackstone_stonecutting","polished_blackstone_stairs_from_blackstone_stonecutting","polished_blackstone_stairs_from_polished_blackstone_stonecutting","polished_blackstone_wall_from_blackstone_stonecutting","polished_blackstone_wall_from_polished_blackstone_stonecutting","polished_deepslate_from_cobbled_deepslate_stonecutting","polished_deepslate_slab_from_cobbled_deepslate_stonecutting","polished_deepslate_slab_from_polished_deepslate_stonecutting","polished_deepslate_stairs_from_cobbled_deepslate_stonecutting","polished_deepslate_stairs_from_polished_deepslate_stonecutting","polished_deepslate_wall_from_cobbled_deepslate_stonecutting","polished_deepslate_wall_from_polished_deepslate_stonecutting","polished_diorite_from_diorite_stonecutting","polished_diorite_slab_from_diorite_stonecutting","polished_diorite_slab_from_polished_diorite_stonecutting","polished_diorite_stairs_from_diorite_stonecutting","polished_diorite_stairs_from_polished_diorite_stonecutting","polished_granite_from_granite_stonecutting","polished_granite_slab_from_granite_stonecutting","polished_granite_slab_from_polished_granite_stonecutting","polished_granite_stairs_from_granite_stonecutting","polished_granite_stairs_from_polished_granite_stonecutting","polished_tuff_from_tuff_stonecutting","polished_tuff_slab_from_polished_tuff_stonecutting","polished_tuff_slab_from_tuff_stonecutting","polished_tuff_stairs_from_polished_tuff_stonecutting","polished_tuff_stairs_from_tuff_stonecutting","polished_tuff_wall_from_polished_tuff_stonecutting","polished_tuff_wall_from_tuff_stonecutting","prismarine_brick_slab_from_prismarine_stonecutting","prismarine_brick_stairs_from_prismarine_stonecutting","prismarine_slab_from_prismarine_stonecutting","prismarine_stairs_from_prismarine_stonecutting","prismarine_wall_from_prismarine_stonecutting","purple_stained_glass_pane_from_glass_pane","purpur_pillar_from_purpur_block_stonecutting","purpur_slab_from_purpur_block_stonecutting","purpur_stairs_from_purpur_block_stonecutting","quartz_bricks_from_quartz_block_stonecutting","quartz_from_blasting","quartz_pillar_from_quartz_block_stonecutting","quartz_slab_from_stonecutting","quartz_stairs_from_quartz_block_stonecutting","rabbit_stew_from_brown_mushroom","rabbit_stew_from_red_mushroom","raiser_armor_trim_smithing_template_smithing_trim","redstone_from_blasting_deepslate_redstone_ore","redstone_from_blasting_redstone_ore","redstone_from_smelting_deepslate_redstone_ore","redstone_from_smelting_redstone_ore","red_dye_from_beetroot","red_dye_from_poppy","red_dye_from_rose_bush","red_dye_from_tulip","red_nether_brick_slab_from_red_nether_bricks_stonecutting","red_nether_brick_stairs_from_red_nether_bricks_stonecutting","red_nether_brick_wall_from_red_nether_bricks_stonecutting","red_sandstone_slab_from_red_sandstone_stonecutting","red_sandstone_stairs_from_red_sandstone_stonecutting","red_sandstone_wall_from_red_sandstone_stonecutting","red_stained_glass_pane_from_glass_pane","repair_item","rib_armor_trim_smithing_template_smithing_trim","sandstone_slab_from_sandstone_stonecutting","sandstone_stairs_from_sandstone_stonecutting","sandstone_wall_from_sandstone_stonecutting","sentry_armor_trim_smithing_template_smithing_trim","shaper_armor_trim_smithing_template_smithing_trim","shield_decoration","shulker_box_coloring","silence_armor_trim_smithing_template_smithing_trim","smooth_quartz_slab_from_smooth_quartz_stonecutting","smooth_quartz_stairs_from_smooth_quartz_stonecutting","smooth_red_sandstone_slab_from_smooth_red_sandstone_stonecutting","smooth_red_sandstone_stairs_from_smooth_red_sandstone_stonecutting","smooth_sandstone_slab_from_smooth_sandstone_stonecutting","smooth_sandstone_stairs_from_smooth_sandstone_stonecutting","smooth_stone_slab_from_smooth_stone_stonecutting","snout_armor_trim_smithing_template_smithing_trim","spire_armor_trim_smithing_template_smithing_trim","stick_from_bamboo_item","stone_bricks_from_stone_stonecutting","stone_brick_slab_from_stone_bricks_stonecutting","stone_brick_slab_from_stone_stonecutting","stone_brick_stairs_from_stone_bricks_stonecutting","stone_brick_stairs_from_stone_stonecutting","stone_brick_walls_from_stone_stonecutting","stone_brick_wall_from_stone_bricks_stonecutting","stone_slab_from_stone_stonecutting","stone_stairs_from_stone_stonecutting","sugar_from_honey_bottle","sugar_from_sugar_cane","tide_armor_trim_smithing_template_smithing_trim","tuff_bricks_from_polished_tuff_stonecutting","tuff_bricks_from_tuff_stonecutting","tuff_brick_slab_from_polished_tuff_stonecutting","tuff_brick_slab_from_tuff_bricks_stonecutting","tuff_brick_slab_from_tuff_stonecutting","tuff_brick_stairs_from_polished_tuff_stonecutting","tuff_brick_stairs_from_tuff_bricks_stonecutting","tuff_brick_stairs_from_tuff_stonecutting","tuff_brick_wall_from_polished_tuff_stonecutting","tuff_brick_wall_from_tuff_bricks_stonecutting","tuff_brick_wall_from_tuff_stonecutting","tuff_slab_from_tuff_stonecutting","tuff_stairs_from_tuff_stonecutting","tuff_wall_from_tuff_stonecutting","vex_armor_trim_smithing_template_smithing_trim","ward_armor_trim_smithing_template_smithing_trim","waxed_chiseled_copper_from_honeycomb","waxed_chiseled_copper_from_waxed_copper_block_stonecutting","waxed_chiseled_copper_from_waxed_cut_copper_stonecutting","waxed_copper_block_from_honeycomb","waxed_copper_bulb_from_honeycomb","waxed_copper_door_from_honeycomb","waxed_copper_grate_from_honeycomb","waxed_copper_grate_from_waxed_copper_block_stonecutting","waxed_copper_trapdoor_from_honeycomb","waxed_cut_copper_from_honeycomb","waxed_cut_copper_from_waxed_copper_block_stonecutting","waxed_cut_copper_slab_from_honeycomb","waxed_cut_copper_slab_from_waxed_copper_block_stonecutting","waxed_cut_copper_slab_from_waxed_cut_copper_stonecutting","waxed_cut_copper_stairs_from_honeycomb","waxed_cut_copper_stairs_from_waxed_copper_block_stonecutting","waxed_cut_copper_stairs_from_waxed_cut_copper_stonecutting","waxed_exposed_chiseled_copper_from_honeycomb","waxed_exposed_chiseled_copper_from_waxed_exposed_copper_stonecutting","waxed_exposed_chiseled_copper_from_waxed_exposed_cut_copper_stonecutting","waxed_exposed_copper_bulb_from_honeycomb","waxed_exposed_copper_door_from_honeycomb","waxed_exposed_copper_from_honeycomb","waxed_exposed_copper_grate_from_honeycomb","waxed_exposed_copper_grate_from_waxed_exposed_copper_stonecutting","waxed_exposed_copper_trapdoor_from_honeycomb","waxed_exposed_cut_copper_from_honeycomb","waxed_exposed_cut_copper_from_waxed_exposed_copper_stonecutting","waxed_exposed_cut_copper_slab_from_honeycomb","waxed_exposed_cut_copper_slab_from_waxed_exposed_copper_stonecutting","waxed_exposed_cut_copper_slab_from_waxed_exposed_cut_copper_stonecutting","waxed_exposed_cut_copper_stairs_from_honeycomb","waxed_exposed_cut_copper_stairs_from_waxed_exposed_copper_stonecutting","waxed_exposed_cut_copper_stairs_from_waxed_exposed_cut_copper_stonecutting","waxed_oxidized_chiseled_copper_from_honeycomb","waxed_oxidized_chiseled_copper_from_waxed_oxidized_copper_stonecutting","waxed_oxidized_chiseled_copper_from_waxed_oxidized_cut_copper_stonecutting","waxed_oxidized_copper_bulb_from_honeycomb","waxed_oxidized_copper_door_from_honeycomb","waxed_oxidized_copper_from_honeycomb","waxed_oxidized_copper_grate_from_honeycomb","waxed_oxidized_copper_grate_from_waxed_oxidized_copper_stonecutting","waxed_oxidized_copper_trapdoor_from_honeycomb","waxed_oxidized_cut_copper_from_honeycomb","waxed_oxidized_cut_copper_from_waxed_oxidized_copper_stonecutting","waxed_oxidized_cut_copper_slab_from_honeycomb","waxed_oxidized_cut_copper_slab_from_waxed_oxidized_copper_stonecutting","waxed_oxidized_cut_copper_slab_from_waxed_oxidized_cut_copper_stonecutting","waxed_oxidized_cut_copper_stairs_from_honeycomb","waxed_oxidized_cut_copper_stairs_from_waxed_oxidized_copper_stonecutting","waxed_oxidized_cut_copper_stairs_from_waxed_oxidized_cut_copper_stonecutting","waxed_weathered_chiseled_copper_from_honeycomb","waxed_weathered_chiseled_copper_from_waxed_weathered_copper_stonecutting","waxed_weathered_chiseled_copper_from_waxed_weathered_cut_copper_stonecutting","waxed_weathered_copper_bulb_from_honeycomb","waxed_weathered_copper_door_from_honeycomb","waxed_weathered_copper_from_honeycomb","waxed_weathered_copper_grate_from_honeycomb","waxed_weathered_copper_grate_from_waxed_weathered_copper_stonecutting","waxed_weathered_copper_trapdoor_from_honeycomb","waxed_weathered_cut_copper_from_honeycomb","waxed_weathered_cut_copper_from_waxed_weathered_copper_stonecutting","waxed_weathered_cut_copper_slab_from_honeycomb","waxed_weathered_cut_copper_slab_from_waxed_weathered_copper_stonecutting","waxed_weathered_cut_copper_slab_from_waxed_weathered_cut_copper_stonecutting","waxed_weathered_cut_copper_stairs_from_honeycomb","waxed_weathered_cut_copper_stairs_from_waxed_weathered_copper_stonecutting","waxed_weathered_cut_copper_stairs_from_waxed_weathered_cut_copper_stonecutting","wayfinder_armor_trim_smithing_template_smithing_trim","weathered_chiseled_copper_from_weathered_copper_stonecutting","weathered_chiseled_copper_from_weathered_cut_copper_stonecutting","weathered_copper_grate_from_weathered_copper_stonecutting","weathered_cut_copper_from_weathered_copper_stonecutting","weathered_cut_copper_slab_from_weathered_copper_stonecutting","weathered_cut_copper_slab_from_weathered_cut_copper_stonecutting","weathered_cut_copper_stairs_from_weathered_copper_stonecutting","weathered_cut_copper_stairs_from_weathered_cut_copper_stonecutting","white_dye_from_lily_of_the_valley","white_stained_glass_pane_from_glass_pane","white_wool_from_string","wild_armor_trim_smithing_template_smithing_trim","yellow_dye_from_dandelion","yellow_dye_from_sunflower","yellow_stained_glass_pane_from_glass_pane"],blockTags=["#acacia_logs","#air","#all_hanging_signs","#all_signs","#ancient_city_replaceable","#animals_spawnable_on","#anvil","#armadillo_spawnable_on","#axolotls_spawnable_on","#azalea_grows_on","#azalea_root_replaceable","#badlands_terracotta","#bamboo_blocks","#bamboo_plantable_on","#banners","#base_stone_nether","#base_stone_overworld","#beacon_base_blocks","#beds","#beehives","#bee_growables","#big_dripleaf_placeable","#birch_logs","#blocks_wind_charge_explosions","#buttons","#camel_sand_step_sound_blocks","#campfires","#candles","#candle_cakes","#cauldrons","#cave_vines","#ceiling_hanging_signs","#cherry_logs","#climbable","#coal_ores","#combination_step_sound_blocks","#completes_find_tree_tutorial","#concrete_powder","#convertable_to_mud","#copper_ores","#corals","#coral_blocks","#coral_plants","#crimson_stems","#crops","#crystal_sound_blocks","#dampens_vibrations","#dark_oak_logs","#dead_bush_may_place_on","#deepslate_ore_replaceables","#diamond_ores","#dirt","#does_not_block_hoppers","#doors","#dragon_immune","#dragon_transparent","#dripstone_replaceable_blocks","#emerald_ores","#enchantment_power_provider","#enchantment_power_transmitter","#enderman_holdable","#fall_damage_resetting","#features_cannot_replace","#fences","#fence_gates","#fire","#flowers","#flower_pots","#foxes_spawnable_on","#frogs_spawnable_on","#frog_prefer_jump_to","#geode_invalid_blocks","#goats_spawnable_on","#gold_ores","#guarded_by_piglins","#hoglin_repellents","#ice","#impermeable","#incorrect_for_diamond_tool","#incorrect_for_gold_tool","#incorrect_for_iron_tool","#incorrect_for_netherite_tool","#incorrect_for_stone_tool","#incorrect_for_wooden_tool","#infiniburn_end","#infiniburn_nether","#infiniburn_overworld","#inside_step_sound_blocks","#invalid_spawn_inside","#iron_ores","#jungle_logs","#lapis_ores","#lava_pool_stone_cannot_replace","#leaves","#logs","#logs_that_burn","#lush_ground_replaceable","#maintains_farmland","#mangrove_logs","#mangrove_logs_can_grow_through","#mangrove_roots_can_grow_through","#mob_interactable_doors","#mooshrooms_spawnable_on","#moss_replaceable","#mushroom_grow_block","#needs_diamond_tool","#needs_iron_tool","#needs_stone_tool","#nether_carver_replaceables","#nylium","#oak_logs","#occludes_vibration_signals","#overworld_carver_replaceables","#overworld_natural_logs","#parrots_spawnable_on","#piglin_repellents","#planks","#polar_bears_spawnable_on_alternate","#portals","#pressure_plates","#prevent_mob_spawning_inside","#rabbits_spawnable_on","#rails","#redstone_ores","#replaceable","#replaceable_by_trees","#sand","#saplings","#sculk_replaceable","#sculk_replaceable_world_gen","#shulker_boxes","#signs","#slabs","#small_dripleaf_placeable","#small_flowers","#smelts_to_glass","#snaps_goat_horn","#sniffer_diggable_block","#sniffer_egg_hatch_boost","#snow","#snow_layer_cannot_survive_on","#snow_layer_can_survive_on","#soul_fire_base_blocks","#soul_speed_blocks","#spruce_logs","#stairs","#standing_signs","#stone_bricks","#stone_buttons","#stone_ore_replaceables","#stone_pressure_plates","#strider_warm_blocks","#sword_efficient","#tall_flowers","#terracotta","#trail_ruins_replaceable","#trapdoors","#underwater_bonemeals","#unstable_bottom_center","#valid_spawn","#vibration_resonators","#walls","#wall_corals","#wall_hanging_signs","#wall_post_override","#wall_signs","#warped_stems","#wart_blocks","#wither_immune","#wither_summon_base_blocks","#wolves_spawnable_on","#wooden_buttons","#wooden_doors","#wooden_fences","#wooden_pressure_plates","#wooden_slabs","#wooden_stairs","#wooden_trapdoors","#wool","#wool_carpets","#mineable/axe","#mineable/hoe","#mineable/pickaxe","#mineable/shovel"],damageTypeList=["arrow","bad_respawn_point","cactus","campfire","cramming","dragon_breath","drown","dry_out","explosion","fall","falling_anvil","falling_block","falling_stalactite","fireball","fireworks","fly_into_wall","freeze","generic","generic_kill","hot_floor","indirect_magic","in_fire","in_wall","lava","lightning_bolt","magic","mob_attack","mob_attack_no_aggro","mob_projectile","on_fire","outside_border","out_of_world","player_attack","player_explosion","sonic_boom","spit","stalagmite","starve","sting","sweet_berry_bush","thorns","thrown","trident","unattributed_fireball","wind_charge","wither","wither_skull"],soundList=["ambient.basalt_deltas.additions","ambient.basalt_deltas.loop","ambient.basalt_deltas.mood","ambient.cave","ambient.crimson_forest.additions","ambient.crimson_forest.loop","ambient.crimson_forest.mood","ambient.nether_wastes.additions","ambient.nether_wastes.loop","ambient.nether_wastes.mood","ambient.soul_sand_valley.additions","ambient.soul_sand_valley.loop","ambient.soul_sand_valley.mood","ambient.underwater.enter","ambient.underwater.exit","ambient.underwater.loop","ambient.underwater.loop.additions","ambient.underwater.loop.additions.rare","ambient.underwater.loop.additions.ultra_rare","ambient.warped_forest.additions","ambient.warped_forest.loop","ambient.warped_forest.mood","block.amethyst_block.break","block.amethyst_block.chime","block.amethyst_block.fall","block.amethyst_block.hit","block.amethyst_block.place","block.amethyst_block.resonate","block.amethyst_block.step","block.amethyst_cluster.break","block.amethyst_cluster.fall","block.amethyst_cluster.hit","block.amethyst_cluster.place","block.amethyst_cluster.step","block.ancient_debris.break","block.ancient_debris.fall","block.ancient_debris.hit","block.ancient_debris.place","block.ancient_debris.step","block.anvil.break","block.anvil.destroy","block.anvil.fall","block.anvil.hit","block.anvil.land","block.anvil.place","block.anvil.step","block.anvil.use","block.azalea.break","block.azalea.fall","block.azalea.hit","block.azalea.place","block.azalea.step","block.azalea_leaves.break","block.azalea_leaves.fall","block.azalea_leaves.hit","block.azalea_leaves.place","block.azalea_leaves.step","block.bamboo.break","block.bamboo.fall","block.bamboo.hit","block.bamboo.place","block.bamboo.step","block.bamboo_sapling.break","block.bamboo_sapling.hit","block.bamboo_sapling.place","block.bamboo_wood.break","block.bamboo_wood.fall","block.bamboo_wood.hit","block.bamboo_wood.place","block.bamboo_wood.step","block.bamboo_wood_button.click_off","block.bamboo_wood_button.click_on","block.bamboo_wood_door.close","block.bamboo_wood_door.open","block.bamboo_wood_fence_gate.close","block.bamboo_wood_fence_gate.open","block.bamboo_wood_hanging_sign.break","block.bamboo_wood_hanging_sign.fall","block.bamboo_wood_hanging_sign.hit","block.bamboo_wood_hanging_sign.place","block.bamboo_wood_hanging_sign.step","block.bamboo_wood_pressure_plate.click_off","block.bamboo_wood_pressure_plate.click_on","block.bamboo_wood_trapdoor.close","block.bamboo_wood_trapdoor.open","block.barrel.close","block.barrel.open","block.basalt.break","block.basalt.fall","block.basalt.hit","block.basalt.place","block.basalt.step","block.beacon.activate","block.beacon.ambient","block.beacon.deactivate","block.beacon.power_select","block.beehive.drip","block.beehive.enter","block.beehive.exit","block.beehive.shear","block.beehive.work","block.bell.resonate","block.bell.use","block.big_dripleaf.break","block.big_dripleaf.fall","block.big_dripleaf.hit","block.big_dripleaf.place","block.big_dripleaf.step","block.big_dripleaf.tilt_down","block.big_dripleaf.tilt_up","block.blastfurnace.fire_crackle","block.bone_block.break","block.bone_block.fall","block.bone_block.hit","block.bone_block.place","block.bone_block.step","block.brewing_stand.brew","block.bubble_column.bubble_pop","block.bubble_column.upwards_ambient","block.bubble_column.upwards_inside","block.bubble_column.whirlpool_ambient","block.bubble_column.whirlpool_inside","block.cake.add_candle","block.calcite.break","block.calcite.fall","block.calcite.hit","block.calcite.place","block.calcite.step","block.campfire.crackle","block.candle.ambient","block.candle.break","block.candle.extinguish","block.candle.fall","block.candle.hit","block.candle.place","block.candle.step","block.cave_vines.break","block.cave_vines.fall","block.cave_vines.hit","block.cave_vines.pick_berries","block.cave_vines.place","block.cave_vines.step","block.chain.break","block.chain.fall","block.chain.hit","block.chain.place","block.chain.step","block.cherry_leaves.break","block.cherry_leaves.fall","block.cherry_leaves.hit","block.cherry_leaves.place","block.cherry_leaves.step","block.cherry_sapling.break","block.cherry_sapling.fall","block.cherry_sapling.hit","block.cherry_sapling.place","block.cherry_sapling.step","block.cherry_wood.break","block.cherry_wood.fall","block.cherry_wood.hit","block.cherry_wood.place","block.cherry_wood.step","block.cherry_wood_button.click_off","block.cherry_wood_button.click_on","block.cherry_wood_door.close","block.cherry_wood_door.open","block.cherry_wood_fence_gate.close","block.cherry_wood_fence_gate.open","block.cherry_wood_hanging_sign.break","block.cherry_wood_hanging_sign.fall","block.cherry_wood_hanging_sign.hit","block.cherry_wood_hanging_sign.place","block.cherry_wood_hanging_sign.step","block.cherry_wood_pressure_plate.click_off","block.cherry_wood_pressure_plate.click_on","block.cherry_wood_trapdoor.close","block.cherry_wood_trapdoor.open","block.chest.close","block.chest.locked","block.chest.open","block.chiseled_bookshelf.break","block.chiseled_bookshelf.fall","block.chiseled_bookshelf.hit","block.chiseled_bookshelf.insert","block.chiseled_bookshelf.insert.enchanted","block.chiseled_bookshelf.pickup","block.chiseled_bookshelf.pickup.enchanted","block.chiseled_bookshelf.place","block.chiseled_bookshelf.step","block.chorus_flower.death","block.chorus_flower.grow","block.cobweb.break","block.cobweb.fall","block.cobweb.hit","block.cobweb.place","block.cobweb.step","block.comparator.click","block.composter.empty","block.composter.fill","block.composter.fill_success","block.composter.ready","block.conduit.activate","block.conduit.ambient","block.conduit.ambient.short","block.conduit.attack.target","block.conduit.deactivate","block.copper.break","block.copper.fall","block.copper.hit","block.copper.place","block.copper.step","block.copper_bulb.break","block.copper_bulb.fall","block.copper_bulb.hit","block.copper_bulb.place","block.copper_bulb.step","block.copper_bulb.turn_off","block.copper_bulb.turn_on","block.copper_door.close","block.copper_door.open","block.copper_grate.break","block.copper_grate.fall","block.copper_grate.hit","block.copper_grate.place","block.copper_grate.step","block.copper_trapdoor.close","block.copper_trapdoor.open","block.coral_block.break","block.coral_block.fall","block.coral_block.hit","block.coral_block.place","block.coral_block.step","block.crafter.craft","block.crafter.fail","block.crop.break","block.decorated_pot.break","block.decorated_pot.fall","block.decorated_pot.hit","block.decorated_pot.insert","block.decorated_pot.insert_fail","block.decorated_pot.place","block.decorated_pot.shatter","block.decorated_pot.step","block.deepslate.break","block.deepslate.fall","block.deepslate.hit","block.deepslate.place","block.deepslate.step","block.deepslate_bricks.break","block.deepslate_bricks.fall","block.deepslate_bricks.hit","block.deepslate_bricks.place","block.deepslate_bricks.step","block.deepslate_tiles.break","block.deepslate_tiles.fall","block.deepslate_tiles.hit","block.deepslate_tiles.place","block.deepslate_tiles.step","block.dispenser.dispense","block.dispenser.fail","block.dispenser.launch","block.dripstone_block.break","block.dripstone_block.fall","block.dripstone_block.hit","block.dripstone_block.place","block.dripstone_block.step","block.enchantment_table.use","block.end_gateway.spawn","block.end_portal.spawn","block.end_portal_frame.fill","block.ender_chest.close","block.ender_chest.open","block.fence_gate.close","block.fence_gate.open","block.fire.ambient","block.fire.extinguish","block.flowering_azalea.break","block.flowering_azalea.fall","block.flowering_azalea.hit","block.flowering_azalea.place","block.flowering_azalea.step","block.froglight.break","block.froglight.fall","block.froglight.hit","block.froglight.place","block.froglight.step","block.frogspawn.break","block.frogspawn.fall","block.frogspawn.hatch","block.frogspawn.hit","block.frogspawn.place","block.frogspawn.step","block.fungus.break","block.fungus.fall","block.fungus.hit","block.fungus.place","block.fungus.step","block.furnace.fire_crackle","block.gilded_blackstone.break","block.gilded_blackstone.fall","block.gilded_blackstone.hit","block.gilded_blackstone.place","block.gilded_blackstone.step","block.glass.break","block.glass.fall","block.glass.hit","block.glass.place","block.glass.step","block.grass.break","block.grass.fall","block.grass.hit","block.grass.place","block.grass.step","block.gravel.break","block.gravel.fall","block.gravel.hit","block.gravel.place","block.gravel.step","block.grindstone.use","block.growing_plant.crop","block.hanging_roots.break","block.hanging_roots.fall","block.hanging_roots.hit","block.hanging_roots.place","block.hanging_roots.step","block.hanging_sign.break","block.hanging_sign.fall","block.hanging_sign.hit","block.hanging_sign.place","block.hanging_sign.step","block.hanging_sign.waxed_interact_fail","block.heavy_core.break","block.heavy_core.fall","block.heavy_core.hit","block.heavy_core.place","block.heavy_core.step","block.honey_block.break","block.honey_block.fall","block.honey_block.hit","block.honey_block.place","block.honey_block.slide","block.honey_block.step","block.iron_door.close","block.iron_door.open","block.iron_trapdoor.close","block.iron_trapdoor.open","block.ladder.break","block.ladder.fall","block.ladder.hit","block.ladder.place","block.ladder.step","block.lantern.break","block.lantern.fall","block.lantern.hit","block.lantern.place","block.lantern.step","block.large_amethyst_bud.break","block.large_amethyst_bud.place","block.lava.ambient","block.lava.extinguish","block.lava.pop","block.lever.click","block.lily_pad.place","block.lodestone.break","block.lodestone.fall","block.lodestone.hit","block.lodestone.place","block.lodestone.step","block.mangrove_roots.break","block.mangrove_roots.fall","block.mangrove_roots.hit","block.mangrove_roots.place","block.mangrove_roots.step","block.medium_amethyst_bud.break","block.medium_amethyst_bud.place","block.metal.break","block.metal.fall","block.metal.hit","block.metal.place","block.metal.step","block.metal_pressure_plate.click_off","block.metal_pressure_plate.click_on","block.moss.break","block.moss.fall","block.moss.hit","block.moss.place","block.moss.step","block.moss_carpet.break","block.moss_carpet.fall","block.moss_carpet.hit","block.moss_carpet.place","block.moss_carpet.step","block.mud.break","block.mud.fall","block.mud.hit","block.mud.place","block.mud.step","block.mud_bricks.break","block.mud_bricks.fall","block.mud_bricks.hit","block.mud_bricks.place","block.mud_bricks.step","block.muddy_mangrove_roots.break","block.muddy_mangrove_roots.fall","block.muddy_mangrove_roots.hit","block.muddy_mangrove_roots.place","block.muddy_mangrove_roots.step","block.nether_bricks.break","block.nether_bricks.fall","block.nether_bricks.hit","block.nether_bricks.place","block.nether_bricks.step","block.nether_gold_ore.break","block.nether_gold_ore.fall","block.nether_gold_ore.hit","block.nether_gold_ore.place","block.nether_gold_ore.step","block.nether_ore.break","block.nether_ore.fall","block.nether_ore.hit","block.nether_ore.place","block.nether_ore.step","block.nether_sprouts.break","block.nether_sprouts.fall","block.nether_sprouts.hit","block.nether_sprouts.place","block.nether_sprouts.step","block.nether_wart.break","block.nether_wood.break","block.nether_wood.fall","block.nether_wood.hit","block.nether_wood.place","block.nether_wood.step","block.nether_wood_button.click_off","block.nether_wood_button.click_on","block.nether_wood_door.close","block.nether_wood_door.open","block.nether_wood_fence_gate.close","block.nether_wood_fence_gate.open","block.nether_wood_hanging_sign.break","block.nether_wood_hanging_sign.fall","block.nether_wood_hanging_sign.hit","block.nether_wood_hanging_sign.place","block.nether_wood_hanging_sign.step","block.nether_wood_pressure_plate.click_off","block.nether_wood_pressure_plate.click_on","block.nether_wood_trapdoor.close","block.nether_wood_trapdoor.open","block.netherite_block.break","block.netherite_block.fall","block.netherite_block.hit","block.netherite_block.place","block.netherite_block.step","block.netherrack.break","block.netherrack.fall","block.netherrack.hit","block.netherrack.place","block.netherrack.step","block.note_block.banjo","block.note_block.basedrum","block.note_block.bass","block.note_block.bell","block.note_block.bit","block.note_block.chime","block.note_block.cow_bell","block.note_block.didgeridoo","block.note_block.flute","block.note_block.guitar","block.note_block.harp","block.note_block.hat","block.note_block.imitate.creeper","block.note_block.imitate.ender_dragon","block.note_block.imitate.piglin","block.note_block.imitate.skeleton","block.note_block.imitate.wither_skeleton","block.note_block.imitate.zombie","block.note_block.iron_xylophone","block.note_block.pling","block.note_block.snare","block.note_block.xylophone","block.nylium.break","block.nylium.fall","block.nylium.hit","block.nylium.place","block.nylium.step","block.packed_mud.break","block.packed_mud.fall","block.packed_mud.hit","block.packed_mud.place","block.packed_mud.step","block.pink_petals.break","block.pink_petals.fall","block.pink_petals.hit","block.pink_petals.place","block.pink_petals.step","block.piston.contract","block.piston.extend","block.pointed_dripstone.break","block.pointed_dripstone.drip_lava","block.pointed_dripstone.drip_lava_into_cauldron","block.pointed_dripstone.drip_water","block.pointed_dripstone.drip_water_into_cauldron","block.pointed_dripstone.fall","block.pointed_dripstone.hit","block.pointed_dripstone.land","block.pointed_dripstone.place","block.pointed_dripstone.step","block.polished_deepslate.break","block.polished_deepslate.fall","block.polished_deepslate.hit","block.polished_deepslate.place","block.polished_deepslate.step","block.polished_tuff.break","block.polished_tuff.fall","block.polished_tuff.hit","block.polished_tuff.place","block.polished_tuff.step","block.portal.ambient","block.portal.travel","block.portal.trigger","block.powder_snow.break","block.powder_snow.fall","block.powder_snow.hit","block.powder_snow.place","block.powder_snow.step","block.pumpkin.carve","block.redstone_torch.burnout","block.respawn_anchor.ambient","block.respawn_anchor.charge","block.respawn_anchor.deplete","block.respawn_anchor.set_spawn","block.rooted_dirt.break","block.rooted_dirt.fall","block.rooted_dirt.hit","block.rooted_dirt.place","block.rooted_dirt.step","block.roots.break","block.roots.fall","block.roots.hit","block.roots.place","block.roots.step","block.sand.break","block.sand.fall","block.sand.hit","block.sand.place","block.sand.step","block.scaffolding.break","block.scaffolding.fall","block.scaffolding.hit","block.scaffolding.place","block.scaffolding.step","block.sculk.break","block.sculk.charge","block.sculk.fall","block.sculk.hit","block.sculk.place","block.sculk.spread","block.sculk.step","block.sculk_catalyst.bloom","block.sculk_catalyst.break","block.sculk_catalyst.fall","block.sculk_catalyst.hit","block.sculk_catalyst.place","block.sculk_catalyst.step","block.sculk_sensor.break","block.sculk_sensor.clicking","block.sculk_sensor.clicking_stop","block.sculk_sensor.fall","block.sculk_sensor.hit","block.sculk_sensor.place","block.sculk_sensor.step","block.sculk_shrieker.break","block.sculk_shrieker.fall","block.sculk_shrieker.hit","block.sculk_shrieker.place","block.sculk_shrieker.shriek","block.sculk_shrieker.step","block.sculk_vein.break","block.sculk_vein.fall","block.sculk_vein.hit","block.sculk_vein.place","block.sculk_vein.step","block.shroomlight.break","block.shroomlight.fall","block.shroomlight.hit","block.shroomlight.place","block.shroomlight.step","block.shulker_box.close","block.shulker_box.open","block.sign.waxed_interact_fail","block.slime_block.break","block.slime_block.fall","block.slime_block.hit","block.slime_block.place","block.slime_block.step","block.small_amethyst_bud.break","block.small_amethyst_bud.place","block.small_dripleaf.break","block.small_dripleaf.fall","block.small_dripleaf.hit","block.small_dripleaf.place","block.small_dripleaf.step","block.smithing_table.use","block.smoker.smoke","block.sniffer_egg.crack","block.sniffer_egg.hatch","block.sniffer_egg.plop","block.snow.break","block.snow.fall","block.snow.hit","block.snow.place","block.snow.step","block.soul_sand.break","block.soul_sand.fall","block.soul_sand.hit","block.soul_sand.place","block.soul_sand.step","block.soul_soil.break","block.soul_soil.fall","block.soul_soil.hit","block.soul_soil.place","block.soul_soil.step","block.sponge.absorb","block.sponge.break","block.sponge.fall","block.sponge.hit","block.sponge.place","block.sponge.step","block.spore_blossom.break","block.spore_blossom.fall","block.spore_blossom.hit","block.spore_blossom.place","block.spore_blossom.step","block.stem.break","block.stem.fall","block.stem.hit","block.stem.place","block.stem.step","block.stone.break","block.stone.fall","block.stone.hit","block.stone.place","block.stone.step","block.stone_button.click_off","block.stone_button.click_on","block.stone_pressure_plate.click_off","block.stone_pressure_plate.click_on","block.suspicious_gravel.break","block.suspicious_gravel.fall","block.suspicious_gravel.hit","block.suspicious_gravel.place","block.suspicious_gravel.step","block.suspicious_sand.break","block.suspicious_sand.fall","block.suspicious_sand.hit","block.suspicious_sand.place","block.suspicious_sand.step","block.sweet_berry_bush.break","block.sweet_berry_bush.pick_berries","block.sweet_berry_bush.place","block.trial_spawner.about_to_spawn_item","block.trial_spawner.ambient","block.trial_spawner.ambient_ominous","block.trial_spawner.break","block.trial_spawner.close_shutter","block.trial_spawner.detect_player","block.trial_spawner.eject_item","block.trial_spawner.fall","block.trial_spawner.hit","block.trial_spawner.ominous_activate","block.trial_spawner.open_shutter","block.trial_spawner.place","block.trial_spawner.spawn_item","block.trial_spawner.spawn_item_begin","block.trial_spawner.spawn_mob","block.trial_spawner.step","block.tripwire.attach","block.tripwire.click_off","block.tripwire.click_on","block.tripwire.detach","block.tuff.break","block.tuff.fall","block.tuff.hit","block.tuff.place","block.tuff.step","block.tuff_bricks.break","block.tuff_bricks.fall","block.tuff_bricks.hit","block.tuff_bricks.place","block.tuff_bricks.step","block.vault.activate","block.vault.ambient","block.vault.break","block.vault.close_shutter","block.vault.deactivate","block.vault.eject_item","block.vault.fall","block.vault.hit","block.vault.insert_item","block.vault.insert_item_fail","block.vault.open_shutter","block.vault.place","block.vault.reject_rewarded_player","block.vault.step","block.vine.break","block.vine.fall","block.vine.hit","block.vine.place","block.vine.step","block.wart_block.break","block.wart_block.fall","block.wart_block.hit","block.wart_block.place","block.wart_block.step","block.water.ambient","block.weeping_vines.break","block.weeping_vines.fall","block.weeping_vines.hit","block.weeping_vines.place","block.weeping_vines.step","block.wet_grass.break","block.wet_grass.fall","block.wet_grass.hit","block.wet_grass.place","block.wet_grass.step","block.wet_sponge.break","block.wet_sponge.dries","block.wet_sponge.fall","block.wet_sponge.hit","block.wet_sponge.place","block.wet_sponge.step","block.wood.break","block.wood.fall","block.wood.hit","block.wood.place","block.wood.step","block.wooden_button.click_off","block.wooden_button.click_on","block.wooden_door.close","block.wooden_door.open","block.wooden_pressure_plate.click_off","block.wooden_pressure_plate.click_on","block.wooden_trapdoor.close","block.wooden_trapdoor.open","block.wool.break","block.wool.fall","block.wool.hit","block.wool.place","block.wool.step","enchant.thorns.hit","entity.allay.ambient_with_item","entity.allay.ambient_without_item","entity.allay.death","entity.allay.hurt","entity.allay.item_given","entity.allay.item_taken","entity.allay.item_thrown","entity.armadillo.ambient","entity.armadillo.brush","entity.armadillo.death","entity.armadillo.eat","entity.armadillo.hurt","entity.armadillo.hurt_reduced","entity.armadillo.land","entity.armadillo.peek","entity.armadillo.roll","entity.armadillo.scute_drop","entity.armadillo.step","entity.armadillo.unroll_finish","entity.armadillo.unroll_start","entity.armor_stand.break","entity.armor_stand.fall","entity.armor_stand.hit","entity.armor_stand.place","entity.arrow.hit","entity.arrow.hit_player","entity.arrow.shoot","entity.axolotl.attack","entity.axolotl.death","entity.axolotl.hurt","entity.axolotl.idle_air","entity.axolotl.idle_water","entity.axolotl.splash","entity.axolotl.swim","entity.bat.ambient","entity.bat.death","entity.bat.hurt","entity.bat.loop","entity.bat.takeoff","entity.bee.death","entity.bee.hurt","entity.bee.loop","entity.bee.loop_aggressive","entity.bee.pollinate","entity.bee.sting","entity.blaze.ambient","entity.blaze.burn","entity.blaze.death","entity.blaze.hurt","entity.blaze.shoot","entity.boat.paddle_land","entity.boat.paddle_water","entity.bogged.ambient","entity.bogged.death","entity.bogged.hurt","entity.bogged.shear","entity.bogged.step","entity.breeze.charge","entity.breeze.death","entity.breeze.deflect","entity.breeze.hurt","entity.breeze.idle_air","entity.breeze.idle_ground","entity.breeze.inhale","entity.breeze.jump","entity.breeze.land","entity.breeze.shoot","entity.breeze.slide","entity.breeze.whirl","entity.breeze.wind_burst","entity.camel.ambient","entity.camel.dash","entity.camel.dash_ready","entity.camel.death","entity.camel.eat","entity.camel.hurt","entity.camel.saddle","entity.camel.sit","entity.camel.stand","entity.camel.step","entity.camel.step_sand","entity.cat.ambient","entity.cat.beg_for_food","entity.cat.death","entity.cat.eat","entity.cat.hiss","entity.cat.hurt","entity.cat.purr","entity.cat.purreow","entity.cat.stray_ambient","entity.chicken.ambient","entity.chicken.death","entity.chicken.egg","entity.chicken.hurt","entity.chicken.step","entity.cod.ambient","entity.cod.death","entity.cod.flop","entity.cod.hurt","entity.cow.ambient","entity.cow.death","entity.cow.hurt","entity.cow.milk","entity.cow.step","entity.creeper.death","entity.creeper.hurt","entity.creeper.primed","entity.dolphin.ambient","entity.dolphin.ambient_water","entity.dolphin.attack","entity.dolphin.death","entity.dolphin.eat","entity.dolphin.hurt","entity.dolphin.jump","entity.dolphin.play","entity.dolphin.splash","entity.dolphin.swim","entity.donkey.ambient","entity.donkey.angry","entity.donkey.chest","entity.donkey.death","entity.donkey.eat","entity.donkey.hurt","entity.donkey.jump","entity.dragon_fireball.explode","entity.drowned.ambient","entity.drowned.ambient_water","entity.drowned.death","entity.drowned.death_water","entity.drowned.hurt","entity.drowned.hurt_water","entity.drowned.shoot","entity.drowned.step","entity.drowned.swim","entity.egg.throw","entity.elder_guardian.ambient","entity.elder_guardian.ambient_land","entity.elder_guardian.curse","entity.elder_guardian.death","entity.elder_guardian.death_land","entity.elder_guardian.flop","entity.elder_guardian.hurt","entity.elder_guardian.hurt_land","entity.ender_dragon.ambient","entity.ender_dragon.death","entity.ender_dragon.flap","entity.ender_dragon.growl","entity.ender_dragon.hurt","entity.ender_dragon.shoot","entity.ender_eye.death","entity.ender_eye.launch","entity.ender_pearl.throw","entity.enderman.ambient","entity.enderman.death","entity.enderman.hurt","entity.enderman.scream","entity.enderman.stare","entity.enderman.teleport","entity.endermite.ambient","entity.endermite.death","entity.endermite.hurt","entity.endermite.step","entity.evoker.ambient","entity.evoker.cast_spell","entity.evoker.celebrate","entity.evoker.death","entity.evoker.hurt","entity.evoker.prepare_attack","entity.evoker.prepare_summon","entity.evoker.prepare_wololo","entity.evoker_fangs.attack","entity.experience_bottle.throw","entity.experience_orb.pickup","entity.firework_rocket.blast","entity.firework_rocket.blast_far","entity.firework_rocket.large_blast","entity.firework_rocket.large_blast_far","entity.firework_rocket.launch","entity.firework_rocket.shoot","entity.firework_rocket.twinkle","entity.firework_rocket.twinkle_far","entity.fish.swim","entity.fishing_bobber.retrieve","entity.fishing_bobber.splash","entity.fishing_bobber.throw","entity.fox.aggro","entity.fox.ambient","entity.fox.bite","entity.fox.death","entity.fox.eat","entity.fox.hurt","entity.fox.screech","entity.fox.sleep","entity.fox.sniff","entity.fox.spit","entity.fox.teleport","entity.frog.ambient","entity.frog.death","entity.frog.eat","entity.frog.hurt","entity.frog.lay_spawn","entity.frog.long_jump","entity.frog.step","entity.frog.tongue","entity.generic.big_fall","entity.generic.burn","entity.generic.death","entity.generic.drink","entity.generic.eat","entity.generic.explode","entity.generic.extinguish_fire","entity.generic.hurt","entity.generic.small_fall","entity.generic.splash","entity.generic.swim","entity.ghast.ambient","entity.ghast.death","entity.ghast.hurt","entity.ghast.scream","entity.ghast.shoot","entity.ghast.warn","entity.glow_item_frame.add_item","entity.glow_item_frame.break","entity.glow_item_frame.place","entity.glow_item_frame.remove_item","entity.glow_item_frame.rotate_item","entity.glow_squid.ambient","entity.glow_squid.death","entity.glow_squid.hurt","entity.glow_squid.squirt","entity.goat.ambient","entity.goat.death","entity.goat.eat","entity.goat.horn_break","entity.goat.hurt","entity.goat.long_jump","entity.goat.milk","entity.goat.prepare_ram","entity.goat.ram_impact","entity.goat.screaming.ambient","entity.goat.screaming.death","entity.goat.screaming.eat","entity.goat.screaming.hurt","entity.goat.screaming.long_jump","entity.goat.screaming.milk","entity.goat.screaming.prepare_ram","entity.goat.screaming.ram_impact","entity.goat.step","entity.guardian.ambient","entity.guardian.ambient_land","entity.guardian.attack","entity.guardian.death","entity.guardian.death_land","entity.guardian.flop","entity.guardian.hurt","entity.guardian.hurt_land","entity.hoglin.ambient","entity.hoglin.angry","entity.hoglin.attack","entity.hoglin.converted_to_zombified","entity.hoglin.death","entity.hoglin.hurt","entity.hoglin.retreat","entity.hoglin.step","entity.horse.ambient","entity.horse.angry","entity.horse.armor","entity.horse.breathe","entity.horse.death","entity.horse.eat","entity.horse.gallop","entity.horse.hurt","entity.horse.jump","entity.horse.land","entity.horse.saddle","entity.horse.step","entity.horse.step_wood","entity.hostile.big_fall","entity.hostile.death","entity.hostile.hurt","entity.hostile.small_fall","entity.hostile.splash","entity.hostile.swim","entity.husk.ambient","entity.husk.converted_to_zombie","entity.husk.death","entity.husk.hurt","entity.husk.step","entity.illusioner.ambient","entity.illusioner.cast_spell","entity.illusioner.death","entity.illusioner.hurt","entity.illusioner.mirror_move","entity.illusioner.prepare_blindness","entity.illusioner.prepare_mirror","entity.iron_golem.attack","entity.iron_golem.damage","entity.iron_golem.death","entity.iron_golem.hurt","entity.iron_golem.repair","entity.iron_golem.step","entity.item.break","entity.item.pickup","entity.item_frame.add_item","entity.item_frame.break","entity.item_frame.place","entity.item_frame.remove_item","entity.item_frame.rotate_item","entity.leash_knot.break","entity.leash_knot.place","entity.lightning_bolt.impact","entity.lightning_bolt.thunder","entity.lingering_potion.throw","entity.llama.ambient","entity.llama.angry","entity.llama.chest","entity.llama.death","entity.llama.eat","entity.llama.hurt","entity.llama.spit","entity.llama.step","entity.llama.swag","entity.magma_cube.death","entity.magma_cube.death_small","entity.magma_cube.hurt","entity.magma_cube.hurt_small","entity.magma_cube.jump","entity.magma_cube.squish","entity.magma_cube.squish_small","entity.minecart.inside","entity.minecart.inside.underwater","entity.minecart.riding","entity.mooshroom.convert","entity.mooshroom.eat","entity.mooshroom.milk","entity.mooshroom.shear","entity.mooshroom.suspicious_milk","entity.mule.ambient","entity.mule.angry","entity.mule.chest","entity.mule.death","entity.mule.eat","entity.mule.hurt","entity.mule.jump","entity.ocelot.ambient","entity.ocelot.death","entity.ocelot.hurt","entity.painting.break","entity.painting.place","entity.panda.aggressive_ambient","entity.panda.ambient","entity.panda.bite","entity.panda.cant_breed","entity.panda.death","entity.panda.eat","entity.panda.hurt","entity.panda.pre_sneeze","entity.panda.sneeze","entity.panda.step","entity.panda.worried_ambient","entity.parrot.ambient","entity.parrot.death","entity.parrot.eat","entity.parrot.fly","entity.parrot.hurt","entity.parrot.imitate.blaze","entity.parrot.imitate.bogged","entity.parrot.imitate.breeze","entity.parrot.imitate.creeper","entity.parrot.imitate.drowned","entity.parrot.imitate.elder_guardian","entity.parrot.imitate.ender_dragon","entity.parrot.imitate.endermite","entity.parrot.imitate.evoker","entity.parrot.imitate.ghast","entity.parrot.imitate.guardian","entity.parrot.imitate.hoglin","entity.parrot.imitate.husk","entity.parrot.imitate.illusioner","entity.parrot.imitate.magma_cube","entity.parrot.imitate.phantom","entity.parrot.imitate.piglin","entity.parrot.imitate.piglin_brute","entity.parrot.imitate.pillager","entity.parrot.imitate.ravager","entity.parrot.imitate.shulker","entity.parrot.imitate.silverfish","entity.parrot.imitate.skeleton","entity.parrot.imitate.slime","entity.parrot.imitate.spider","entity.parrot.imitate.stray","entity.parrot.imitate.vex","entity.parrot.imitate.vindicator","entity.parrot.imitate.warden","entity.parrot.imitate.witch","entity.parrot.imitate.wither","entity.parrot.imitate.wither_skeleton","entity.parrot.imitate.zoglin","entity.parrot.imitate.zombie","entity.parrot.imitate.zombie_villager","entity.parrot.step","entity.phantom.ambient","entity.phantom.bite","entity.phantom.death","entity.phantom.flap","entity.phantom.hurt","entity.phantom.swoop","entity.pig.ambient","entity.pig.death","entity.pig.hurt","entity.pig.saddle","entity.pig.step","entity.piglin.admiring_item","entity.piglin.ambient","entity.piglin.angry","entity.piglin.celebrate","entity.piglin.converted_to_zombified","entity.piglin.death","entity.piglin.hurt","entity.piglin.jealous","entity.piglin.retreat","entity.piglin.step","entity.piglin_brute.ambient","entity.piglin_brute.angry","entity.piglin_brute.converted_to_zombified","entity.piglin_brute.death","entity.piglin_brute.hurt","entity.piglin_brute.step","entity.pillager.ambient","entity.pillager.celebrate","entity.pillager.death","entity.pillager.hurt","entity.player.attack.crit","entity.player.attack.knockback","entity.player.attack.nodamage","entity.player.attack.strong","entity.player.attack.sweep","entity.player.attack.weak","entity.player.big_fall","entity.player.breath","entity.player.burp","entity.player.death","entity.player.hurt","entity.player.hurt_drown","entity.player.hurt_freeze","entity.player.hurt_on_fire","entity.player.hurt_sweet_berry_bush","entity.player.levelup","entity.player.small_fall","entity.player.splash","entity.player.splash.high_speed","entity.player.swim","entity.player.teleport","entity.polar_bear.ambient","entity.polar_bear.ambient_baby","entity.polar_bear.death","entity.polar_bear.hurt","entity.polar_bear.step","entity.polar_bear.warning","entity.puffer_fish.ambient","entity.puffer_fish.blow_out","entity.puffer_fish.blow_up","entity.puffer_fish.death","entity.puffer_fish.flop","entity.puffer_fish.hurt","entity.puffer_fish.sting","entity.rabbit.ambient","entity.rabbit.attack","entity.rabbit.death","entity.rabbit.hurt","entity.rabbit.jump","entity.ravager.ambient","entity.ravager.attack","entity.ravager.celebrate","entity.ravager.death","entity.ravager.hurt","entity.ravager.roar","entity.ravager.step","entity.ravager.stunned","entity.salmon.ambient","entity.salmon.death","entity.salmon.flop","entity.salmon.hurt","entity.sheep.ambient","entity.sheep.death","entity.sheep.hurt","entity.sheep.shear","entity.sheep.step","entity.shulker.ambient","entity.shulker.close","entity.shulker.death","entity.shulker.hurt","entity.shulker.hurt_closed","entity.shulker.open","entity.shulker.shoot","entity.shulker.teleport","entity.shulker_bullet.hit","entity.shulker_bullet.hurt","entity.silverfish.ambient","entity.silverfish.death","entity.silverfish.hurt","entity.silverfish.step","entity.skeleton.ambient","entity.skeleton.converted_to_stray","entity.skeleton.death","entity.skeleton.hurt","entity.skeleton.shoot","entity.skeleton.step","entity.skeleton_horse.ambient","entity.skeleton_horse.ambient_water","entity.skeleton_horse.death","entity.skeleton_horse.gallop_water","entity.skeleton_horse.hurt","entity.skeleton_horse.jump_water","entity.skeleton_horse.step_water","entity.skeleton_horse.swim","entity.slime.attack","entity.slime.death","entity.slime.death_small","entity.slime.hurt","entity.slime.hurt_small","entity.slime.jump","entity.slime.jump_small","entity.slime.squish","entity.slime.squish_small","entity.sniffer.death","entity.sniffer.digging","entity.sniffer.digging_stop","entity.sniffer.drop_seed","entity.sniffer.eat","entity.sniffer.happy","entity.sniffer.hurt","entity.sniffer.idle","entity.sniffer.scenting","entity.sniffer.searching","entity.sniffer.sniffing","entity.sniffer.step","entity.snow_golem.ambient","entity.snow_golem.death","entity.snow_golem.hurt","entity.snow_golem.shear","entity.snow_golem.shoot","entity.snowball.throw","entity.spider.ambient","entity.spider.death","entity.spider.hurt","entity.spider.step","entity.splash_potion.break","entity.splash_potion.throw","entity.squid.ambient","entity.squid.death","entity.squid.hurt","entity.squid.squirt","entity.stray.ambient","entity.stray.death","entity.stray.hurt","entity.stray.step","entity.strider.ambient","entity.strider.death","entity.strider.eat","entity.strider.happy","entity.strider.hurt","entity.strider.retreat","entity.strider.saddle","entity.strider.step","entity.strider.step_lava","entity.tadpole.death","entity.tadpole.flop","entity.tadpole.grow_up","entity.tadpole.hurt","entity.tnt.primed","entity.tropical_fish.ambient","entity.tropical_fish.death","entity.tropical_fish.flop","entity.tropical_fish.hurt","entity.turtle.ambient_land","entity.turtle.death","entity.turtle.death_baby","entity.turtle.egg_break","entity.turtle.egg_crack","entity.turtle.egg_hatch","entity.turtle.hurt","entity.turtle.hurt_baby","entity.turtle.lay_egg","entity.turtle.shamble","entity.turtle.shamble_baby","entity.turtle.swim","entity.vex.ambient","entity.vex.charge","entity.vex.death","entity.vex.hurt","entity.villager.ambient","entity.villager.celebrate","entity.villager.death","entity.villager.hurt","entity.villager.no","entity.villager.trade","entity.villager.work_armorer","entity.villager.work_butcher","entity.villager.work_cartographer","entity.villager.work_cleric","entity.villager.work_farmer","entity.villager.work_fisherman","entity.villager.work_fletcher","entity.villager.work_leatherworker","entity.villager.work_librarian","entity.villager.work_mason","entity.villager.work_shepherd","entity.villager.work_toolsmith","entity.villager.work_weaponsmith","entity.villager.yes","entity.vindicator.ambient","entity.vindicator.celebrate","entity.vindicator.death","entity.vindicator.hurt","entity.wandering_trader.ambient","entity.wandering_trader.death","entity.wandering_trader.disappeared","entity.wandering_trader.drink_milk","entity.wandering_trader.drink_potion","entity.wandering_trader.hurt","entity.wandering_trader.no","entity.wandering_trader.reappeared","entity.wandering_trader.trade","entity.wandering_trader.yes","entity.warden.agitated","entity.warden.ambient","entity.warden.angry","entity.warden.attack_impact","entity.warden.death","entity.warden.dig","entity.warden.emerge","entity.warden.heartbeat","entity.warden.hurt","entity.warden.listening","entity.warden.listening_angry","entity.warden.nearby_close","entity.warden.nearby_closer","entity.warden.nearby_closest","entity.warden.roar","entity.warden.sniff","entity.warden.sonic_boom","entity.warden.sonic_charge","entity.warden.step","entity.warden.tendril_clicks","entity.wind_charge.throw","entity.wind_charge.wind_burst","entity.witch.ambient","entity.witch.celebrate","entity.witch.death","entity.witch.drink","entity.witch.hurt","entity.witch.throw","entity.wither.ambient","entity.wither.break_block","entity.wither.death","entity.wither.hurt","entity.wither.shoot","entity.wither.spawn","entity.wither_skeleton.ambient","entity.wither_skeleton.death","entity.wither_skeleton.hurt","entity.wither_skeleton.step","entity.wolf.ambient","entity.wolf.death","entity.wolf.growl","entity.wolf.howl","entity.wolf.hurt","entity.wolf.pant","entity.wolf.shake","entity.wolf.step","entity.wolf.whine","entity.zoglin.ambient","entity.zoglin.angry","entity.zoglin.attack","entity.zoglin.death","entity.zoglin.hurt","entity.zoglin.step","entity.zombie.ambient","entity.zombie.attack_iron_door","entity.zombie.attack_wooden_door","entity.zombie.break_wooden_door","entity.zombie.converted_to_drowned","entity.zombie.death","entity.zombie.destroy_egg","entity.zombie.hurt","entity.zombie.infect","entity.zombie.step","entity.zombie_horse.ambient","entity.zombie_horse.death","entity.zombie_horse.hurt","entity.zombie_villager.ambient","entity.zombie_villager.converted","entity.zombie_villager.cure","entity.zombie_villager.death","entity.zombie_villager.hurt","entity.zombie_villager.step","entity.zombified_piglin.ambient","entity.zombified_piglin.angry","entity.zombified_piglin.death","entity.zombified_piglin.hurt","event.mob_effect.bad_omen","event.mob_effect.raid_omen","event.mob_effect.trial_omen","event.raid.horn","item.armor.equip_chain","item.armor.equip_diamond","item.armor.equip_elytra","item.armor.equip_generic","item.armor.equip_gold","item.armor.equip_iron","item.armor.equip_leather","item.armor.equip_netherite","item.armor.equip_turtle","item.armor.equip_wolf","item.armor.unequip_wolf","item.axe.scrape","item.axe.strip","item.axe.wax_off","item.bone_meal.use","item.book.page_turn","item.book.put","item.bottle.empty","item.bottle.fill","item.bottle.fill_dragonbreath","item.brush.brushing.generic","item.brush.brushing.gravel","item.brush.brushing.gravel.complete","item.brush.brushing.sand","item.brush.brushing.sand.complete","item.bucket.empty","item.bucket.empty_axolotl","item.bucket.empty_fish","item.bucket.empty_lava","item.bucket.empty_powder_snow","item.bucket.empty_tadpole","item.bucket.fill","item.bucket.fill_axolotl","item.bucket.fill_fish","item.bucket.fill_lava","item.bucket.fill_powder_snow","item.bucket.fill_tadpole","item.bundle.drop_contents","item.bundle.insert","item.bundle.remove_one","item.chorus_fruit.teleport","item.crop.plant","item.crossbow.hit","item.crossbow.loading_end","item.crossbow.loading_middle","item.crossbow.loading_start","item.crossbow.quick_charge_1","item.crossbow.quick_charge_2","item.crossbow.quick_charge_3","item.crossbow.shoot","item.dye.use","item.elytra.flying","item.firecharge.use","item.flintandsteel.use","item.glow_ink_sac.use","item.goat_horn.sound.0","item.goat_horn.sound.1","item.goat_horn.sound.2","item.goat_horn.sound.3","item.goat_horn.sound.4","item.goat_horn.sound.5","item.goat_horn.sound.6","item.goat_horn.sound.7","item.hoe.till","item.honey_bottle.drink","item.honeycomb.wax_on","item.ink_sac.use","item.lodestone_compass.lock","item.mace.smash_air","item.mace.smash_ground","item.mace.smash_ground_heavy","item.nether_wart.plant","item.ominous_bottle.dispose","item.shield.block","item.shield.break","item.shovel.flatten","item.spyglass.stop_using","item.spyglass.use","item.totem.use","item.trident.hit","item.trident.hit_ground","item.trident.return","item.trident.riptide_1","item.trident.riptide_2","item.trident.riptide_3","item.trident.throw","item.trident.thunder","item.wolf_armor.break","item.wolf_armor.crack","item.wolf_armor.damage","item.wolf_armor.repair","music.creative","music.credits","music.dragon","music.end","music.game","music.menu","music.nether.basalt_deltas","music.nether.crimson_forest","music.nether.nether_wastes","music.nether.soul_sand_valley","music.nether.warped_forest","music.overworld.badlands","music.overworld.bamboo_jungle","music.overworld.cherry_grove","music.overworld.deep_dark","music.overworld.desert","music.overworld.dripstone_caves","music.overworld.flower_forest","music.overworld.forest","music.overworld.frozen_peaks","music.overworld.grove","music.overworld.jagged_peaks","music.overworld.jungle","music.overworld.lush_caves","music.overworld.meadow","music.overworld.old_growth_taiga","music.overworld.snowy_slopes","music.overworld.sparse_jungle","music.overworld.stony_peaks","music.overworld.swamp","music.under_water","music_disc.11","music_disc.13","music_disc.5","music_disc.blocks","music_disc.cat","music_disc.chirp","music_disc.creator","music_disc.creator_music_box","music_disc.far","music_disc.mall","music_disc.mellohi","music_disc.otherside","music_disc.pigstep","music_disc.precipice","music_disc.relic","music_disc.stal","music_disc.strad","music_disc.wait","music_disc.ward","particle.soul_escape","ui.button.click","ui.cartography_table.take_result","ui.loom.select_pattern","ui.loom.take_result","ui.stonecutter.select_recipe","ui.stonecutter.take_result","ui.toast.challenge_complete","ui.toast.in","ui.toast.out","weather.rain","weather.rain.above"],itemIgnoreBlockStates=["wheat"],axisBS=(orientations=["down_east","down_north","down_south","down_west","up_east","up_north","up_south","up_west","east_up","north_up","south_up","west_up"],["x","y","z"]),nsweName=["north","south","east","west"],nsewudName=["north","south","east","west","up","down"],nsewdName=["north","south","east","west","down"],nsewuName=["north","south","east","west","up"],signColors=["white","orange","magenta","light_blue","yellow","lime","pink","gray","light_gray","cyan","purple","blue","brown","green","red","black"],doorBS={facing:nsweName,half:["upper","lower"],hinge:["left","right"],open:[!1,!0],powered:[!1,!0]},buttonsBS={facing:nsweName,face:["ceiling","wall","floor"],powered:[!1,!0]},leavesBS={distance:[1,2,3,4,5,6,7],persistent:[!1,!0],waterlogged:[!1,!0]},stairBlockState={facing:nsweName,half:["top","bottom"],shape:["straight","inner_left","inner_right","outer_left","outer_right"],waterlogged:[!1,!0]},trapdoors={powered:[!1,!0],facing:nsweName,half:["top","bottom"],open:[!1,!0]},slabTypes={type:["top","bottom","double"],waterlogged:[!1,!0]},bedOptions={occupied:[!1,!0],facing:nsweName,part:["head","foot"]},standingSignBanner=[[0,"south"],[1,"south-southwest"],[2,"southwest"],[3,"west-southwest"],[4,"west"],[5,"west-northwest"],[6,"northwest"],[7,"north-northwest"],[8,"north"],[9,"north-northeast"],[10,"northeast"],[11,"east-northeast"],[12,"east"],[13,"east-southeast"],[14,"southeast"],[15,"south-southeast"]],hangingSigns={attached:[!1,!0],rotation:standingSignBanner,waterlogged:[!1,!0]},wallSignBS={facing:nsweName,waterlogged:[!1,!0]},colours1=[[0,"White"],[1,"Orange"],[2,"Magenta"],[3,"Light Blue"],[4,"Yellow"],[5,"Lime"],[6,"Pink"],[7,"Gray"],[8,"Light Gray"],[9,"Cyan"],[10,"Purple"],[11,"Blue"],[12,"Brown"],[13,"Green"],[14,"Red"],[15,"Black"]],fenceBS={north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],waterlogged:[!0,!1]},wallBS={north:["low","none","tall"],south:["low","none","tall"],east:["low","none","tall"],west:["low","none","tall"],up:[!1,!0],waterlogged:[!0,!1]},fenceGateBS={facing:nsweName,in_wall:[!1,!0],open:[!1,!0],powered:[!1,!0],waterlogged:[!0,!1]},candles={candles:[1,2,3,4],lit:[!1,!0],waterlogged:[!1,!0]},mushroom=[[0,"Pores on all sides"],[1,"Cap texture on top, west and north"],[2,"Cap texture on top and north"],[3,"Cap texture on top, north and east"],[4,"Cap texture on top and west"],[5,"Cap texture on top"],[6,"Cap texture on top and east"],[7,"Cap texture on top, south and west"],[8,"Cap texture on top and south"],[9,"Cap texture on top, east and south"],[10,"Stem texture on all four sides, pores on top and bottom"],[14,"Cap texture on all six sides"],[15,"Stem texture on all six sides"]],trapdoor=[[0,"Trapdoor on the west side of a block (bottom of block)"],[1,"Trapdoor on the south side of a block (bottom of block)"],[2,"Trapdoor on the east side of a block (bottom of block)"],[3,"Trapdoor on the north side of a block (bottom of block)"],[4,"Open Trapdoor on the west side of a block (bottom of block)"],[5,"Open Trapdoor on the south side of a block (bottom of block)"],[6,"Open Trapdoor on the east side of a block (bottom of block)"],[7,"Open Trapdoor on the north side of a block (bottom of block)"],[8,"Trapdoor on the west side of a block (top of block)"],[9,"Trapdoor on the south side of a block (top of block)"],[10,"Trapdoor on the east side of a block (top of block)"],[11,"Trapdoor on the north side of a block (top of block)"],[12,"Open Trapdoor on the west side of a block (top of block)"],[13,"Open Trapdoor on the south side of a block (top of block)"],[14,"Open Trapdoor on the east side of a block (top of block)"],[15,"Open Trapdoor on the north side of a block (top of block)"]],repeater=[[0,"Facing north, 1 tick delay"],[1,"Facing east, 1 tick delay"],[2,"Facing south, 1 tick delay"],[3,"Facing west, 1 tick delay"],[4,"Facing north, 2 tick delay"],[5,"Facing east, 2 tick delay"],[6,"Facing south, 2 tick delay"],[7,"Facing west, 2 tick delay"],[8,"Facing north, 3 tick delay"],[9,"Facing east, 3 tick delay"],[10,"Facing south, 3 tick delay"],[11,"Facing west, 3 tick delay"],[12,"Facing north, 4 tick delay"],[13,"Facing east, 4 tick delay"],[14,"Facing south, 4 tick delay"],[15,"Facing west, 4 tick delay"]],comparator=[[0,"Facing north"],[1,"Facing east"],[2,"Facing south"],[3,"Facing west"],[4,"Facing north, subtraction mode"],[5,"Facing east, subtraction mode"],[6,"Facing south, subtraction mode"],[7,"Facing west, subtraction mode"],[8,"Facing north, powered"],[9,"Facing east, powered"],[10,"Facing south, powered"],[11,"Facing west, powered"],[12,"Facing north, subtraction mode, powered"],[13,"Facing east, subtraction mode, powered"],[14,"Facing south, subtraction mode, powered"],[15,"Facing west, subtraction mode, powered"]],buttons=[[0,"Button on block bottom facing down"],[1,"Button on block side facing east"],[2,"Button on block side facing west"],[3,"Button on block side facing south"],[4,"Button on block side facing north"],[5,"Button on block top facing up"],[8,"Button on block bottom facing down (active)"],[9,"Button on block side facing east (active)"],[10,"Button on block side facing west (active)"],[11,"Button on block side facing south (active)"],[12,"Button on block side facing north (active)"],[13,"Button on block top facing up (active)"]],torch=[[1,"Facing east (attached to a block to its west)"],[2,"Facing west (attached to a block to its east)"],[3,"Facing south (attached to a block to its north)"],[4,"Facing north (attached to a block to its south)"],[5,"Facing up (attached to a block beneath it)"]],pressure=[[0,"Inactive"],[1,"Active"]],dunswe=[[0,"Down"],[1,"Up"],[2,"north"],[3,"south"],[4,"west"],[5,"east"]],nswe=[[2,"north"],[3,"south"],[4,"west"],[5,"east"]],stairs=[[0,"East"],[1,"West"],[2,"South"],[3,"North"],[4,"East Upside-down"],[5,"West Upside-down"],[6,"South Upside-down"],[7,"North Upside-down"]],rails=[[0,"flat track going north-south"],[1,"flat track going west-east"],[2,"sloped track ascending to the east"],[3,"sloped track ascending to the west"],[4,"sloped track ascending to the north"],[5,"sloped track ascending to the south"]],cropAge0to7=[[0,0],[1,1],[2,2],[3,3],[4,4],[5,5],[6,6],[7,7]],beetsAndWarts=[[0,0],[1,1],[2,2],[3,3]],headRotate=[[0,"north"],[1,"north-northeast"],[2,"northeast"],[3,"east-northeast"],[4,"east"],[5,"east-southeast"],[6,"southeast"],[7,"south-southeast"],[8,"south"],[9,"south-southwest"],[10,"southwest"],[11,"west-southwest"],[12,"west"],[13,"west-northwest"],[14,"northwest"],[15,"north-northwest"]],commandBlockDirection=[[0,"Facing down"],[1,"Facing up"],[2,"Facing north"],[3,"Facing south"],[4,"Facing west"],[5,"Facing east"],[8,"Facing down, Conditional"],[9,"Facing up, Conditional"],[10,"Facing north, Conditional"],[11,"Facing south, Conditional"],[12,"Facing west, Conditional"],[13,"Facing east, Conditional"]],blockStates={standing_banner:{rotation:standingSignBanner},anvil:{facing:nsweName},chipped_anvil:{facing:nsweName},damaged_anvil:{facing:nsweName},stonecutter:{facing:nsweName},carved_pumpkin:{facing:nsweName},jack_o_lantern:{facing:nsweName},white_banner:{rotation:standingSignBanner},orange_banner:{rotation:standingSignBanner},magenta_banner:{rotation:standingSignBanner},light_blue_banner:{rotation:standingSignBanner},yellow_banner:{rotation:standingSignBanner},lime_banner:{rotation:standingSignBanner},pink_banner:{rotation:standingSignBanner},gray_banner:{rotation:standingSignBanner},light_gray_banner:{rotation:standingSignBanner},cyan_banner:{rotation:standingSignBanner},purple_banner:{rotation:standingSignBanner},blue_banner:{rotation:standingSignBanner},brown_banner:{rotation:standingSignBanner},green_banner:{rotation:standingSignBanner},red_banner:{rotation:standingSignBanner},black_banner:{rotation:standingSignBanner},white_wall_banner:{facing:nsweName},orange_wall_banner:{facing:nsweName},magenta_wall_banner:{facing:nsweName},light_blue_wall_banner:{facing:nsweName},yellow_wall_banner:{facing:nsweName},lime_wall_banner:{facing:nsweName},pink_wall_banner:{facing:nsweName},gray_wall_banner:{facing:nsweName},light_gray_wall_banner:{facing:nsweName},cyan_wall_banner:{facing:nsweName},purple_wall_banner:{facing:nsweName},blue_wall_banner:{facing:nsweName},brown_wall_banner:{facing:nsweName},green_wall_banner:{facing:nsweName},red_wall_banner:{facing:nsweName},black_wall_banner:{facing:nsweName},loom:{facing:nsweName},note_block:{powered:[!1,!0],instrument:["banjo","basedrum","bass","bell","bit","chime","creeper","cow_bell","custom_head","didgeridoo","dragon","flute","guitar","harp","hat","iron_xylophone","piglin","pling","skeleton","snare","wither_skeleton","xylophone"],note:[[0,"octave 1 F/G"],[1,"octave 1 G"],[2,"octave 1 G/A"],[3,"octave 1 A"],[4,"octave 1 A/B"],[5,"octave 1 B"],[6,"octave 1 C"],[7,"octave 1 C/D"],[8,"octave 1 D"],[9,"octave 1 D/E"],[10,"octave 1 E"],[11,"octave 1 F"],[12,"octave 2 F/G"],[13,"octave 2 G"],[14,"octave 2 G/A"],[15,"octave 2 A"],[16,"octave 2 A#/B"],[17,"octave 2 B"],[18,"octave 2 C"],[19,"octave 2 C/D"],[20,"octave 2 D"],[21,"octave 2 D/E"],[22,"octave 2 E"],[23,"octave 2 F"],[24,"octave 2 F/G"]]},redstone_ore:{lit:[!1,!0]},white_bed:bedOptions,orange_bed:bedOptions,magenta_bed:bedOptions,light_blue_bed:bedOptions,yellow_bed:bedOptions,lime_bed:bedOptions,pink_bed:bedOptions,gray_bed:bedOptions,light_gray_bed:bedOptions,cyan_bed:bedOptions,purple_bed:bedOptions,blue_bed:bedOptions,brown_bed:bedOptions,green_bed:bedOptions,red_bed:bedOptions,black_bed:bedOptions,tube_coral_wall_fan:{facing:nsweName},brain_coral_wall_fan:{facing:nsweName},bubble_coral_wall_fan:{facing:nsweName},fire_coral_wall_fan:{facing:nsweName},horn_coral_wall_fan:{facing:nsweName},dead_tube_coral_wall_fan:{facing:nsweName},dead_brain_coral_wall_fan:{facing:nsweName},dead_bubble_coral_wall_fan:{facing:nsweName},dead_fire_coral_wall_fan:{facing:nsweName},dead_horn_coral_wall_fan:{facing:nsweName},sea_pickle:{pickles:[1,2,3,4],waterlogged:[!1,!0]},conduit:{waterlogged:[!1,!0]},cobblestone_wall:wallBS,mossy_cobblestone_wall:wallBS,brick_wall:wallBS,prismarine_wall:wallBS,red_sandstone_wall:wallBS,mossy_stone_brick_wall:wallBS,stone_brick_wall:wallBS,nether_brick_wall:wallBS,andesite_wall:wallBS,diorite_wall:wallBS,granite_wall:wallBS,end_stone_brick_wall:wallBS,sandstone_wall:wallBS,red_nether_brick_wall:wallBS,beetroots:{age:[0,1,2,3]},bone_block:{axis:axisBS},brewing_stand:{has_bottle_0:[!1,!0],has_bottle_1:[!1,!0],has_bottle_2:[!1,!0]},stone_button:buttonsBS,redstone_lamp:{lit:[!1,!0]},oak_button:buttonsBS,jungle_button:buttonsBS,birch_button:buttonsBS,dark_oak_button:buttonsBS,spruce_button:buttonsBS,cactus:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},cake:{bites:[0,1,2,3,4,5,6]},carrots:{age:[0,1,2,3,4,5,6,7]},chest:{facing:nsweName,type:["single","left","right"],waterlogged:[!1,!0]},trapped_chest:{facing:nsweName,type:["single","left","right"],waterlogged:[!1,!0]},ender_chest:{facing:nsweName,waterlogged:[!1,!0]},chorus_flower:{age:[0,1,2,3,4,5]},chorus_plant:{north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],up:[!1,!0],down:[!1,!0]},cocoa:{age:[0,1,2],facing:nsweName},tnt:{unstable:[!1,!0]},command_block:{conditional:[!1,!0],facing:nsewudName},chain_command_block:{conditional:[!1,!0],facing:nsewudName},repeating_command_block:{conditional:[!1,!0],facing:nsewudName},daylight_detector:{inverted:[!1,!0],power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},dispenser:{facing:nsewudName,triggered:[!1,!0]},iron_door:doorBS,oak_door:doorBS,spruce_door:doorBS,birch_door:doorBS,jungle_door:doorBS,dark_oak_door:doorBS,dropper:{facing:nsewudName,triggered:[!1,!0]},end_portal_frame:{facing:nsweName,eye:[!1,!0]},end_rod:{facing:nsewudName},farmland:{moisture:[0,1,2,3,4,5,6,7]},oak_fence:fenceBS,spruce_fence:fenceBS,birch_fence:fenceBS,jungle_fence:fenceBS,dark_oak_fence:fenceBS,nether_brick_fence:fenceBS,oak_fence_gate:fenceGateBS,spruce_fence_gate:fenceGateBS,birch_fence_gate:fenceGateBS,jungle_fence_gate:fenceGateBS,dark_oak_fence_gate:fenceGateBS,fire:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],up:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0]},frosted_ice:{age:[0,1,2,3]},furnace:{facing:nsweName,lit:[!1,!0]},glass_pane:fenceBS,white_stained_glass_pane:fenceBS,orange_stained_glass_pane:fenceBS,magenta_stained_glass_pane:fenceBS,light_blue_stained_glass_pane:fenceBS,yellow_stained_glass_pane:fenceBS,lime_stained_glass_pane:fenceBS,pink_stained_glass_pane:fenceBS,gray_stained_glass_pane:fenceBS,light_gray_stained_glass_pane:fenceBS,cyan_stained_glass_pane:fenceBS,purple_stained_glass_pane:fenceBS,blue_stained_glass_pane:fenceBS,brown_stained_glass_pane:fenceBS,green_stained_glass_pane:fenceBS,red_stained_glass_pane:fenceBS,black_stained_glass_pane:fenceBS,white_glazed_terracotta:{facing:nsweName},orange_glazed_terracotta:{facing:nsweName},magenta_glazed_terracotta:{facing:nsweName},light_blue_glazed_terracotta:{facing:nsweName},yellow_glazed_terracotta:{facing:nsweName},lime_glazed_terracotta:{facing:nsweName},pink_glazed_terracotta:{facing:nsweName},gray_glazed_terracotta:{facing:nsweName},light_gray_glazed_terracotta:{facing:nsweName},cyan_glazed_terracotta:{facing:nsweName},purple_terracotta:{facing:nsweName},blue_glazed_terracotta:{facing:nsweName},brown_glazed_terracotta:{facing:nsweName},green_glazed_terracotta:{facing:nsweName},red_glazed_terracotta:{facing:nsweName},black_glazed_terracotta:{facing:nsweName},podzol:{snowy:[!1,!0]},mycelium:{snowy:[!1,!0]},grass_block:{snowy:[!1,!0]},hay_block:{axis:axisBS},nether_portal:{axis:["x","z"]},hopper:{enabled:[!1,!0],facing:nsewdName},iron_bars:fenceBS,lit_pumpkin:{facing:nsweName},jukebox:{has_record:[!1,!0]},ladder:{facing:nsweName,waterlogged:[!1,!0]},lava:{level:[[0,"0 Source"],[1,"1 Height "],[2,"2 Height"],[3,"3 Height"],[4,"4 Height"],[5,"5 Height"],[6,"6 Height"],[7,"7 Height"],[8,"8 Falling Lava"],[9,"9 Falling Lava"],[10,"10 Falling Lava"],[11,"11 Falling Lava"],[12,"12 Falling Lava"],[13,"13 Falling Lava"],[14,"14 Falling Lava"],[15,"15 Falling Lava"]]},lever:{facing:nsweName,face:["ceiling","wall","floor"],powered:[!1,!0]},brown_mushroom_block:{up:[!1,!0],down:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0]},red_mushroom_block:{up:[!1,!0],down:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0]},mushroom_stem:{up:[!1,!0],down:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0]},nether_wart:{age:[0,1,2,3]},sticky_piston:{extended:[!1,!0],facing:nsewudName},piston:{extended:[!1,!0],facing:nsewudName},piston_head:{facing:nsewudName,short:[!1,!0],type:["normal","sticky"]},piston_extension:{extended:[!1,!0],facing:nsewudName},observer:{facing:nsewudName,powered:[!1,!0]},potatoes:{age:[0,1,2,3,4,5,6,7]},stone_pressure_plate:{powered:[!1,!0]},wooden_pressure_plate:{powered:[!1,!0]},light_weighted_pressure_plate:{power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},heavy_weighted_pressure_plate:{power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},pumpkin_stem:{age:[0,1,2,3,4,5,6,7]},melon_stem:{age:[0,1,2,3,4,5,6,7]},attached_pumpkin_stem:{facing:nsweName},attached_melon_stem:{facing:nsweName},sugar_cane:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},purpur_pillar:{axis:axisBS},quartz_pillar:{axis:axisBS},rail:{shape:["north_south","east_west","north_east","north_west","south_east","south_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},activator_rail:{powered:[!1,!0],shape:["north_south","east_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},golden_rail:{powered:[!1,!0],shape:["north_south","east_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},detector_rail:{powered:[!1,!0],shape:["north_south","east_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},powered_rail:{powered:[!1,!0],shape:["north_south","east_west","ascending_north","ascending_south","ascending_east","ascending_west"],waterlogged:[!1,!0]},redstone_wire:{north:["none","side","up"],south:["none","side","up"],east:["none","side","up"],west:["none","side","up"],power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},redstone:{north:["none","side","up"],south:["none","side","up"],east:["none","side","up"],west:["none","side","up"],power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},repeater:{delay:[1,2,3,4],facing:nsweName,locked:[!1,!0],powered:[!1,!0]},comparator:{facing:nsweName,mode:["compare","subtract"],powered:[!1,!0]},redstone_torch:{lit:[!1,!0]},wall_torch:{facing:nsweName},redstone_wall_torch:{facing:nsweName,lit:[!1,!0]},soul_wall_torch:{facing:nsweName},oak_sapling:{stage:[0,1]},spruce_sapling:{stage:[0,1]},birch_sapling:{stage:[0,1]},jungle_sapling:{stage:[0,1]},dark_oak_sapling:{stage:[0,1]},white_shulker_box:{facing:nsewudName},shulker_box:{facing:nsewudName},orange_shulker_box:{facing:nsewudName},magenta_shulker_box:{facing:nsewudName},light_blue_shulker_box:{facing:nsewudName},yellow_shulker_box:{facing:nsewudName},lime_shulker_box:{facing:nsewudName},pink_shulker_box:{facing:nsewudName},gray_shulker_box:{facing:nsewudName},light_gray_shulker_box:{facing:nsewudName},cyan_shulker_box:{facing:nsewudName},purple_shulker_box:{facing:nsewudName},blue_shulker_box:{facing:nsewudName},brown_shulker_box:{facing:nsewudName},green_shulker_box:{facing:nsewudName},red_shulker_box:{facing:nsewudName},black_shulker_box:{facing:nsewudName},oak_wall_sign:wallSignBS,spruce_wall_sign:wallSignBS,birch_wall_sign:wallSignBS,jungle_wall_sign:wallSignBS,dark_oak_wall_sign:wallSignBS,oak_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},spruce_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},birch_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},jungle_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},dark_oak_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},skull:{facing:nsewudName,nodrop:[!1,!0]},skeleton_wall_skull:{facing:nsweName},wither_skeleton_wall_skull:{facing:nsweName},zombie_wall_head:{facing:nsweName},player_wall_head:{facing:nsweName},creeper_wall_head:{facing:nsweName},dragon_wall_head:{powered:[!1,!0],facing:nsweName},piglin_wall_head:{facing:nsweName},skeleton_skull:{rotation:headRotate},wither_skeleton_skull:{rotation:headRotate},zombie_head:{rotation:headRotate},player_head:{rotation:headRotate},creeper_head:{rotation:headRotate},dragon_head:{powered:[!1,!0],rotation:headRotate},piglin_head:{rotation:headRotate},purpur_slab:slabTypes,oak_slab:slabTypes,spruce_slab:slabTypes,birch_slab:slabTypes,jungle_slab:slabTypes,dark_oak_slab:slabTypes,stone_slab:slabTypes,sandstone_slab:slabTypes,petrified_oak_slab:slabTypes,cobblestone_slab:slabTypes,brick_slab:slabTypes,stone_brick_slab:slabTypes,nether_brick_slab:slabTypes,quartz_slab:slabTypes,red_sandstone_slab:slabTypes,smooth_stone_slab:slabTypes,smooth_red_sandstone_slab:slabTypes,smooth_sandstone_slab:slabTypes,smooth_quartz_slab:slabTypes,granite_slab:slabTypes,polished_granite_slab:slabTypes,diorite_slab:slabTypes,polished_diorite_slab:slabTypes,andesite_slab:slabTypes,polished_andesite_slab:slabTypes,mossy_stone_brick_slab:slabTypes,end_stone_brick_slab:slabTypes,red_nether_brick_slab:slabTypes,mossy_cobblestone_slab:slabTypes,snow:{layers:[1,2,3,4,5,6,7,8]},stone_stairs:stairBlockState,birch_stairs:stairBlockState,brick_stairs:stairBlockState,dark_oak_stairs:stairBlockState,jungle_stairs:stairBlockState,nether_brick_stairs:stairBlockState,oak_stairs:stairBlockState,purpur_stairs:stairBlockState,quartz_stairs:stairBlockState,red_sandstone_stairs:stairBlockState,sandstone_stairs:stairBlockState,spruce_stairs:stairBlockState,stone_brick_stairs:stairBlockState,granite_stairs:stairBlockState,polished_granite_stairs:stairBlockState,diorite_stairs:stairBlockState,polished_diorite_stairs:stairBlockState,andesite_stairs:stairBlockState,polished_andesite_stairs:stairBlockState,smooth_red_sandstone_stairs:stairBlockState,smooth_quartz_stairs:stairBlockState,mossy_stone_brick_stairs:stairBlockState,end_stone_brick_stairs:stairBlockState,red_nether_brick_stairs:stairBlockState,smooth_sandstone_stairs:stairBlockState,cobblestone_stairs:stairBlockState,mossy_cobblestone_stairs:stairBlockState,stonebrick:{variant:["stonebrick","mossy_stonebrick","cracked_stonebrick","chiseled_stonebrick"]},structure_block:{mode:["save","load","corner","data"]},iron_trapdoor:trapdoors,oak_trapdoor:trapdoors,spruce_trapdoor:trapdoors,birch_trapdoor:trapdoors,dark_oak_trapdoor:trapdoors,tripwire:{attached:[!1,!0],disarmed:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],powered:[!1,!0]},tripwire_hook:{attached:[!1,!0],facing:nsweName,powered:[!1,!0]},vine:{north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],up:[!1,!0]},water:{level:[[0,"0 Source"],[1,"1 Height "],[2,"2 Height"],[3,"3 Height"],[4,"4 Height"],[5,"5 Height"],[6,"6 Height"],[7,"7 Height"],[8,"8 Falling Water"],[9,"9 Falling Water"],[10,"10 Falling Water"],[11,"11 Falling Water"],[12,"12 Falling Water"],[13,"13 Falling Water"],[14,"14 Falling Water"],[15,"15 Falling Water"]]},wheat:{age:[0,1,2,3,4,5,6,7]},oak_log:{axis:axisBS},spruce_log:{axis:axisBS},birch_log:{axis:axisBS},jungle_log:{axis:axisBS},dark_oak_log:{axis:axisBS},stripped_oak_log:{axis:axisBS},stripped_spruce_log:{axis:axisBS},stripped_birch_log:{axis:axisBS},stripped_jungle_log:{axis:axisBS},stripped_dark_oak_log:{axis:axisBS},stripped_oak_wood:{axis:axisBS},stripped_spruce_wood:{axis:axisBS},stripped_birch_wood:{axis:axisBS},stripped_jungle_wood:{axis:axisBS},stripped_dark_oak_wood:{axis:axisBS},oak_wood:{axis:axisBS},spruce_wood:{axis:axisBS},birch_wood:{axis:axisBS},jungle_wood:{axis:axisBS},dark_oak_wood:{axis:axisBS},ochre_froglight:{axis:axisBS},verdant_froglight:{axis:axisBS},pearlescent_froglight:{axis:axisBS},bamboo_block:{axis:axisBS},barrier:{waterlogged:[!1,!0]},barrel:{facing:nsewudName,open:[!1,!0]},bell:{facing:nsweName,attachment:["single_wall","floor","ceiling"],powered:[!1,!0]},blast_furnace:{facing:nsweName,lit:[!1,!0]},smoker:{facing:nsweName,lit:[!1,!0]},lectern:{facing:nsweName,has_book:[!1,!0],powered:[!1,!0]},grindstone:{facing:nsweName,face:["floor","ceiling","wall"]},jigsaw:{orientation:orientations},sweet_berry_bush:{age:[0,1,2,3]},campfire:{lit:[!1,!0],signal_fire:[!1,!0],waterlogged:[!1,!0]},composter:{level:[0,1,2,3,4,5,6,7,8]},cut_red_sandstone_slab:slabTypes,cut_sandstone_slab:slabTypes,bee_nest:{facing:nsweName,honey_level:[0,1,2,3,4,5]},beehive:{facing:nsweName,honey_level:[0,1,2,3,4,5]},basalt:{axis:axisBS},soul_lantern:{hanging:[!1,!0],waterlogged:[!1,!0]},lantern:{hanging:[!1,!0],waterlogged:[!1,!0]},warped_button:buttonsBS,warped_door:doorBS,warped_fence:fenceBS,warped_fence_gate:fenceGateBS,warped_pressure_plate:{powered:[!1,!0]},warped_wall_sign:wallSignBS,warped_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},warped_slab:slabTypes,warped_stairs:stairBlockState,warped_stem:{axis:axisBS},warped_trapdoor:trapdoors,crimson_button:buttonsBS,crimson_door:doorBS,crimson_fence:fenceBS,crimson_fence_gate:fenceGateBS,crimson_pressure_plate:{powered:[!1,!0]},crimson_wall_sign:wallSignBS,crimson_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},crimson_slab:slabTypes,crimson_stairs:stairBlockState,crimson_stem:{axis:axisBS},crimson_trapdoor:trapdoors,stripped_crimson_stem:{axis:axisBS},stripped_warped_stem:{axis:axisBS},target:{power:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]},stripped_warped_hyphae:{axis:axisBS},stripped_crimson_hyphae:{axis:axisBS},warped_hyphae:{axis:axisBS},crimson_hyphae:{axis:axisBS},twisting_vines:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},weeping_vines:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},kelp:{age:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},respawn_anchor:{charges:[0,1,2,3,4]},polished_basalt:{axis:axisBS},blackstone_slab:slabTypes,blackstone_stairs:stairBlockState,blackstone_wall:wallBS,polished_blackstone_brick_slab:slabTypes,polished_blackstone_brick_stairs:stairBlockState,polished_blackstone_brick_wall:wallBS,polished_blackstone_button:buttonsBS,polished_blackstone_pressure_plate:{powered:[!1,!0]},polished_blackstone_slab:slabTypes,polished_blackstone_stairs:stairBlockState,polished_blackstone_wall:wallBS,soul_campfire:{lit:[!1,!0],signal_fire:[!1,!0],waterlogged:[!1,!0]},oak_leaves:leavesBS,spruce_leaves:leavesBS,birch_leaves:leavesBS,jungle_leaves:leavesBS,dark_oak_leaves:leavesBS,chain:{waterlogged:[!1,!0],axis:axisBS},candle:candles,white_candle:candles,orange_candle:candles,magenta_candle:candles,light_blue_candle:candles,yellow_candle:candles,lime_candle:candles,pink_candle:candles,gray_candle:candles,light_gray_candle:candles,cyan_candle:candles,purple_candle:candles,blue_candle:candles,brown_candle:candles,green_candle:candles,red_candle:candles,black_candle:candles,waxed_cut_copper_slab:slabTypes,waxed_exposed_cut_copper_slab:slabTypes,waxed_weathered_cut_copper_slab:slabTypes,waxed_oxidized_cut_copper_slab:slabTypes,cut_copper_slab:slabTypes,exposed_cut_copper_slab:slabTypes,oxidized_cut_copper_slab:slabTypes,weathered_cut_copper_slab:slabTypes,waxed_cut_copper_stairs:stairBlockState,waxed_exposed_cut_copper_stairs:stairBlockState,waxed_weathered_cut_copper_stairs:stairBlockState,waxed_oxidized_cut_copper_stairs:stairBlockState,cut_copper_stairs:stairBlockState,exposed_cut_copper_stairs:stairBlockState,oxidized_cut_copper_stairs:stairBlockState,weathered_cut_copper_stairs:stairBlockState,lightning_rod:{facing:nsewudName,powered:[!1,!0],waterlogged:[!1,!0]},water_cauldron:{level:[0,1,2,3]},powder_snow_cauldron:{level:[0,1,2,3]},candle_cake:{lit:[!1,!0]},white_candle_cake:{lit:[!1,!0]},orange_candle_cake:{lit:[!1,!0]},magenta_candle_cake:{lit:[!1,!0]},light_blue_candle_cake:{lit:[!1,!0]},yellow_candle_cake:{lit:[!1,!0]},lime_candle_cake:{lit:[!1,!0]},pink_candle_cake:{lit:[!1,!0]},gray_candle_cake:{lit:[!1,!0]},light_gray_candle_cake:{lit:[!1,!0]},cyan_candle_cake:{lit:[!1,!0]},purple_candle_cake:{lit:[!1,!0]},blue_candle_cake:{lit:[!1,!0]},brown_candle_cake:{lit:[!1,!0]},green_candle_cake:{lit:[!1,!0]},red_candle_cake:{lit:[!1,!0]},black_candle_cake:{lit:[!1,!0]},pointed_dripstone:{thickness:["tip_merge","tip","frustum","middle","base"],vertical_direction:["up","down"],waterlogged:[!1,!0]},calibrated_sculk_sensor:{power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],sculk_sensor_phase:["active","cooldown","inactive"],waterlogged:[!1,!0]},sculk_sensor:{power:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],sculk_sensor_phase:["active","cooldown","inactive"],waterlogged:[!1,!0]},glow_lichen:{north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],up:[!1,!0],waterlogged:[!1,!0]},azalea_leaves:leavesBS,flowering_azalea_leaves:leavesBS,cave_vines_plant:{berries:[!1,!0]},cave_vines:{berries:[!1,!0],age:[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25]},small_dripleaf:{half:["lower","upper"],waterlogged:[!1,!0],facing:nsweName},big_dripleaf:{facing:nsweName,tilt:["full","none","partial","unstable"],waterlogged:[!1,!0]},big_dripleaf_stem:{facing:nsweName},polished_deepslate_wall:wallBS,deepslate_tile_wall:wallBS,deepslate_brick_wall:wallBS,polished_deepslate_stairs:stairBlockState,deepslate_tile_stairs:stairBlockState,deepslate_brick_stairs:stairBlockState,polished_deepslate_slab:slabTypes,deepslate_tile_slab:slabTypes,deepslate_brick_slab:slabTypes,deepslate:{axis:axisBS},cobbled_deepslate_wall:wallBS,cobbled_deepslate_slab:slabTypes,cobbled_deepslate_stairs:stairBlockState,infested_deepslate:{axis:axisBS},hanging_roots:{waterlogged:[!1,!0]},scaffolding:{waterlogged:[!1,!0],distance:[0,1,2,3,4,5,6,7],bottom:[!1,!0]},lilac:{half:["lower","upper"]},peony:{half:["lower","upper"]},bamboo:{age:[0,1],leaves:["none","small","large"],stage:[0,1]},light:{level:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],waterlogged:[!1,!0]},prismarine_slab:slabTypes,dark_prismarine_slab:slabTypes,prismarine_brick_slab:slabTypes,prismarine_stairs:stairBlockState,dark_prismarine_stairs:stairBlockState,prismarine_brick_stairs:stairBlockState,sculk_vein:{waterlogged:[!1,!0],north:[!1,!0],south:[!1,!0],east:[!1,!0],west:[!1,!0],up:[!1,!0],down:[!1,!0]},sculk_catalyst:{bloom:[!1,!0]},sculk_shrieker:{can_summon:[!1,!0],shrieking:[!1,!0],waterlogged:[!1,!0]},mangrove_button:buttonsBS,mangrove_door:doorBS,mangrove_fence:fenceBS,mangrove_fence_gate:fenceGateBS,mangrove_propagule:{age:[0,1,2,3,4],waterlogged:[!1,!0]},mangrove_wall_sign:wallSignBS,mangrove_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},mangrove_slab:slabTypes,mangrove_stairs:stairBlockState,mangrove_log:{axis:axisBS},stripped_mangrove_log:{axis:axisBS},stripped_mangrove_wood:{axis:axisBS},mangrove_wood:{axis:axisBS},mangrove_leaves:leavesBS,muddy_mangrove_roots:{axis:axisBS},mangrove_roots:{waterlogged:[!1,!0]},mud_brick_slab:slabTypes,mud_brick_stairs:stairBlockState,mud_brick_wall:wallBS,stripped_bamboo_block:{axis:axisBS},bamboo_stairs:stairBlockState,bamboo_mosaic_stairs:stairBlockState,bamboo_slab:slabTypes,bamboo_mosaic_slab:slabTypes,bamboo_fence:fenceBS,bamboo_fence_gate:fenceGateBS,bamboo_door:doorBS,bamboo_trapdoor:trapdoors,bamboo_wall_sign:wallSignBS,bamboo_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},bamboo_hanging_sign:hangingSigns,oak_hanging_sign:hangingSigns,spruce_hanging_sign:hangingSigns,birch_hanging_sign:hangingSigns,jungle_hanging_sign:hangingSigns,dark_oak_hanging_sign:hangingSigns,mangrove_hanging_sign:hangingSigns,crimson_hanging_sign:hangingSigns,warped_hanging_sign:hangingSigns,oak_wall_hanging_sign:wallSignBS,spruce_wall_hanging_sign:wallSignBS,birch_wall_hanging_sign:wallSignBS,jungle_wall_hanging_sign:wallSignBS,dark_oak_wall_hanging_sign:wallSignBS,mangrove_wall_hanging_sign:wallSignBS,crimson_wall_hanging_sign:wallSignBS,warped_wall_hanging_sign:wallSignBS,bamboo_wall_hanging_sign:wallSignBS,bamboo_button:buttonsBS,bamboo_pressure_plate:{powered:[!1,!0]},chiseled_bookshelf:{facing:nsweName,slot_0_occupied:[!1,!0],slot_1_occupied:[!1,!0],slot_2_occupied:[!1,!0],slot_3_occupied:[!1,!0],slot_4_occupied:[!1,!0],slot_5_occupied:[!1,!0],last_interaction_book_slot:[0,1,2,3,4,5,6]},acacia_hanging_sign:hangingSigns,acacia_wall_hanging_sign:wallSignBS,stripped_acacia_wood:{axis:axisBS},stripped_acacia_log:{axis:axisBS},acacia_leaves:leavesBS,acacia_wood:{axis:axisBS},acacia_trapdoor:trapdoors,acacia_stairs:stairBlockState,acacia_slab:slabTypes,acacia_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},acacia_fence_gate:fenceGateBS,acacia_button:buttonsBS,acacia_sapling:{stage:[0,1]},acacia_door:doorBS,acacia_fence:fenceBS,acacia_wall_sign:wallSignBS,acacia_log:{axis:axisBS},acacia_pressure_plate:{powered:[!1,!0]},cherry_button:buttonsBS,cherry_door:doorBS,cherry_fence:fenceBS,cherry_fence_gate:fenceGateBS,cherry_hanging_sign:hangingSigns,cherry_leaves:leavesBS,cherry_log:{axis:["x","y","z"]},cherry_pressure_plate:{powered:[!1,!0]},cherry_sapling:{stage:[0,1]},cherry_sign:{rotation:standingSignBanner,waterlogged:[!1,!0]},cherry_slab:slabTypes,cherry_stairs:stairBlockState,cherry_trapdoor:trapdoors,cherry_wall_hanging_sign:wallSignBS,cherry_wall_sign:wallSignBS,cherry_wood:{axis:["x","y","z"]},stripped_cherry_log:{axis:["x","y","z"]},stripped_cherry_wood:{axis:["x","y","z"]},suspicious_sand:{dusted:[0,1,2,3]},suspicious_gravel:{dusted:[0,1,2,3]},decorated_pot:{facing:nsweName,cracked:[!1,!0],waterlogged:[!1,!0]},pink_petals:{facing:nsweName,flower_amount:[1,2,3,4]},pitcher_plant:{half:["lower","upper"]},pitcher_crop:{age:[0,1,2,3,4],half:["lower","upper"]},sniffer_egg:{age:[0,1,2]},torchflower_crop:{age:[0,1,2]},turtle_egg:{eggs:[1,2,3,4],hatch:[0,1,2]},crafter:{crafting:[!1,!0],orientation:orientations,triggered:[!1,!0]},copper_bulb:{lit:[!1,!0],powered:[!1,!0]},exposed_copper_bulb:{lit:[!1,!0],powered:[!1,!0]},weathered_copper_bulb:{lit:[!1,!0],powered:[!1,!0]},oxidized_copper_bulb:{lit:[!1,!0],powered:[!1,!0]},waxed_copper_bulb:{lit:[!1,!0],powered:[!1,!0]},waxed_exposed_copper_bulb:{lit:[!1,!0],powered:[!1,!0]},waxed_weathered_copper_bulb:{lit:[!1,!0],powered:[!1,!0]},waxed_oxidized_copper_bulb:{lit:[!1,!0],powered:[!1,!0]},copper_door:doorBS,exposed_copper_door:doorBS,weathered_copper_door:doorBS,oxidized_copper_door:doorBS,waxed_copper_door:doorBS,waxed_exposed_copper_door:doorBS,waxed_weathered_copper_door:doorBS,waxed_oxidized_copper_door:doorBS,copper_grate:{waterlogged:[!1,!0]},exposed_copper_grate:{waterlogged:[!1,!0]},weathered_copper_grate:{waterlogged:[!1,!0]},oxidized_copper_grate:{waterlogged:[!1,!0]},waxed_copper_grate:{waterlogged:[!1,!0]},waxed_exposed_copper_grate:{waterlogged:[!1,!0]},waxed_weathered_copper_grate:{waterlogged:[!1,!0]},waxed_oxidized_copper_grate:{waterlogged:[!1,!0]},copper_trapdoor:trapdoors,exposed_copper_trapdoor:trapdoors,weathered_copper_trapdoor:trapdoors,oxidized_copper_trapdoor:trapdoors,waxed_copper_trapdoor:trapdoors,waxed_exposed_copper_trapdoor:trapdoors,waxed_weathered_copper_trapdoor:trapdoors,waxed_oxidized_copper_trapdoor:trapdoors,heavy_core:{waterlogged:[!1,!0]},polished_tuff_stairs:stairBlockState,polished_tuff_slab:slabTypes,polished_tuff_wall:wallBS,tuff_stairs:stairBlockState,tuff_slab:slabTypes,tuff_wall:wallBS,tuff_brick_stairs:stairBlockState,tuff_brick_slab:slabTypes,tuff_brick_wall:wallBS,trial_spawner:{ominous:[!1,!0],trial_spawner_state:["active","cooldown","ejecting_reward","inactive","waiting_for_players","waiting_for_reward_ejection"]},vault:{facing:nsweName,ominous:[!1,!0],vault_state:["active","ejecting","inactive","unlocking"]}};class TargetSelector{constructor(e,t,a,o){a=null==a?"":a;this.forPlayers=t,this.forNonPlayerEnts=e,this.tsNBT={c:{label:"Limit",type:"text",cssClass:"fLabel150",tip:"target.limit",format:"int"},sort:{label:"Sort",type:"makeSelect",values:["unset","nearest","furthest","random","arbitrary"],cssClass:"fLabel150",tip:"target.sort",format:"special"},x:{type:"text",label:"x",cssClass:"fLabel150",tip:"target.coordinates",format:"int"},y:{type:"text",label:"y",cssClass:"fLabel150",tip:"target.coordinates",format:"int"},z:{type:"text",label:"z",cssClass:"fLabel150",tip:"target.coordinates",format:"int"},tsSelectionArea:{label:"Selection Area",type:"choice",cssClass:"fLabel150",values:[[0,"Radius"],[1,"Volume"]],tip:"target.selectionArea",format:"special"},tsAreaPane:{cssClass:"fLabel150",panelID:a+"tsAreaPane",type:"panel",format:"special"},rxm:{type:"text",label:"Min Vert Rotation",cssClass:"fLabel150",tip:"target.rxm",format:"int"},rx:{type:"text",label:"Max Vert Rotation",cssClass:"fLabel150",tip:"target.rx",format:"int"},rym:{type:"text",label:"Min Horiz Rotation",cssClass:"fLabel150",tip:"target.rym",format:"int"},ry:{type:"text",label:"Max Horiz Rotation",cssClass:"fLabel150",tip:"target.ry",format:"int"},team:{type:"choicetext",label:"Team",cssClass:"fLabel150",values:[[0,"Only this team"],[1,"Not this team"],[2,"Not any team"],[3,"On any team"]],tip:"target.team"},name:{type:"choicetext",label:"Name",cssClass:"fLabel150",values:[[0,"This name"],[1,"Not this name"]],tip:"target.name",format:"special"}},this.tsRadius={rm:{type:"text",label:"Min Radius",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.rm"},r:{type:"text",label:"Max Radius",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.r"}},this.tsVolume={dx:{type:"text",label:"Positive X Direction",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.dx"},dy:{type:"text",label:"Positive Y Direction",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.dy"},dz:{type:"text",label:"Positive Z Direction",cssClass:"fLabel150",eventClass:"selectArea",tip:"target.dz"}},this.tsNBT.nbt={type:"text",label:"NBT",fwClass:"verybigTF",cssClass:"fLabel150",tip:"target.nbt",format:"special"},t?(this.tsNBT.m={type:"choice",label:"Game Mode",cssClass:"fLabel150",values:[["-1","Any Mode"],["survival","Survival Mode"],["creative","Creative Mode"],["adventure","Adventure Mode"],["spectator","Spectator Mode"],["!survival","Not Survival Mode"],["!creative","Not Creative Mode"],["!adventure","Not Adventure Mode"],["!spectator","Not Spectator Mode"]],tip:"target.m"},this.tsNBT.lm={type:"text",label:"Min XP Level",cssClass:"fLabel150",tip:"target.lm",format:"int"},this.tsNBT.l={type:"text",label:"Max XP Level",cssClass:"fLabel150",tip:"target.l",format:"int"},this.tsNBT.advancements={type:"text",label:"Advancements",fwClass:"bigTF",cssClass:"fLabel150",tip:"target.advancements",format:"special"}):null!=o&&o&&(this.tsNBT.type={type:"text",label:"Type",cssClass:"fLabel150",fwClass:"bigTF",tip:"target.type113",format:"special"}),this.tsNBT.tag={type:"text",label:"Tags",cssClass:"fLabel150",fwClass:"bigTF",tip:"target.tag113",format:"special"},this.tsNBT.predicate={type:"text",label:"Predicates",cssClass:"fLabel150",fwClass:"bigTF",tip:"target.predicate",format:"special"}}}function loadTargetSelectorsGeneric(e,t,a,o){var n,s=null==o?"":o,i=($("#"+e).append("<br><span class='fLabel200'>Target Selectors</span>"+mkShowHide(s+"TSPane","TSPaneSH")+"<div id='"+s+"TSPane' class='tsControl  roundedDiv'></div>"),new TargetSelector(t,a,s,!0));for(n in a&&(createComponent(s+"TSPane",s+"targetType",{type:"choicetext",value:"@p",label:"Target",cssClass:"fLabel150",values:[["@p","nearest player"],["@r","random player"],["@a","all players"],["@s","the entity executing the command"],["MC_Name","A specific players name"]],tip:"target.targetType",format:"string",eventClass:"tsTargetType"},0),$(".tsTargetType").bind("change",function(){"MC_Name"!=$("#"+s+"targetType0_choice").val()&&$("#"+s+"targetType0_txt").val($("#"+s+"targetType0_choice").val()),generateCommand()})),i.tsNBT)createComponent(s+"TSPane",s+n,i.tsNBT[n],0);$("#"+s+"TSPane br:first").remove(),loadTSAreaOption(0,s,i),$("#"+s+"tsSelectionArea0").bind("change",function(){loadTSAreaOption($("#"+s+"tsSelectionArea0").val(),s,i),generateCommand()}),$("#"+s+"TSPane").append("<br><span class='fLabel150'>Score Objectives</span><span style='display:inline;white-space: nowrap;'><a href=\"javascript:addScoreObjective('"+s+"tsScore','"+s+"')\" class='greenPlus'>+</a><div id='"+s+"tsScore' class='tsScorePane'></div></span>")}function loadTargetSelectors(e,t,a,o,n){var s,i=null==o?"":o,l=($("#"+e).append("<br><span class='fLabel200'>Target Selectors</span>"+mkShowHide(i+"TSPane","TSPaneSH")+"<div id='"+i+"TSPane' class='tsControl  roundedDiv'></div>"),new TargetSelector(t,a,i,n));for(s in a&&(createComponent(i+"TSPane",i+"targetType",{type:"choicetext",value:"@p",label:"Target",cssClass:"fLabel150",values:[["@p","nearest player"],["@r","random player"],["@a","all players"],["@s","the entity executing the command"],["MC_Name","A specific players name"]],tip:"target.targetType",format:"string",eventClass:"tsTargetType"},0),$(".tsTargetType").bind("change",function(){"MC_Name"!=$("#"+i+"targetType0_choice").val()&&$("#"+i+"targetType0_txt").val($("#"+i+"targetType0_choice").val()),generateCommand()})),l.tsNBT)createComponent(i+"TSPane",i+s,l.tsNBT[s],0);$("#"+i+"TSPane br:first").remove(),loadTSAreaOption(0,i,l),$("#"+i+"tsSelectionArea0").bind("change",function(){loadTSAreaOption($("#"+i+"tsSelectionArea0").val(),i,l),generateCommand()}),$("#"+i+"TSPane").append("<br><span class='fLabel150'>Score Objectives</span><span style='display:inline;white-space: nowrap;'><a href=\"javascript:addScoreObjective('"+i+"tsScore','"+i+"')\" class='greenPlus'>+</a><div id='"+i+"tsScore' class='tsScorePane'></div></span>")}function loadTargetSelectorsFromCommandGeneric(e,t){var a=null==t?"":t;if("@"==e.charAt(0)){if(-1==e.indexOf("["))$("#"+a+"targetType0_choice").val(e);else{$("#"+a+"targetType0_choice").val(e.substr(0,e.indexOf("[")));for(var o=(o=e.substr(e.indexOf("[")+1)).substr(0,o.indexOf("]")).split(","),n=0;n<o.length;n++)for(;n+1<o.length&&occurrences(o[n],"{",!1)!=occurrences(o[n],"}",!1);)o[n]+=","+o[n+1],o.splice(n+1,1);for(var s={gamemode:"m",limit:"c",x:"x",y:"y",z:"z",sort:"sort",advancements:"advancements",nbt:"nbt"},i={x_rotation:["rxm","rx"],y_rotation:["rym","ry"],distance:["rm","r"],level:["lm","l"]},n=0;n<o.length;n++){var l=o[n].substr(0,o[n].indexOf("=")),r=o[n].substr(o[n].indexOf("=")+1);if(l in s)$("#"+a+s[l]+"0").val(r);else if(l in i)setRangedTSValues(r,a+i[l][0]+"0",a+i[l][1]+"0");else if("dx"==l||"dy"==l||"dz"==l)0==$("#"+a+"tsSelectionArea0").val()&&($("#"+a+"tsSelectionArea0").val(1),$("#"+a+"tsSelectionArea0").trigger("change")),$("#"+a+l+"0").val(r);else if("name"==l)"!"==r.charAt(0)?($("#"+a+l+"0_choice").val(1),$("#"+a+l+"0_txt").val(replaceAll('"',"",r.substr(1)))):($("#"+a+l+"0_choice").val(0),$("#"+a+l+"0_txt").val(replaceAll('"',"",r)));else if("team"==l)""==r?$("#"+a+l+"0_choice").val(2):"!"==r?$("#"+a+l+"0_choice").val(3):"!"==r.charAt(0)?($("#"+a+l+"0_choice").val(1),$("#"+a+l+"0_txt").val(r.substr(1))):($("#"+a+l+"0_choice").val(0),$("#"+a+l+"0_txt").val(r));else if("tag"==l)0<$("#"+a+l+"0").val().length&&$("#"+a+l+"0").val($("#"+a+l+"0").val()+","),$("#"+a+l+"0").val($("#"+a+l+"0").val()+r);else if("predicate"==l)0<$("#"+a+l+"0").val().length&&$("#"+a+l+"0").val($("#"+a+l+"0").val()+","),$("#"+a+l+"0").val($("#"+a+l+"0").val()+r);else if("type"==l)0<$("#"+a+l+"0").val().length&&$("#"+a+l+"0").val($("#"+a+l+"0").val()+","),$("#"+a+l+"0").val($("#"+a+l+"0").val()+r);else if("scores"==l)for(var c=(r=replaceAll("{","",replaceAll("}","",r))).split(","),p=0;p<c.length;p++){var d=c[p].split("="),m=(addScoreObjective(a+"tsScore",a),p+1);$("#"+a+"scoreObjective"+m+"Name0").val(d[0]),setRangedTSValues(d[1],a+"scoreObjective"+m+"Min0",a+"scoreObjective"+m+"Max0")}}}$("#"+a+"targetType0_choice").trigger("change")}else $("#"+a+"targetType0_txt").val(e)}function loadTargetSelectorsFromCommand113(e,t){var a=null==t?"":t;if("@"==e.charAt(0)){if(-1==e.indexOf("["))$("#"+a+"targetType0_choice").val(e);else{$("#"+a+"targetType0_choice").val(e.substr(0,e.indexOf("[")));for(var o=(o=e.substr(e.indexOf("[")+1)).substr(0,o.lastIndexOf("]")).split(","),n=0;n<o.length;n++)for(;n+1<o.length&&occurrences(o[n],"{",!1)!=occurrences(o[n],"}",!1);)o[n]+=","+o[n+1],o.splice(n+1,1);for(var s={gamemode:"m",limit:"c",x:"x",y:"y",z:"z",sort:"sort",advancements:"advancements",nbt:"nbt"},i={x_rotation:["rxm","rx"],y_rotation:["rym","ry"],distance:["rm","r"],level:["lm","l"]},n=0;n<o.length;n++){var l=o[n].substr(0,o[n].indexOf("=")),r=o[n].substr(o[n].indexOf("=")+1);if(l in s)$("#"+a+s[l]+"0").val(r);else if(l in i)setRangedTSValues(r,i[l][0]+"0",i[l][1]+"0");else if("dx"==l||"dy"==l||"dz"==l)0==$("#"+a+"tsSelectionArea0").val()&&($("#"+a+"tsSelectionArea0").val(1),$("#"+a+"tsSelectionArea0").trigger("change")),$("#"+l+"0").val(r);else if("type"==l){if(!$("#"+a+"entity0 option[value='"+r+"']").length)throw new MCSException(r+" is not a valid entity in the target selector.");$("#"+a+"entity0").val(r),$("#"+a+"entity0").trigger("change")}else if("name"==l)"!"==r.charAt(0)?($("#"+a+l+"0_choice").val(1),$("#"+a+l+"0_txt").val(replaceAll('"',"",r.substr(1)))):($("#"+a+l+"0_choice").val(0),$("#"+a+l+"0_txt").val(replaceAll('"',"",r)));else if("team"==l)""==r?$("#"+a+l+"0_choice").val(2):"!"==r?$("#"+a+l+"0_choice").val(3):"!"==r.charAt(0)?($("#"+a+l+"0_choice").val(1),$("#"+a+l+"0_txt").val(r.substr(1))):($("#"+a+l+"0_choice").val(0),$("#"+a+l+"0_txt").val(r));else if("tag"==l)0<$("#"+a+l+"0").val().length&&$("#"+a+l+"0").val($("#"+a+l+"0").val()+","),$("#"+a+l+"0").val($("#"+a+l+"0").val()+r);else if("predicate"==l)0<$("#"+a+l+"0").val().length&&$("#"+a+l+"0").val($("#"+a+l+"0").val()+","),$("#"+a+l+"0").val($("#"+a+l+"0").val()+r);else if("scores"==l)for(var c=(r=replaceAll("{","",replaceAll("}","",r))).split(","),p=0;p<c.length;p++){var d=c[p].split("="),m=(addScoreObjective(a+"tsScore",a),p+1);$("#"+a+"scoreObjective"+m+"Name0").val(d[0]),setRangedTSValues(d[1],a+"scoreObjective"+m+"Min0",a+"scoreObjective"+m+"Max0")}}}$("#"+a+"targetType0_choice").trigger("change")}else $("#"+a+"targetType0_txt").val(e)}function setRangedTSValues(e,t,a){var o=e.split("..");-1==e.indexOf("..")?($("#"+t).val(o[0]),$("#"+a).val(o[0])):"."==e.charAt(0)?$("#"+a).val(o[1]):"."==e.charAt(e.length-1)?$("#"+t).val(o[0]):($("#"+t).val(o[0]),$("#"+a).val(o[1]))}function getTargetSelectorStringGeneric(e){var e=null==e?"":e,t=0<$("#"+e).length&&"player"!=$("#"+e).val(),a=$("#"+e).length&&"player"==$("#"+e).val()||!$("#"+e).length,a=new TargetSelector(t,a,e),o="";if($("#"+e+"m0").length&&-1!=$("#"+e+"m0").val()&&(o+=",gamemode="+$("#"+e+"m0").val()),o=(o=(o+=getTSRange("level",e+"lm0",e+"l0"))+getTSRange("x_rotation",e+"rxm0",e+"rx0"))+getTSRange("y_rotation",e+"rym0",e+"ry0"),""!=$("#"+e+"c0").val()&&(o+=",limit="+$("#"+e+"c0").val()),$("#"+e+"sort0").length&&"unset"!=$("#"+e+"sort0").val()&&(o+=",sort="+$("#"+e+"sort0").val()),""!=$("#"+e+"x0").val()&&(o+=",x="+$("#"+e+"x0").val()),""!=$("#"+e+"y0").val()&&(o+=",y="+$("#"+e+"y0").val()),""!=$("#"+e+"z0").val()&&(o+=",z="+$("#"+e+"z0").val()),0==$("#"+e+"tsSelectionArea0").val()?o+=getTSRange("distance",e+"rm0",e+"r0"):o=(o=(o+=replaceAll(":","=",getNBTforKey(e+"dx",a.tsVolume.dx,0)))+replaceAll(":","=",getNBTforKey(e+"dy",a.tsVolume.dy,0)))+replaceAll(":","=",getNBTforKey(e+"dz",a.tsVolume.dz,0)),2==$("#"+e+"team0_choice").val()?o+=",team=":3==$("#"+e+"team0_choice").val()?o+=",team=!":$("#"+e+"team0_txt").val().length&&(o+=",team=",1==$("#"+e+"team0_choice").val()&&(o+="!"),o+=$("#"+e+"team0_txt").val()),$("#"+e+"tag0").val().length){for(var n=$("#"+e+"tag0").val().split(","),s="",i=0;i<n.length;i++)s+=",tag="+n[i];o+=s}if($("#"+e+"predicate0").val().length){for(n=$("#"+e+"predicate0").val().split(","),s="",i=0;i<n.length;i++)s+=",predicate="+n[i];o+=s}$("#"+e+"advancements0").length&&$("#"+e+"advancements0").val().length&&(o+=",advancements="+$("#"+e+"advancements0").val()),$("#"+e+"nbt0").val().length&&(o+=",nbt="+$("#"+e+"nbt0").val());var l="";if($("#"+e+"tsScore > .score").each(function(e){var t;$("#"+this.id+"Name0").val().length&&(t=$("#"+this.id+"Name0").val(),l+=getTSRange(t,this.id+"Min0",this.id+"Max0"))}),l.length&&(o+=",scores={"+l.substr(1)+"}"),$("#"+e+"name0_txt").val().length&&(o+=",name=",1==$("#"+e+"name0_choice").val()&&(o+="!"),o+='"'+$("#"+e+"name0_txt").val()+'"'),o=replaceAll(e,"",o),t){if($("#"+e+"type0").val().length){for(n=$("#"+e+"type0").val().split(","),s="",i=0;i<n.length;i++)s+=",type="+n[i];o+=s}return o.length?"@e["+o.substr(1)+"]":"@e"}return o.length&&(o="["+o.substr(1)+"]"),$("#"+e+"targetType0_txt").val()+o}function getTargetSelectorString1p13(e){var e=null==e?"":e,t=0<$("#"+e+"entity0").length&&"player"!=$("#"+e+"entity0").val(),a=$("#"+e+"entity0").length&&"player"==$("#"+e+"entity0").val()||!$("#"+e+"entity0").length,a=new TargetSelector(t,a,e),o="";if($("#"+e+"m0").length&&-1!=$("#"+e+"m0").val()&&(o+=",gamemode="+$("#"+e+"m0").val()),o=(o=(o+=getTSRange("level",e+"lm0",e+"l0"))+getTSRange("x_rotation",e+"rxm0",e+"rx0"))+getTSRange("y_rotation",e+"rym0",e+"ry0"),""!=$("#"+e+"c0").val()&&(o+=",limit="+$("#"+e+"c0").val()),$("#"+e+"sort0").length&&"unset"!=$("#"+e+"sort0").val()&&(o+=",sort="+$("#"+e+"sort0").val()),""!=$("#"+e+"x0").val()&&(o+=",x="+$("#"+e+"x0").val()),""!=$("#"+e+"y0").val()&&(o+=",y="+$("#"+e+"y0").val()),""!=$("#"+e+"z0").val()&&(o+=",z="+$("#"+e+"z0").val()),0==$("#"+e+"tsSelectionArea0").val()?o+=getTSRange("distance",e+"rm0",e+"r0"):o=(o=(o+=replaceAll(":","=",getNBTforKey(e+"dx",a.tsVolume.dx,0)))+replaceAll(":","=",getNBTforKey(e+"dy",a.tsVolume.dy,0)))+replaceAll(":","=",getNBTforKey(e+"dz",a.tsVolume.dz,0)),2==$("#"+e+"team0_choice").val()?o+=",team=":3==$("#"+e+"team0_choice").val()?o+=",team=!":$("#"+e+"team0_txt").val().length&&(o+=",team=",1==$("#"+e+"team0_choice").val()&&(o+="!"),o+=$("#"+e+"team0_txt").val()),$("#"+e+"tag0").val().length){for(var n=$("#"+e+"tag0").val().split(","),s="",i=0;i<n.length;i++)s+=",tag="+n[i];o+=s}if($("#"+e+"predicate0").val().length){for(n=$("#"+e+"predicate0").val().split(","),s="",i=0;i<n.length;i++)s+=",predicate="+n[i];o+=s}$("#"+e+"advancements0").length&&$("#"+e+"advancements0").val().length&&(o+=",advancements="+$("#"+e+"advancements0").val()),$("#"+e+"name0_txt").val().length&&(o+=",name=",1==$("#"+e+"name0_choice").val()&&(o+="!"),o+='"'+$("#"+e+"name0_txt").val()+'"');var o=replaceAll(e,"",o),l="";return $("#"+e+"tsScore > .score").each(function(e){var t;$("#"+this.id+"Name0").val().length&&(t=$("#"+this.id+"Name0").val(),l+=getTSRange(t,this.id+"Min0",this.id+"Max0"))}),l.length&&(o+=",scores={"+l.substr(1)+"}"),$("#"+e+"nbt0").val().length&&"{}"!=$("#"+e+"nbt0").val()&&(o+=",nbt="+$("#"+e+"nbt0").val()),t?"@e[type="+$("#"+e+"entity0").val()+o+"]":(o.length&&(o="["+o.substr(1)+"]"),$("#"+e+"targetType0_txt").val()+o)}function getTSRange(e,t,a){return!$("#"+t).length&&!$("#"+a).length||(t=$("#"+t).val())==(a=$("#"+a).val())&&""==t?"":t==a?","+e+"="+t:""!=t&&""!=a?","+e+"="+t+".."+a:""!=t?","+e+"="+t+"..":""!=a?","+e+"=.."+a:""}function addScoreObjective(e,t){t=t+"scoreObjective"+ ++tsScoreObjectiveCount;$("#"+e).append("<div id='"+t+"' class='score roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+t+"')\">&#9747;</a></div>"),createComponent(t,t+"Name",{label:"Objective Name",type:"text",cssClass:"fLabel100",eventClass:"scoreObjective",tip:"target.objectiveName"},0),createComponent(t,t+"Min",{label:"Min Score",type:"text",cssClass:"fLabel100",eventClass:"scoreObjective",tip:"target.scoreMin"},0),createComponent(t,t+"Max",{label:"Max Score",type:"text",cssClass:"fLabel100",eventClass:"scoreObjective",tip:"target.scoreMax"},0),$(".scoreObjective").bind("keyup",function(){generateCommand()}),generateCommand()}function loadTSAreaOption(e,t,a){$("#"+t+"tsAreaPane").html(""),0==e?(createComponent(t+"tsAreaPane",t+"rm",a.tsRadius.rm,0),createComponent(t+"tsAreaPane",t+"r",a.tsRadius.r,0)):(createComponent(t+"tsAreaPane",t+"dx",a.tsVolume.dx,0),createComponent(t+"tsAreaPane",t+"dy",a.tsVolume.dy,0),createComponent(t+"tsAreaPane",t+"dz",a.tsVolume.dz,0)),$(".selectArea").bind("keyup",function(){generateCommand()}),$("#"+t+"tsAreaPane br:first").remove()}function getTargetingTags(e){var t="";return 0<$("#Tags"+e).val().length&&(t+=',Tags:["'+$("#Tags"+e).val().replace(/,/g,'","')+'"]'),t}function parseNBT(t,e){t=replaceAll("<iframe","",t),t=replaceAll("<script","",t),deferOutput=!(tsScoreObjectiveCount=0),t=t.trim();try{if("{"==t.charAt(0)&&"}"==t.charAt(t.length-1)){let e=t.replace(/\\\"/g,'\\\\\\"');e=e.replace(/\\n/g,"\\\\\\\\n"),e=JSON.parse(e),loadForm("loot_table"),importLootTable(e)}else new CMDParser(t).parseTheCommand(t);localStorage.lastImport=t,deferOutput=!1,generateCommand()}catch(e){deferOutput=!1,alertify.alert("Your shipment of fail has arrived. \\_()_/<BR>"+e.toString()),$("#disableOutput").prop("checked",!1)}}function logParseFail(e,t){$.post("mcstacker2.php",{op:"logParseFail",commandID:commandID,cmd:e,error:t},function(e,t){})}function loadSavedCommand(e){parseNBT($("#commandString").val().trim(),e)}function loadCrafterFromNBT(e,t,a){if(null!=t.crafting_ticks_remaining&&$(`#${a}crafting_ticks_remaining`).val(parseInt(t.crafting_ticks_remaining.val)),null!=t.LootTable&&$(`#${a}LootTable`).val(t.LootTable.val),null!=t.Lock&&$(`#${a}Lock`).val(t.Lock.val),null!=t.disabled_slots)for(const n of t.disabled_slots.val)$(`#${a}ds`+n).prop("checked",!0);if(null!=t.Items)for(var o=0;o<t.Items.val.length;o++){replaceAll("b","",t.Items.val[o].Slot.val);setupItemSlotForNBT(""+a+o+"Slot",t.Items.val[o],e)}}function loadVaultFromNBT(t,e,a){var o;if(null!=e.config&&(null!=(o=e.config.val).loot_table&&$(`#${a}loot_table`).val(o.loot_table.val),null!=o.override_loot_table_to_display&&$(`#${a}override_loot_table_to_display`).val(o.override_loot_table_to_display.val),null!=o.activation_range&&$(`#${a}activation_range`).val(parseFloat(o.activation_range.val)),null!=o.deactivation_range&&$(`#${a}deactivation_range`).val(parseFloat(o.deactivation_range.val)),null!=o.key_item)&&setupItemSlotForNBT(a+"key_item",o.key_item.val,t),null!=e.server_data){var n=e.server_data.val;if(null!=n.rewarded_players)for(let e=0;e<n.rewarded_players.val.length;e++)addRegisteredPlayer(a+"rewarded_players",0),loadUUIDArrayNBT(a+"rewarded_players0_"+e,n.rewarded_players.val[e]);if(null!=n.state_updating_resumes_at&&$(`#${a}state_updating_resumes_at`).val(parseInt(n.state_updating_resumes_at.val)),null!=n.deactivation_range&&$(`#${a}deactivation_range`).val(parseFloat(n.deactivation_range.val)),null!=n.items_to_eject){var s=a+"items_to_ejectMultiItem";showHide(s+"Pane",s+"PaneSH");for(let e=0;e<n.items_to_eject.val.length;e++)addMultiItem(s+"Pane",!1),showHide(s+"Pane_"+e+"Pane",s+"Pane_"+e+"PaneSH"),setupItemSlotForNBT(s+"Pane_"+e,n.items_to_eject.val[e],t)}null!=n.total_ejections_needed&&$(`#${a}total_ejections_needed`).val(parseInt(n.total_ejections_needed.val))}if(null!=e.shared_data){var i=e.shared_data.val;if(null!=i.display_item&&setupItemSlotForNBT(a+"display_item",i.display_item.val,t),null!=i.connected_players)for(let e=0;e<i.connected_players.val.length;e++)addRegisteredPlayer(a+"connected_players",0),loadUUIDArrayNBT(a+"connected_players0_"+e,i.connected_players.val[e]);null!=i.connected_particles_range&&$(`#${a}connected_particles_range`).val(parseFloat(i.connected_particles_range.val))}}function loadMonsterSpawnerFromNBT(e,t,a){for(const o of["SpawnCount","SpawnRange","Delay","MinSpawnDelay","MaxSpawnDelay","MaxNearbyEntities","RequiredPlayerRange"])null!=t[o]&&$("#"+a+o).val(parseInt(t[o].val));null!=t.SpawnData&&loadSpawnPotentialFromNBT(e,a,[t.SpawnData.val],"spawn_data"),null!=t.SpawnPotentials&&loadSpawnPotentialFromNBT(e,a+"_spawn_potentials",t.SpawnPotentials.val,"spawn_potentials")}function loadTrialSpawnerFromNBT(e,t,a){if(null!=t.normal_config&&loadTrialSpawnerConfing(e,t.normal_config.val,a,"n"),null!=t.ominous_config&&(loadTrialSpawnerConfing(e,t.ominous_config.val,a,"o"),null!=t.ominous_config.val.items_to_drop_when_ominous)&&$(`#${a}o_items_to_drop_when_ominous`).val(t.ominous_config.val.items_to_drop_when_ominous.val),null!=t.required_player_range&&$(`#${a}required_player_range`).val(parseInt(t.required_player_range.val)),null!=t.target_cooldown_length&&$(`#${a}target_cooldown_length`).val(parseInt(t.target_cooldown_length.val)),null!=t.registered_players)for(let e=0;e<t.registered_players.val.length;e++)addRegisteredPlayer(a+"registered_players",0),loadUUIDArrayNBT(a+"registered_players0_"+e,t.registered_players.val[e]);if(null!=t.current_mobs)for(let e=0;e<t.current_mobs.val.length;e++)addCurrentMobs(a+"current_mobs",0),loadUUIDArrayNBT(a+"current_mobs0_"+e,t.current_mobs.val[e]);null!=t.cooldown_ends_at&&$(`#${a}cooldown_ends_at`).val(parseInt(t.cooldown_ends_at.val)),null!=t.next_mob_spawns_at&&$(`#${a}next_mob_spawns_at`).val(parseInt(t.next_mob_spawns_at.val)),null!=t.total_mobs_spawned&&$(`#${a}total_mobs_spawned`).val(parseInt(t.total_mobs_spawned.val)),null!=t.ejecting_loot_table&&$(`#${a}ejecting_loot_table`).val(t.ejecting_loot_table.val),null!=t.spawn_data&&loadSpawnPotentialFromNBT(e,a,[t.spawn_data.val],"spawn_data")}function loadTrialSpawnerConfing(e,t,a,o){if(null!=t.spawn_range&&$(`#${a}${o}_spawn_range`).val(parseInt(t.spawn_range.val)),null!=t.total_mobs&&$(`#${a}${o}_total_mobs`).val(parseFloat(t.total_mobs.val)),null!=t.simultaneous_mobs&&$(`#${a}${o}_simultaneous_mobs`).val(parseFloat(t.simultaneous_mobs.val)),null!=t.total_mobs_added_per_player&&$(`#${a}${o}_total_mobs_added_per_player`).val(parseFloat(t.total_mobs_added_per_player.val)),null!=t.simultaneous_mobs_added_per_player&&$(`#${a}${o}_simultaneous_mobs_added_per_player`).val(parseFloat(t.simultaneous_mobs_added_per_player.val)),null!=t.ticks_between_spawn&&$(`#${a}${o}_ticks_between_spawn`).val(parseInt(t.ticks_between_spawn.val)),null!=t.spawn_potentials&&loadSpawnPotentialFromNBT(e,a+o+"_spawn_potentials",t.spawn_potentials.val,"spawn_potentials"),null!=t.loot_tables_to_eject){var n=t.loot_tables_to_eject.val;for(let e=0;e<n.length;e++)addLootTableEject(""+a+o+"_loot_table_eject"),$(`#LT${a}${o}_loot_table_eject_`+e).val(n[e].data.val),$(`#W${a}${o}_loot_table_eject_`+e).val(n[e].weight.val)}}function loadSpawnPotentialFromNBT(o,n,s,i){for(var l=0;l<s.length;l++){"spawn_data"==i?addSpawnData(n+"SpawnDataPane"):addSpawnPotential(n+"Pane");let e;null!=(e="spawn_data"==i?null!=s[l].entity?s[l].entity.val:s[l]:(null!=s[l].data?s[l].data:s[l].Entity).val).id?r=extractMinecraftID(e.id.val):null!=e.entity.val.id.val&&(r=extractMinecraftID(e.entity.val.id.val)),$("#entity"+entityIndex).val(r),$("#entity"+entityIndex).trigger("change");var r,c,p=entityIndex;o.loadSummonCommand(e,entityIndex),null!=s[l].weight?$("#Weight"+p).val(s[l].weight.val):null!=s[l].Weight&&$("#Weight"+p).val(s[l].Weight.val);let t;null!=s[l].custom_spawn_rules?t=s[l].custom_spawn_rules.val:null!=s[l].data&&null!=s[l].data.val.custom_spawn_rules&&(t=s[l].data.val.custom_spawn_rules.val),null!=t&&(null!=t.block_light_limit&&(null!=(c=t.block_light_limit.val).min_inclusive&&$("#min_block_light_limit"+p).val(c.min_inclusive.val),null!=c.max_inclusive)&&$("#max_block_light_limit"+p).val(c.max_inclusive.val),null!=t.sky_light_limit)&&(null!=(c=t.sky_light_limit.val).min_inclusive&&$("#min_sky_light_limit"+p).val(c.min_inclusive.val),null!=c.max_inclusive)&&$("#max_sky_light_limit"+p).val(c.max_inclusive.val);let a;if(null!=s[l].equipment?a=s[l].equipment.val:null!=s[l].data&&null!=s[l].data.val.equipment&&(a=s[l].data.val.equipment.val),null!=a&&(null!=a.loot_table&&$("#equip_loot"+p).val(a.loot_table.val),null!=a.slot_drop_chances))for(const d in a.slot_drop_chances.val)$("#"+d+p).val(parseFloat(a.slot_drop_chances.val[d].val))}}function loadSculkCatalystFromNBT(e,t,a){if(null!=t.cursors)for(var o=t.cursors.val,n=0;n<o.length;n++){if(addCatalystCursor("cursors"+a+"Pane"),null!=o[n].charge&&$("#charge"+entityIndex).val(o[n].charge.val),null!=o[n].update_delay&&$("#update_delay"+entityIndex).val(o[n].update_delay.val),null!=o[n].decay_delay&&$("#decay_delay"+entityIndex).val(o[n].decay_delay.val),null!=o[n].pos)for(var s=0;s<axisBS.length;s++)$("#pos"+entityIndex+axisBS[s]).val(o[n].pos.val[s]);if(null!=o[n].facings)for(var i=0;i<o[n].facings.val.length;i++)$("#face"+o[n].facings.val[i]+entityIndex).prop("checked",!0)}}function loadEndGateWayNBT(e,t,a){null!=t.exit_portal?($("#exit_portalX"+a).val(t.exit_portal.val[0]),$("#exit_portalY"+a).val(t.exit_portal.val[1]),$("#exit_portalZ"+a).val(t.exit_portal.val[2])):null!=t.ExitPortal&&($("#exit_portalX"+a).val(t.ExitPortal.val.X.val),$("#exit_portalY"+a).val(t.ExitPortal.val.Y.val),$("#exit_portalZ"+a).val(t.ExitPortal.val.Z.val))}function loadBeeHiveNestFromNBT(e,t,a){if(null!=t.flower_pos?($("#flower_posX"+a).val(t.flower_pos.val[0]),$("#flower_posY"+a).val(t.flower_pos.val[1]),$("#flower_posZ"+a).val(t.flower_pos.val[2])):null!=t.FlowerPos&&($("#flower_posX"+a).val(t.FlowerPos.val.X.val),$("#flower_posY"+a).val(t.FlowerPos.val.Y.val),$("#flower_posZ"+a).val(t.FlowerPos.val.Z.val)),null!=t.bees)for(var o=t.bees.val,n=0;n<o.length;n++)addBee("Bees"+a+"Pane"),e.loadSummonCommand(o[n],entityIndex),null!=o[n].min_ticks_in_hive&&$("#min_ticks_in_hive"+entityIndex).val(o[n].min_ticks_in_hive.val),null!=o[n].ticks_in_hive&&$("#ticks_in_hive"+entityIndex).val(o[n].ticks_in_hive.val);else if(null!=t.Bees)for(var s=t.Bees.val,n=0;n<s.length;n++)addBee("Bees"+a+"Pane"),e.loadSummonCommand(s[n],entityIndex),null!=s[n].MinOccupationTicks&&$("#min_ticks_in_hive"+entityIndex).val(s[n].MinOccupationTicks.val),null!=s[n].TicksInHive&&$("#ticks_in_hive"+entityIndex).val(s[n].TicksInHive.val)}function addTradeFromNBT(e,t,a){null!=e.rewardExp&&$("#"+t+"rewardExp").val(parseInt(e.rewardExp.val)),null!=e.uses&&$("#"+t+"uses").val(parseInt(e.uses.val)),null!=e.maxUses&&$("#"+t+"maxUses").val(parseInt(e.maxUses.val)),null!=e.xp&&$("#"+t+"xp").val(parseInt(e.xp.val)),null!=e.priceMultiplier&&$("#"+t+"priceMultiplier").val(parseFloat(e.priceMultiplier.val)),null!=e.specialPrice&&$("#"+t+"specialPrice").val(parseInt(e.specialPrice.val)),null!=e.demand&&$("#"+t+"demand").val(parseInt(e.demand.val)),null!=e.buy?setupItemTradeSlotForNBT(t+"buy",e.buy.val,a):$("#"+t+"buyitemPart").empty(),null!=e.buyB?setupItemTradeSlotForNBT(t+"buyB",e.buyB.val,a):$("#"+t+"buyBitemPart").empty(),null!=e.sell?setupItemTradeSlotForNBT(t+"sell",e.sell.val,a):$("#"+t+"sellitemPart").empty()}function loadItemNBTIntoSlot(e,t,a,o){if(null!=e.count&&$("#"+a+"Count").val(parseInt(e.count.val)),null!=e.tag){for(var n=e.tag.val,s=["CanPlaceOn","CanDestroy"],i=0;i<s.length;i++)if($("#"+a+s[i]+"TilePane").html(""),null!=n[s[i]])for(var l=0;l<n[s[i]].val.length;l++)addTileFromNBTLoad(a+s[i],extractMinecraftID(n[s[i]].val[l]));var r,c=["Trim","note_block_sound","Invulnerable","instrument","Decorations","display","HideFlags","Damage","RepairCost","Unbreakable","CustomModelData","Enchantments","AttributeModifiers","BlockStateTag","CanPlaceOn","CanDestroy","StoredEnchantments","SkullOwner","title","author","generation","resolved","pages","BlockEntityTag","map","Fireworks","Explosion","EntityTag","CustomPotionEffects","custom_potion_effects","Potion","CustomPotionColor","ChargedProjectiles","Effects","effects","BlockStateTag","Recipes","Charged","LodestoneDimension","LodestonePos","LodestoneTracked","Items"],p="";for(key in n)-1==c.indexOf(key)&&(Array.isArray(n[key].val)?((r={})[key]=n[key],p+=","+o.traverseObjectToNBT(r,"")):"string"==n[key].type?p+=","+key+':"'+n[key].val+'"':"raw"==n[key].type?p+=","+key+":"+n[key].val:p+=","+key+":{"+o.traverseObjectToNBT(n[key].val,"")+"}");if(p.length&&$("#"+a+"CustomTags").val(p.substr(1)),null!=n.display){var d,m=n.display.val;if(null!=m.Name){deferOutput=deferJSONOutput=!0,tellrawJson.makeNewTellraw(a+"CustomName");try{d=JSON.parse(JSON.parse('"'+m.Name.val+'"'))}catch(v){d=JSON.parse(JSON.parse('"'+m.Name.val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(a+"CustomName",d),showHide(a+"CustomName",a+"CustomNameSH"),deferOutput=deferJSONOutput=!1,tellrawUpdate(a+"CustomName")}if(null!=m.Lore){deferOutput=deferJSONOutput=!0,tellrawJson.makeNewTellraw(a+"Lore");try{loadLoreFromNBT(a+"Lore",m.Lore.val)}catch(v){d=[];for(l=0;l<m.Lore.val.length;l++)d.push({text:m.Lore.val[l]+" "});importTellrawJSON(a+"Lore",d)}showHide(a+"Lore",a+"LoreSH"),deferOutput=deferJSONOutput=!1,tellrawUpdate(a+"Lore")}null!=m.color&&loadColorIntNBT(a+"Color",m.color.val)}if(null!=n.HideFlags){var g=["Enchantments","Modifiers","Unbreakable","CanDestroy","CanPlaceOn","HideOthers","Dyed","ArmorTrim"],h=[],_=1;h.push(0);for(l=0;l<g.length;l++)h.push(_),_*=2;for(var u=n.HideFlags.val,l=g.length-1;0<=l;l--)if(h[l+1]<=u)switch(u-=h[l+1],g[l]){case"Enchantments":$(`#${a}Enchantmentsshow_in_tooltip`).val(0),show(a+"Enchantments",a+"EnchantmentsSH");break;case"Modifiers":$(`#${a}AMshow_in_tooltip`).val(0),show(a+"AM",a+"AMSH");break;case"Unbreakable":$(`#${a}unbreak_show_in_tooltip`).val(0);break;case"CanDestroy":$(`#${a}can_break_show_in_tooltip`).val(0),show(a+"cbPanel",a+"cbPanelSH");break;case"CanPlaceOn":$(`#${a}can_place_on_show_in_tooltip`).val(0),show(a+"cpoPanel",a+"cpoPanelSH");break;case"HideOthers":$(`#${a}hide_additional_tooltip`).val(1);break;case"Dyed":$(`#${a}dyed_show_in_tooltip`).val(0),show(a+"dyedPanel",a+"dyedPanelSH");break;case"ArmorTrim":$(`#${a}trim_show_in_tooltip`).val(0),show(a+"trimPanel",a+"trimPanelSH")}}if(null!=n.Damage&&$("#"+a+"Damage").val(parseInt(n.Damage.val)),null!=n.RepairCost&&$("#"+a+"RepairCost").val(parseInt(n.RepairCost.val)),null!=n.Unbreakable&&$("#"+a+"Unbreakable").val(parseInt(n.Unbreakable.val)),null!=n.CustomModelData&&$("#"+a+"CustomModelData").val(n.CustomModelData.val),null!=n.Enchantments){showHide(a+"Enchantments",a+"EnchantmentsSH");for(var b=n.Enchantments.val,l=0;l<b.length;l++)if(null!=(v=b[l]).id){var f=extractMinecraftID(v.id.val);if(!$("#"+a+"Enchantments_enc_"+f).length){$("#"+a+"Enchantments_enc_showAll").prop("checked",!0),makeEnchantments(a+"Enchantments",!0,t);break}}else $("#"+a+"Enchantments_enc_glintOnly").val("true");if(null!=v.id)for(l=0;l<b.length;l++){var v,f=extractMinecraftID((v=b[l]).id.val);$("#"+a+"Enchantments_enc_"+f).prop("checked",!0),$("#"+a+"Enchantments_enc_"+f+"_lvl_span").show(),$("#"+a+"Enchantments_enc_"+f+"_lvl").val(parseInt(v.lvl.val))}}if(null!=n.AttributeModifiers){$("#"+a+"AMtable").find(".amRow").remove(),showHide(a+"AM",a+"AMSH");for(var y=n.AttributeModifiers.val,l=0;l<y.length;l++){var k=y[l],w=k.AttributeName.val;name=w.substr(w.indexOf(".")+1),-1==attributeModifiers116.indexOf(name)&&(name=attributeModifiers116[attributeModifiers.indexOf(name)]);var T=a+"AM_"+addAM(a+"AM",!0);if($("#"+T+"_mods").val(name),null!=k.Amount&&$("#"+T+"_amount").val(k.Amount.val),null!=k.Operation)switch(k.Operation.val){case"0":$("#"+T+"_operation").val("add_value");break;case"1":$("#"+T+"_operation").val("add_multiplied_base");break;case"2":$("#"+T+"_operation").val("add_multiplied_total")}null!=k.Slot&&$("#"+T+"_slot").val(k.Slot.val)}checkAMconflicts(a+"AM")}if(null!=n.BlockStateTag){showHide(a+"BlockStates",a+"BlockStatesSH");var x=n.BlockStateTag.val;for(key in x)$("#"+key+a).val(x[key].val)}loadItemSpecificNBT(n,t,a,o)}}function loadColorIntNBT(e,t){$("#"+e+"_customcol").prop("checked",!0),$("#"+e+"_customcol").trigger("change"),new jscolor.color(document.getElementById(e+"_color"),{}).fromString(getHexColor(t))}function convertHexUUIDToArray(e,t){var a=new DataView(new ArrayBuffer(16));let o=[8,4,4,4,12];t=t.split("-").map((e,t)=>e.padStart(o[t],"0")).join("");a.setBigUint64(0,BigInt("0x"+t.substring(0,16)),!1),a.setBigUint64(8,BigInt("0x"+t.substring(16)),!1),$("#"+e+0).val(a.getInt32(0)),$("#"+e+1).val(a.getInt32(4)),$("#"+e+2).val(a.getInt32(8)),$("#"+e+3).val(a.getInt32(12))}function convertHexUUIDToCSV(e){var t=new DataView(new ArrayBuffer(16));let a=[8,4,4,4,12];e=e.split("-").map((e,t)=>e.padStart(a[t],"0")).join("");return t.setBigUint64(0,BigInt("0x"+e.substring(0,16)),!1),t.setBigUint64(8,BigInt("0x"+e.substring(16)),!1),t.getInt32(0)+","+t.getInt32(4)+","+t.getInt32(8)+","+t.getInt32(12)}function convertLeastMostToArray(e,t,a){var o=new DataView(new ArrayBuffer(16));o.setBigInt64(0,BigInt(parseInt(a)),!1),o.setBigInt64(8,BigInt(parseInt(t)),!1),$("#"+e+0).val(o.getInt32(0)),$("#"+e+1).val(o.getInt32(4)),$("#"+e+2).val(o.getInt32(8)),$("#"+e+3).val(o.getInt32(12))}function convertMostToArray(e,t){var a=new DataView(new ArrayBuffer(16));a.setBigInt64(0,BigInt(parseInt(t)),!1),$("#"+e+0).val(a.getInt32(0)),$("#"+e+1).val(a.getInt32(4))}function convertLeastToArray(e,t){var a=new DataView(new ArrayBuffer(16));a.setBigInt64(8,BigInt(parseInt(t)),!1),$("#"+e+2).val(a.getInt32(8)),$("#"+e+3).val(a.getInt32(12))}function extractMinecraftID(e){return(e=-1!=e.indexOf("minecraft:")?e.substr(e.indexOf(":")+1):e).trim()}function extractMinecraftID113(t){if(-1!=t.indexOf("{")||-1!=t.indexOf("[")){let e=t.indexOf("{");(-1==e||-1!=t.indexOf("[")&&t.indexOf("[")<e)&&(e=t.indexOf("[")),t.indexOf(":")<e&&(settings.modifyNamespace(t.substr(0,t.indexOf(":"))),t=t.substr(t.indexOf(":")+1))}else settings.modifyNamespace(t.substr(0,t.indexOf(":"))),t=t.substr(t.indexOf(":")+1);for(var e="",a=0;a<t.length&&-1=="{[ ".indexOf(t.charAt(a));a++)e+=t.charAt(a);return e}function loadFireworksItemNBT(e,t){if(null!=t.Explosions)for(var a=t.Explosions.val,o=0;o<a.length;o++)addExplosion(e),loadExplosionNBT(e+"_exp_"+o,a[o])}function loadExplosionNBT(e,t){null!=t.Type&&$("#"+e+"Type").val(explosionShapes[t.Type.val]);var a=["Colors","FadeColors"];$("#"+e+"Flicker").prop("checked",null!=t.Flicker&&"1"==t.Flicker.val.charAt(0)),$("#"+e+"Trail").prop("checked",null!=t.Trail&&"1"==t.Trail.val.charAt(0));for(var o=0;o<a.length;o++)if(null!=t[a[o]])for(var n=t[a[o]].val,s=0;s<n.length;s++)addFWColor(e+a[o]),new jscolor.color(document.getElementById(e+a[o]+"_col_"+s+"_colour"),{}).fromString(getHexColor(n[s]))}function loadGossips(e,t){for(var a=0;a<e.length;a++)addGossip("Gossips"+t+"Pane",t),$("#Gossips"+t+"Pane_"+a+"Type").val(e[a].Type.val),$("#Gossips"+t+"Pane_"+a+"Value").val(e[a].Value.val),null!=e[a].TargetLeast&&null!=e[a].TargetMost?convertLeastMostToArray("Gossips"+t+"Pane_"+a+"Target",e[a].TargetLeast.val,e[a].TargetMost.val):null!=e[a].Target&&loadUUIDArrayNBT("Gossips"+t+"Pane_"+a+"Target",e[a].Target.val)}function loadInventory(e,t,a){for(var o=0;o<e.length;o++)setupItemSlotForNBT(o+"Inv"+t,e[o],a)}function loadMemories(e,t){if(null!=e.memories){var a=e.memories.val;for(mem in a){var o=null!=a[mem].val.value?a[mem].val.value:a[mem];null!=o.val.pos&&($("#Memories"+t+extractMinecraftID(mem)+"X").val(o.val.pos.val[0]),$("#Memories"+t+extractMinecraftID(mem)+"Y").val(o.val.pos.val[1]),$("#Memories"+t+extractMinecraftID(mem)+"Z").val(o.val.pos.val[2])),null!=o.val.dimension&&$("#Memories"+t+extractMinecraftID(mem)+"Dim").val(extractMinecraftID(o.val.dimension.val))}showHide("Memories"+t+"Pane","Memories"+t+"PaneSH")}}function loadRecipedUsedFromNBT(e,t){for(var a in $("#"+e+"_filter").val(""),t){var o=extractMinecraftID(a);$("#"+e).val(o),addRecipesUsed(e),$("#qty-"+e+"-"+o).val(t[a].val)}}function importTellrawJSON(e,t){try{if(tellrawJson.makeNewTellraw(e),null!=t.extra){var a=t.extra;delete t.extra,tellrawJson.updateSection(e,t);for(var o=0;o<a.length;o++)tellrawJson.addSectionFromObject(e,new Section(a[o]))}else{if(Array.isArray(t))for(var n=0;n<t.length;n++)tellrawJson.addSectionFromObject(e,new Section(t[n]));else tellrawJson.addSectionFromObject(e,new Section(t));tellrawJson.flipSection(e,1),tellrawJson.deleteSection(e)}tellrawPreview(e),tellrawJson.flipSection(e,1)}catch(e){}}function loadItemSpecificNBT(t,e,a,o){if("player_head"==e){if(null!=t.SkullOwner){let e=t.SkullOwner.val;null!=e.Properties&&-1!=(e="SkullOwner:"+compoundToNBTString(e)).indexOf("Id:[")&&-1==e.indexOf("Id:[I;")&&(e=replaceAll("Id:[","Id:[I;",e)),$("#"+a+"SkullOwner").val(e)}null!=t.BlockEntityTag&&null!=t.BlockEntityTag.val.note_block_sound&&$("#"+a+"sound").val(extractMinecraftID(t.BlockEntityTag.val.note_block_sound.val))}else if(trimables.includes(e)&&null!=t.Trim)$("#"+a+"Material").val(extractMinecraftID(t.Trim.val.material.val)),$("#"+a+"Pattern").val(extractMinecraftID(t.Trim.val.pattern.val));else if("enchanted_book"==e&&null!=t.StoredEnchantments)for(var n=t.StoredEnchantments.val,s=0;s<n.length;s++){var i=n[s],l=extractMinecraftID(i.id.val);$("#"+a+"StoredEnchantments_enc_"+l).click(),$("#"+a+"StoredEnchantments_enc_"+l+"_lvl").val(parseInt(i.lvl.val))}else if("written_book"==e)deferOutput=deferJSONOutput=!0,loadWrittenBookFromNBT(a+"BookPane",t),deferOutput=deferJSONOutput=!1,bookUpdate(a+"BookPane");else if(-1!=e.indexOf("sign")){if(null!=t.BlockEntityTag){if(deferOutput=deferJSONOutput=!0,loadSignFromNBT(a+"SignPane",t.BlockEntityTag.val),null!=t.BlockEntityTag.val.CommandStats)for(c in r=t.BlockEntityTag.val.CommandStats.val)null!=r[c]&&$("#"+a+c).val(r[c].val);null!=t.BlockEntityTag.val.is_waxed&&$("#"+a+"is_waxed").val(parseInt(t.BlockEntityTag.val.is_waxed.val)),deferOutput=deferJSONOutput=!1,signUpdate(a+"SignPane")}}else if("enchanting_table"==e&&null!=t.BlockEntityTag&&null!=t.BlockEntityTag.val.CustomName){try{x=JSON.parse(JSON.parse('"'+t.BlockEntityTag.val.CustomName.val+'"'))}catch(i){x=JSON.parse(JSON.parse('"'+t.BlockEntityTag.val.CustomName.val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(a+"CustomName",x),showHide(a+"CustomNameEntityName",a+"CustomNameEntityNameSH")}else if(["command_block","repeating_command_block","chain_command_block"].includes(e)){if(null!=t.BlockEntityTag){var r,c,p=t.BlockEntityTag.val;for(c in p)if("CommandStats"==c)for(c in r=p[c].val)$("#"+a+c).val(r[c].val);else if("Command"==c)$("#"+a+c).val(unEscapeForCommandBlock(p[c].val));else if("CustomName"==c){try{x=JSON.parse(JSON.parse('"'+p[c].val+'"'))}catch(i){x=JSON.parse(JSON.parse('"'+p[c].val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(a+"CustomName",x),showHide(a+"CustomNameEntityName",a+"CustomNameEntityNameSH")}else $("#"+a+c).val(parseInt(p[c].val))}}else if("compass"==e)null!=t.LodestoneDimension&&$("#"+a+"Dim").val(extractMinecraftID(t.LodestoneDimension.val)),null!=t.LodestoneTracked&&$("#"+a+"Tracked").val(parseInt(t.LodestoneTracked.val)),null!=t.LodestonePos&&($("#"+a+"X").val(t.LodestonePos.val.X.val),$("#"+a+"Y").val(t.LodestonePos.val.Y.val),$("#"+a+"Z").val(t.LodestonePos.val.Z.val));else if("filled_map"==e)null!=t.map&&$("#"+a+"map").val(t.map.val),null!=t.display&&null!=t.display.val.MapColor&&loadColorIntNBT(a+"MapColor",t.display.val.MapColor.val),null!=t.Decorations&&t.Decorations.val.forEach(function(e){var t=addMapDecoration(a+"Decorations");$("#"+t+"Type").val(mapMarkers[parseInt(e.type.val)]),$("#"+t+"id").val(e.id.val),$("#"+t+"x").val(parseFloat(e.x.val)),$("#"+t+"z").val(parseFloat(e.z.val)),$("#"+t+"rot").val(parseFloat(e.rot.val))});else if("writable_book"==e&&null!=t.pages)loadWritableBookFromNBT(a+"BookPane",t.pages.val);else if("firework_rocket"!=e&&"fireworks"!=e||null==t.Fireworks)if("firework_star"==e&&null!=t.Explosion)loadExplosionNBT(a+"Explosion_exp_0",t.Explosion.val);else if("armor_stand"==e&&null!=t.EntityTag){var d=e.substr(0,e.indexOf("_"));$("#entity"+entityIndex).val(d),$("#entity"+entityIndex).trigger("change"),o.loadSummonCommand(t.EntityTag.val,entityIndex)}else if("tadpole_bucket"!=e&&"tropical_fish_bucket"!=e&&"cod_bucket"!=e&&"pufferfish_bucket"!=e&&"salmon_bucket"!=e&&"axolotl_bucket"!=e||null==t.EntityTag)if(-1!=e.indexOf("spawn_egg")&&null!=t.EntityTag){d=e.substr(0,e.indexOf("_spawn_egg"));if(null!=t.EntityTag.val.id?$("#entity"+entityIndex).val(extractMinecraftID(t.EntityTag.val.id.val)):$("#entity"+entityIndex).val(d),$("#entity"+entityIndex).trigger("change"),o.loadSummonCommand(t.EntityTag.val,entityIndex),null!=t.EntityTag.val.Pos)for(var m=["x","y","z"],s=0;s<m.length;s++)$("#Pos"+entityIndex+m[s]).val(t.EntityTag.val.Pos.val[s])}else if("potion"==e||"splash_potion"==e||"lingering_potion"==e||"tipped_arrow"==e)null!=t.custom_potion_effects?loadCustomEffectsNBT(a+"CustomPotionEffects",t.custom_potion_effects.val):null!=t.CustomPotionEffects&&loadCustomEffectsNBT(a+"CustomPotionEffects",t.CustomPotionEffects.val),null!=t.Potion&&$("#"+a+"Potion").val(extractMinecraftID(t.Potion.val)),null!=t.CustomPotionColor&&loadColorIntNBT(a+"CustomPotionColor",t.CustomPotionColor.val);else if("crossbow"==e){if(null!=t.ChargedProjectiles)for(var g,h,_=t.ChargedProjectiles.val,s=0;s<_.length;s++)null!=_[s].id&&(g=extractMinecraftID(_[s].id.val),h=addCrossbowProjectile(a+"Projectiles")+"Projectile",$("#"+h).val(g),$("#"+h).trigger("change"),"tipped_arrow"==g?null!=_[s].tag&&(null!=_[s].tag.val.CustomPotionEffects&&loadCustomEffectsNBT(h+"CustomPotionEffects",_[s].tag.val.CustomPotionEffects.val),null!=_[s].tag.val.Potion&&$("#"+h+"Potion").val(extractMinecraftID(_[s].tag.val.Potion.val)),null!=_[s].tag.val.CustomPotionColor)&&loadColorIntNBT(h+"CustomPotionColor",_[s].tag.val.CustomPotionColor.val):"firework_rocket"==g&&null!=_[s].tag&&(null!=_[s].tag.val.Fireworks.val.Flight&&$("#"+h+"ProjectileFlight").val(parseInt(_[s].tag.val.Fireworks.val.Flight.val)),loadFireworksItemNBT(h+"ProjectileExplosionPane",_[s].tag.val.Fireworks.val)))}else if("suspicious_stew"==e)null!=t.effects?loadStewEffectsNBT(a+"StewEffects",t.effects.val):null!=t.Effects&&loadStewEffectsNBT(a+"StewEffects",t.Effects.val);else if("goat_horn"==e)null!=t.instrument&&$("#"+a+"instrument").val(extractMinecraftID(t.instrument.val));else if("spawner"==e)null!=t.BlockEntityTag&&loadMonsterSpawnerFromNBT(new CMDParser(""),t.BlockEntityTag.val,a+"ItemPane");else if("bee_nest"==e||"beehive"==e)null!=t.BlockEntityTag&&loadBeeHiveNestFromNBT(o,t.BlockEntityTag.val,a);else if("sculk_catalyst"==e)null!=t.BlockEntityTag&&loadSculkCatalystFromNBT(o,t.BlockEntityTag.val,a);else if("bundle"==e){if(null!=t.Items){var u=a+"BundleItemsMultiItem";showHide(u+"Pane",u+"PaneSH");for(let e=0;e<t.Items.val.length;e++)addMultiItem(u+"Pane",!1),showHide(u+"Pane_"+e+"Pane",u+"Pane_"+e+"PaneSH"),setupItemSlotForNBT(u+"Pane_"+e,t.Items.val[e],o)}}else if("campfire"==e||"soul_campfire"==e){if(null!=t.BlockEntityTag){if(null!=t.BlockEntityTag.val.CookingTimes)for(var b=t.BlockEntityTag.val.CookingTimes.val,s=0;s<4&&s<b.length;s++)$("#"+a+"CookingTime"+s).val(b[s].trim());if(null!=t.BlockEntityTag.val.CookingTotalTimes)for(b=t.BlockEntityTag.val.CookingTotalTimes.val,s=0;s<4&&s<b.length;s++)$("#"+a+"CookingTotalTime"+s).val(b[s].trim());if(null!=t.BlockEntityTag.val.Items){var f=t.BlockEntityTag.val.Items.val;for(let e=0;e<f.length;e++){var v=replaceAll("b","",f[e].Slot.val);setupItemSlotForNBT(a+"Slot"+v,f[e],o)}}}}else if("decorated_pot"==e&&null!=t.BlockEntityTag)null!=t.BlockEntityTag.val.sherds&&loadPotterySherds(a+"Sherd","",t.BlockEntityTag.val.sherds.val),null!=t.BlockEntityTag.val.item&&(setupItemSlotForNBT(a+"Slot0",t.BlockEntityTag.val.item.val,o),showHide(a+"itemPane",a+"itemSH")),null!=t.BlockEntityTag.val.LootTable&&$("#"+a+"LootTable").val(t.BlockEntityTag.val.LootTable.val);else if("suspicious_sand"!=e&&"suspicious_gravel"!=e||null==t.BlockEntityTag){if("jukebox"==e&&null!=t.BlockEntityTag&&null!=t.BlockEntityTag.val.RecordItem)setupItemSlotForNBT(a+"RecordItem",t.BlockEntityTag.val.RecordItem.val,o),showHide(a+"RecordItemPane",a+"RecordItemSH");else if("sculk_shrieker"==e&&null!=t.BlockEntityTag&&null!=t.BlockEntityTag.val.warning_level)$("#"+a+"warning_level").val(t.BlockEntityTag.val.warning_level.val);else if("painting"==e)null!=t.EntityTag&&(null!=t.EntityTag.val.variant&&$("#"+a+"variant").val(extractMinecraftID(t.EntityTag.val.variant.val)),importEntityTagNBT_In_Item(a,paintingEntityTagNBTForItem,t));else if("item_frame"==e||"glow_item_frame"==e){if(null!=t.EntityTag){null!=t.EntityTag.val.Item&&(setupItemSlotForNBT(a+"ItemInFrame",t.EntityTag.val.Item.val,o),showHide(a+"ItemInFramePane",a+"ItemInFrameSH")),null!=t.EntityTag.val.ItemDropChance&&$("#"+a+"ItemDropChance").val(parseFloat(t.EntityTag.val.ItemDropChance.val));var y=["ItemRotation","Fixed","Invisible"];for(let e=0;e<y.length;e++)null!=t.EntityTag.val[y[e]]&&$("#"+a+y[e]).val(parseInt(t.EntityTag.val[y[e]].val));importEntityTagNBT_In_Item(a,itemFrameEntityTagNBTForItem,t)}}else if("lectern"==e)null!=t.BlockEntityTag&&(null!=t.BlockEntityTag.val.Page&&$("#"+a+"Page").val(t.BlockEntityTag.val.Page.val),null!=t.BlockEntityTag.val.Book)&&(setupItemSlotForNBT(a+"Book",t.BlockEntityTag.val.Book.val,o),showHide(a+"BookPane",a+"BookSH"));else if("beacon"==e){if(null!=t.BlockEntityTag){if(null!=t.BlockEntityTag.val.Lock&&$("#"+a+"Lock").val(t.BlockEntityTag.val.Lock.val),null!=t.BlockEntityTag.val.CustomName){try{x=JSON.parse(JSON.parse('"'+t.BlockEntityTag.val.CustomName.val+'"'))}catch(i){x=JSON.parse(JSON.parse('"'+t.BlockEntityTag.val.CustomName.val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(a+"CustomName",x),showHide(a+"CustomNameEntityName",a+"CustomNameEntityNameSH")}null!=t.BlockEntityTag.val.Levels&&$("#"+a+"Levels").val(t.BlockEntityTag.val.Levels.val),null!=t.BlockEntityTag.val.primary_effect?$("#"+a+"Primary").val(extractMinecraftID(t.BlockEntityTag.val.primary_effect.val)):null!=t.BlockEntityTag.val.Primary&&-1!=t.BlockEntityTag.val.Primary.val&&$("#"+a+"Primary").val(t.BlockEntityTag.val.Primary.val),null!=t.BlockEntityTag.val.secondary_effect?$("#"+a+"Secondary").val(extractMinecraftID(t.BlockEntityTag.val.secondary_effect.val)):null!=t.BlockEntityTag.val.Secondary&&-1!=t.BlockEntityTag.val.Secondary.val&&$("#"+a+"Secondary").val(t.BlockEntityTag.val.Secondary.val)}}else if(-1!=e.indexOf("banner")||"shield"==e||"barrel"==e||"chest"==e||"trapped_chest"==e||"brewing_stand"==e||"dispenser"==e||"dropper"==e||"furnace"==e||"blast_furnace"==e||"smoker"==e||"hopper"==e||-1!=e.indexOf("shulker_box")){if(null!=t.BlockEntityTag){if(null!=t.BlockEntityTag.val.Lock&&$("#"+a+"Lock").val(t.BlockEntityTag.val.Lock.val),-1!=e.indexOf("banner")||"shield"==e){let e="";var k;null!=t.BlockEntityTag.val.Base&&(e+=",Base:"+t.BlockEntityTag.val.Base.val),null!=t.BlockEntityTag.val.Patterns&&(k=compoundToNBTString(t),e+=",Patterns:"+extractSegment("[","]",k.indexOf("Patterns")+9,k)),e.length&&$("#"+a+"BlockEntityTag").val(e.substr(1))}else"barrel"==e||"chest"==e||"trapped_chest"==e||"dispenser"==e||"dropper"==e||"hopper"==e||-1!=e.indexOf("shulker_box")?(null!=t.BlockEntityTag.val.LootTable&&$("#"+a+"LootTable").val(t.BlockEntityTag.val.LootTable.val),"hopper"==e&&null!=t.BlockEntityTag.val.TransferCooldown&&$("#"+a+"TransferCooldown").val(t.BlockEntityTag.val.TransferCooldown.val)):"brewing_stand"==e?(null!=t.BlockEntityTag.val.BrewTime&&$("#"+a+"BrewTime").val(t.BlockEntityTag.val.BrewTime.val),null!=t.BlockEntityTag.val.Fuel&&$("#"+a+"Fuel").val(parseInt(t.BlockEntityTag.val.Fuel.val))):"furnace"!=e&&"blast_furnace"!=e&&"smoker"!=e||(null!=t.BlockEntityTag.val.BurnTime&&$("#"+a+"BurnTime").val(t.BlockEntityTag.val.BurnTime.val),null!=t.BlockEntityTag.val.CookTime&&$("#"+a+"CookTime").val(t.BlockEntityTag.val.CookTime.val),null!=t.BlockEntityTag.val.CookTimeTotal&&$("#"+a+"CookTimeTotal").val(t.BlockEntityTag.val.CookTimeTotal.val),null!=t.BlockEntityTag.val.RecipesUsed&&loadRecipedUsedFromNBT(a+"RecipesUsed",t.BlockEntityTag.val.RecipesUsed.val));if(null!=t.BlockEntityTag.val.Items){var w=t.BlockEntityTag.val.Items.val;for(let e=0;e<w.length;e++){var T=replaceAll("b","",w[e].Slot.val);setupItemSlotForNBT(a+"Slot"+T,w[e],o)}}if(null!=t.BlockEntityTag.val.CustomName){var x;try{x=JSON.parse(JSON.parse('"'+t.BlockEntityTag.val.CustomName.val+'"'))}catch(i){x=JSON.parse(JSON.parse('"'+t.BlockEntityTag.val.CustomName.val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(a+"CustomName",x),showHide(a+"CustomNameEntityName",a+"CustomNameEntityNameSH")}}}else if("knowledge_book"==e&&null!=t.Recipes)for(s=0;s<t.Recipes.val.length;s++)-1!=t.Recipes.val[s].indexOf("minecraft:")?addTileFromNBTLoad(a+"Recipes",extractMinecraftID(t.Recipes.val[s])):addTileFromNBTLoad(a+"Recipes",t.Recipes.val[s])}else null!=t.BlockEntityTag.val.item&&(setupItemSlotForNBT(a+"item",t.BlockEntityTag.val.item.val,o),showHide(a+"itemPane",a+"itemSH")),null!=t.BlockEntityTag.val.LootTable&&$("#"+a+"LootTable").val(t.BlockEntityTag.val.LootTable.val);else{var d=e.substr(0,e.indexOf("_bucket"));$("#entity"+entityIndex).val(d),$("#entity"+entityIndex).trigger("change"),o.loadSummonCommand(t.EntityTag.val,entityIndex)}else null!=t.Fireworks.val.Flight&&$("#"+a+"Flight").val(parseInt(t.Fireworks.val.Flight.val)),loadFireworksItemNBT(a+"ExplosionPane",t.Fireworks.val)}function importEntityTagNBT_In_Item(t,a,e){var o,n=null!=e.EntityTag?e.EntityTag.val:e;for(let e=0;e<a.length;e++)if("UUID"==a[e]&&null!=n[a[e]])loadUUIDArrayNBT(t+"UUID",n[a[e]].val);else if("CustomName"==a[e]&&null!=n[a[e]]){try{o=JSON.parse(JSON.parse('"'+n.CustomName.val+'"'))}catch(e){o=JSON.parse(JSON.parse('"'+n.CustomName.val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(t+"CustomName",o),showHide(t+"CustomNameEntityName",t+"CustomNameEntityNameSH")}else if("Tags"==a[e]&&null!=n[a[e]]){for(var s="",i=0;i<n[a[e]].val.length;i++)s+=","+n[a[e]].val[i];$("#"+t+"Tags").val(s.substring(1))}else null!=n[a[e]]&&$("#"+t+a[e]).val(parseInt(n[a[e]].val))}function setupItemSlotForNBT(e,t,a){if(null!=t.id){var o,n=extractMinecraftID(t.id.val);if(show(e+"Pane",e+"SH"),$("#"+e).length)if($("#"+e).val(n),$("#"+e).trigger("change"),null!=t.Count?$("#"+e+"Count").val(parseInt(t.Count.val)):null!=t.count&&$("#"+e+"Count").val(parseInt(t.count.val)),null!=t.components)for(const i in t.components.val)loadComponentNBTIntoSlot(extractMinecraftID(i),n,e,{val:t.components.val[i].val});else null!=t.tag?(loadItemNBTIntoSlot(t,n,e,a),null==(o=t.tag.val).HideFlags&&hide(e+"HideFlags",e+"HideFlagsSH"),null!=o.display?(null==(s=o.display.val).Name&&hide(e+"CustomName",e+"CustomNameSH"),null==s.Lore&&hide(e+"Lore",e+"LoreSH")):(hide(e+"CustomName",e+"CustomNameSH"),hide(e+"Lore",e+"LoreSH")),null==o.AttributeModifiers&&hide(e+"AM",e+"AMSH"),null==o.Enchantments&&hide(e+"Enchantments",e+"EnchantmentsSH"),null==o.BlockStateTag&&hide(e+"BlockStates",e+"BlockStatesSH")):(hide(e+"HideFlags",e+"HideFlagsSH"),hide(e+"CustomName",e+"CustomNameSH"),hide(e+"ItemName",e+"ItemNameSH"),hide(e+"Lore",e+"LoreSH"),hide(e+"AM",e+"AMSH"),hide(e+"BlockStates",e+"BlockStatesSH"),hide(e+"Enchantments",e+"EnchantmentsSH"),hide(e+"Food",e+"FoodSH"),hide(e+"Tool",e+"ToolSH"),hide(e+"JukePlayable",e+"JukePlayableSH"));else{var s=replaceAll(",tag{}","",a.traverseObjectToNBT(t,""));s=replaceAll(",components{}","",s),cachedNBT.setNBT(e,","+s),cachedNBT.setCollapsedItem(e,"{"+s+"}"),$("#"+e+"itemPart").html("<div class='itemNBT'>{"+s+"}</div>")}}}function contextSyntax(e,t){return e?`,"minecraft:${t}":`:`,${t}=`}function isShowToolTipFalse(e){return"false"==e||!e}function convertImportedBoolean(e){return"true"==e||"1b"==e||1==e?1:0}function loadComponentNBTIntoSlot(e,t,a,o){switch(e=extractMinecraftID(e)){case"can_place_on":for(var n=0;n<o.val.predicates.val.length;n++)addTileFromNBTLoad(a+"CanPlaceOn",extractMinecraftID(o.val.predicates.val[n].blocks.val));null!=o.val.show_in_tooltip&&$(`#${a}can_place_on_show_in_tooltip`).val(convertImportedBoolean(o.val.show_in_tooltip.val)),show(a+"cpoPanel",a+"cpoPanelSH");break;case"can_break":for(n=0;n<o.val.predicates.val.length;n++)addTileFromNBTLoad(a+"CanDestroy",extractMinecraftID(o.val.predicates.val[n].blocks.val));null!=o.val.show_in_tooltip&&$(`#${a}can_break_show_in_tooltip`).val(convertImportedBoolean(o.val.show_in_tooltip.val)),show(a+"cbPanel",a+"cbPanelSH");break;case"damage":$(`#${a}Damage`).val(o.val);break;case"max_damage":$(`#${a}max_damage`).val(o.val);break;case"max_stack_size":$(`#${a}max_stack_size`).val(o.val);break;case"repair_cost":$(`#${a}RepairCost`).val(o.val);break;case"custom_model_data":$(`#${a}CustomModelData`).val(o.val);break;case"unbreakable":$(`#${a}Unbreakable`).val(1),null!=o.val.show_in_tooltip&&$(`#${a}unbreak_show_in_tooltip`).val(convertImportedBoolean(o.val.show_in_tooltip.val));break;case"fire_resistant":$(`#${a}fire_resistant`).val(1);break;case"hide_tooltip":$(`#${a}hide_tooltip`).val(1);break;case"hide_additional_tooltip":$(`#${a}hide_additional_tooltip`).val(1);break;case"rarity":$(`#${a}rarity`).val(replaceAll('"',"",o.val));break;case"stored_enchantments":loadComponentEnchantments(a+"Stored",o.val,item);break;case"enchantments":loadComponentEnchantments(a,o.val,item);break;case"enchantment_glint_override":"boolean"==typeof o.val&&(o.val=""+o.val),$(`#${a}Enchantmentsglint_override`).val("true"==o.val?1:0),$(`#${a}Enchantments`).is(":visible")||show(a+"Enchantments",a+"EnchantmentsSH");break;case"custom_name":loadComponentCustomOrItemName(a+"CustomName",o);break;case"item_name":loadComponentCustomOrItemName(a+"ItemName",o);break;case"lore":loadComponentLore(a,o);break;case"attribute_modifiers":loadComponentAttributeModifiers(a,o);break;case"block_state":loadComponentBlockState(a,o);break;case"dyed_color":loadComponentDyedColor(a,o);break;case"custom_data":loadComponentCustomTags(a,o);break;case"bundle_contents":loadComponentBundleContents(a,o.val);break;case"map_id":$(`#${a}map`).val(o.val);break;case"map_decorations":loadComponentMapDecorations(a,o.val);break;case"map_color":loadColorIntNBT(a+"MapColor",o.val);break;case"potion_contents":loadComponentPotionContents(a,o.val);break;case"written_book_content":loadComponentWrittenBookContent(a,o.val);break;case"writable_book_content":null!=o.val.pages&&loadWritableBookFromNBT(a+"BookPane",o.val.pages.val);break;case"charged_projectiles":loadComponentChargedProjectiles(a,o.val);break;case"firework_explosion":loadComponentFireworkExplosion(a+"Explosion_exp_0",o.val);break;case"fireworks":loadComponentFireworks(a,o.val);break;case"trim":loadComponentTrim(a,o.val);break;case"suspicious_stew_effects":loadStewEffectsNBT(a+"StewEffects",o.val);break;case"entity_data":loadComponentEntityData(a,o.val,t);break;case"bucket_entity_data":loadComponentBucketEntityData(a,o.val,t);break;case"instrument":loadComponentInstrument(a,o.val);break;case"recipes":loadComponentRecipes(a,o.val);break;case"lodestone_tracker":loadComponentLodestoneTarget(a,o.val);break;case"pot_decorations":loadComponentPotDecorations(a,o.val);break;case"container_loot":$("#"+a+"LootTable").val(replaceAll('"',"",o.val.loot_table.val));break;case"lock":$("#"+a+"Lock").val(replaceAll('"',"",o.val));break;case"bees":loadBeeHiveNestFromNBT(new CMDParser(""),{bees:{val:o.val}},a);break;case"container":loadComponentContainer(a,o.val);break;case"block_entity_data":loadComponenBlockEntityData(a,o.val,t);break;case"note_block_sound":$("#"+a+"sound").val(replaceAll('"',"",o.val.note_block_sound.val));break;case"profile":loadComponentProfile(a,o.val);break;case"banner_patterns":loadComponentBannerPatterns(a,o.val);break;case"base_color":$("#"+a+"BaseColor").val(replaceAll('"',"",o.val));break;case"food":loadComponentFood(a+"Food",o.val);break;case"tool":loadComponentTool(a+"Tool",o.val);break;case"ominous_bottle_amplifier":$(`#${a}ominous_bottle_amplifier`).val(o.val);break;case"jukebox_playable":loadComponentJukePlayable(a+"JukePlayable",o.val)}}function loadComponentInstrument(t,a){if("string"==typeof a||a instanceof String)$("#"+t+"instrument").val(extractMinecraftID(replaceAll('"',"",a)));else if($("#"+t+"instrument").val("Custom Sound"),$("#"+t+"instrument").trigger("change"),null!=a.range&&$("#"+t+"range").val(a.range.val),null!=a.use_duration&&$("#"+t+"use_duration").val(a.use_duration.val),null!=a.sound_event){let e;-1!=(e=(null!=a.sound_event.val.sound_id?a.sound_event.val.sound_id:a.sound_event).val).indexOf("minecraft:")&&(e=extractMinecraftID(e)),(-1!=soundList.indexOf(e)?$("#"+t+"sound"):$("#"+t+"resource")).val(e)}}function loadComponentJukePlayable(e,t){null!=t.song&&$(`#${e}song`).val(t.song.val),null!=t.show_in_tooltip&&$(`#${e}show_in_tooltip`).val(convertImportedBoolean(t.show_in_tooltip.val)),show(e,e+"SH")}function loadComponentTool(t,a){if(null!=a.default_mining_speed&&$(`#${t}default_mining_speed`).val(a.default_mining_speed.val),null!=a.damage_per_block&&$(`#${t}damage_per_block`).val(a.damage_per_block.val),null!=a.rules)for(let e=0;e<a.rules.val.length;e++){var o=a.rules.val[e],n=t+"Pane_"+e;if(addToolRule(t+"Pane"),null!=o.speed&&$(`#${n}speed`).val(o.speed.val),null!=o.correct_for_drops&&$(`#${n}correct_for_drops`).val(convertImportedBoolean(o.correct_for_drops.val)),null!=o.blocks)if(Array.isArray(o.blocks.val))for(var s=0;s<o.blocks.val.length;s++)addTileFromNBTLoad(n+"Blocks",extractMinecraftID(o.blocks.val[s]));else addTileFromNBTLoad(n+"Blocks",extractMinecraftID(o.blocks.val))}show(t,t+"SH")}function loadComponentFood(e,t){null!=t.nutrition&&$(`#${e}nutrition`).val(t.nutrition.val),null!=t.saturation&&$(`#${e}saturation`).val(t.saturation.val),null!=t.can_always_eat&&$(`#${e}can_always_eat`).val(convertImportedBoolean(t.can_always_eat.val)),null!=t.eat_seconds&&$(`#${e}eat_seconds`).val(t.eat_seconds.val),null!=t.effects&&loadCustomEffectsNBT(e+"CustomPotionEffects",t.effects.val,!0),null!=t.using_converts_to&&(show(e+"using_converts_toPane",e+"using_converts_toSH"),setupItemSlotForNBT(e+"using_converts_to",t.using_converts_to.val,new CMDParser(""))),show(e,e+"SH")}function loadComponentBannerPatterns(e,t){let a="";for(const o of t)a+=`,{pattern:"minecraft:${extractMinecraftID(o.pattern.val)}",color:"${o.color.val}"}`;$(`#${e}BlockEntityTag`).val(`banner_patterns=[${a.substring(1)}]`)}function loadComponentProfile(t,e){if(null!=e.id&&loadUUIDArrayNBT(t+"UUID",e.id.val),null!=e.name?$(`#${t}SkullOwner`).val(e.name.val):"string"==typeof e&&$(`#${t}SkullOwner`).val(replaceAll('"',"",e)),null!=e.properties){var a=e.properties.val;for(let e=0;e<a.length;e++)null!=a[e].name&&"textures"==a[e].name.val&&null!=a[e].value&&$(`#${t}Texture`).val(a[e].value.val)}}function loadComponenBlockEntityData(e,t,a){switch(a){case"beehive":case"bee_nest":$("#flower_posX"+e).val(t.flower_pos.val[0]),$("#flower_posY"+e).val(t.flower_pos.val[1]),$("#flower_posZ"+e).val(t.flower_pos.val[2]);break;case"hopper":null!=t.TransferCooldown&&$("#"+e+"TransferCooldown").val(t.TransferCooldown.val);break;case"brewing_stand":null!=t.BrewTime&&$("#"+e+"BrewTime").val(t.BrewTime.val),null!=t.Fuel&&$("#"+e+"Fuel").val(parseInt(t.Fuel.val));break;case"furnace":case"blast_furnace":case"smoker":null!=t.BurnTime&&$("#"+e+"BurnTime").val(t.BurnTime.val),null!=t.CookTime&&$("#"+e+"CookTime").val(t.CookTime.val),null!=t.CookTimeTotal&&$("#"+e+"CookTimeTotal").val(t.CookTimeTotal.val),null!=t.RecipesUsed&&loadRecipedUsedFromNBT(e+"RecipesUsed",t.RecipesUsed.val);break;case"lectern":null!=t.Page&&$("#"+e+"Page").val(t.Page.val),null!=t.Book&&(show(e+"BookPane",e+"BookSH"),setupItemSlotForNBT(e+"Book",t.Book.val,new CMDParser("")));break;case"crafter":loadCrafterFromNBT(new CMDParser(""),t,e+"ItemPane");break;case"trial_spawner":loadTrialSpawnerFromNBT(new CMDParser(""),t,e+"ItemPane");break;case"spawner":loadMonsterSpawnerFromNBT(new CMDParser(""),t,e+"ItemPane");break;case"suspicious_sand":case"suspicious_gravel":case"decorated_pot":null!=t.item&&(setupItemSlotForNBT(e+"item",t.item.val,new CMDParser("")),show(e+"itemPane",e+"itemSH")),null!=t.LootTable&&$("#"+e+"LootTable").val(t.LootTable.val);break;case"vault":loadVaultFromNBT(new CMDParser(""),t,e+"ItemPane");break;default:if(-1!=a.indexOf("_sign")){if(deferOutput=deferJSONOutput=!0,loadSignFromNBT(e+"SignPane",t),null!=t.CommandStats)for(o in n=t.CommandStats.val)null!=n[o]&&$("#"+e+o).val(n[o].val);null!=t.is_waxed&&$("#"+e+"is_waxed").val(parseInt(t.is_waxed.val)),deferOutput=deferJSONOutput=!1,signUpdate(e+"SignPane")}else if(-1!=a.indexOf("command_block"))for(var o in t){var n,s;if("CommandStats"==o)for(o in n=t[o].val)$("#"+e+o).val(n[o].val);else if("Command"==o)$("#"+e+o).val(unEscapeForCommandBlock(t[o].val));else if("CustomName"==o){try{s=JSON.parse(JSON.parse('"'+t[o].val+'"'))}catch(e){s=JSON.parse(JSON.parse('"'+t[o].val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"'))}importTellrawJSON(e+"CustomName",s),show(e+"CustomNameEntityName",e+"CustomNameEntityNameSH")}else $("#"+e+o).val(parseInt(t[o].val))}}}function loadComponentContainer(t,a){var o=new CMDParser("");for(let e=0;e<a.length;e++){var n=a[e].slot.val;"loot_table"==currentCommand&&(hasKey(a[e].item.val,"item_name")||hasKey(a[e].item.val,"lore")||hasKey(a[e].item.val,"custom_name")||hasKey(a[e].item.val,"CustomName"))&&$("#createItemUI_"+t+"Slot"+n).trigger("click"),setupItemSlotForNBT(t+"Slot"+n,a[e].item.val,o)}}function hasKey(t,a){return Object.keys(t).some(e=>e===a||e==="minecraft:"+a||"object"==typeof t[e]&&null!==t[e]&&hasKey(t[e],a))}function loadComponentPotDecorations(t,a){for(let e=0;e<a.length&&e<4;e++)$("#"+t+"Sherd"+e).val(extractMinecraftID(a[e]))}function loadComponentLodestoneTarget(e,t){null!=t.tracked&&$("#"+e+"Tracked").val(convertImportedBoolean(t.tracked.val)),null!=t.target&&(null!=t.target.val.dimension&&$("#"+e+"Dim").val(extractMinecraftID(t.target.val.dimension.val)),null!=t.target.val.pos)&&($("#"+e+"X").val(t.target.val.pos.val[0]),$("#"+e+"Y").val(t.target.val.pos.val[1]),$("#"+e+"Z").val(t.target.val.pos.val[2]))}function loadComponentRecipes(e,t){for(var a=0;a<t.length;a++)-1!=t[a].indexOf("minecraft:")?addTileFromNBTLoad(e+"Recipes",extractMinecraftID(t[a])):addTileFromNBTLoad(e+"Recipes",t[a])}function loadComponentBucketEntityData(e,t,a){var o,n;"tadpole_bucket"==a&&null!=t.Age?$(`#${e}Age`).val(t.Age.val):"tropical_fish_bucket"==a&&null!=t.BucketVariantTag?($(`#${e}Variant`).val(1),n=parseInt(t.BucketVariantTag.val),o=Math.floor(n/16777216),n=n%16777216,$(`#${e}PatternColor`).val(o),o=Math.floor(n/65536),n%=65536,$(`#${e}BaseColor`).val(o),o=Math.floor(n/256),n%=256,$(`#${e}Pattern`).val(o),$(`#${e}Size`).val(n)):"axolotl_bucket"==a&&null!=t.Variant&&$(`#${e}Variant`).val(t.Variant.val),null!=t.NoGravity&&$(`#${e}NoGravity`).val(parseInt(t.NoGravity.val)),null!=t.Silent&&$(`#${e}Silent`).val(parseInt(t.Silent.val)),null!=t.Invulnerable&&$(`#${e}Invulnerable`).val(parseInt(t.Invulnerable.val)),null!=t.Glowing&&$(`#${e}Glowing`).val(parseInt(t.Glowing.val)),null!=t.NoAI&&$(`#${e}NoAI`).val(parseInt(t.NoAI.val)),null!=t.Health&&$(`#${e}Health`).val(parseFloat(t.Health.val))}function loadComponentEntityData(t,a,e){if(-1!=e.indexOf("item_frame")){null!=a.Item&&(setupItemSlotForNBT(t+"ItemInFrame",a.Item.val,new CMDParser("")),show(t+"ItemInFramePane",t+"ItemInFrameSH")),null!=a.ItemDropChance&&$("#"+t+"ItemDropChance").val(parseFloat(a.ItemDropChance.val));var o=["ItemRotation","Fixed","Invisible"];for(let e=0;e<o.length;e++)null!=a[o[e]]&&$("#"+t+o[e]).val(parseInt(a[o[e]].val));importEntityTagNBT_In_Item(t,itemFrameEntityTagNBTForItem,a)}else if("painting"==e)null!=a.variant&&$("#"+t+"variant").val(extractMinecraftID(a.variant.val)),importEntityTagNBT_In_Item(t,paintingEntityTagNBTForItem,a);else if(null!=a.id.val&&($("#entity"+entityIndex).val(extractMinecraftID(a.id.val)),$("#entity"+entityIndex).trigger("change")),new CMDParser("").loadSummonCommand(a,entityIndex),null!=a.Pos)for(var n=["x","y","z"],s=0;s<n.length;s++)$("#Pos"+entityIndex+n[s]).val(a.Pos.val[s])}function loadComponentTrim(e,t){$("#"+e+"Material").val(extractMinecraftID(t.material.val)),$("#"+e+"Pattern").val(extractMinecraftID(t.pattern.val)),null!=t.show_in_tooltip&&$(`#${e}trim_show_in_tooltip`).val(convertImportedBoolean(t.show_in_tooltip.val)),show(e+"trimPanel",e+"trimPanelSH")}function loadComponentChargedProjectiles(e,t){for(prj of t){var a,o=extractMinecraftID(prj.id.val),n=addCrossbowProjectile(e+"Projectiles")+"Projectile";$("#"+n).val(o),$("#"+n).trigger("change"),"arrow"==o||"spectral_arrow"==o?null!=prj.components&&$("#"+n+"Intangible").prop("checked",null!=prj.components.val["minecraft:intangible_projectile"]):"tipped_arrow"==o?null!=prj.components&&(null!=(a=prj.components.val)["minecraft:potion_contents"]&&(null!=a["minecraft:potion_contents"].val.custom_effects&&loadCustomEffectsNBT(n+"CustomPotionEffects",a["minecraft:potion_contents"].val.custom_effects.val),null!=a["minecraft:potion_contents"].val.potion&&$("#"+n+"Potion").val(extractMinecraftID(a["minecraft:potion_contents"].val.potion.val)),null!=a["minecraft:potion_contents"].val.custom_color)&&loadColorIntNBT(n+"CustomPotionColor",a["minecraft:potion_contents"].val.custom_color.val),$("#"+n+"Intangible").prop("checked",null!=a["minecraft:intangible_projectile"])):"firework_rocket"==o&&null!=prj.components&&null!=(a=prj.components.val)["minecraft:fireworks"]&&loadComponentFireworks(n,a["minecraft:fireworks"].val)}}function loadComponentWrittenBookContent(e,t){deferOutput=deferJSONOutput=!0,loadWrittenBookFromNBT(e+"BookPane",t),deferOutput=deferJSONOutput=!1,bookUpdate(e+"BookPane")}function loadComponentFireworks(e,t){if(null!=t.explosions)for(var a=t.explosions.val,o=0;o<a.length;o++)addExplosion(e+"ExplosionPane"),loadComponentFireworkExplosion(e+"ExplosionPane_exp_"+o,a[o]);null!=t.flight_duration&&$(`#${e}Flight`).val(parseInt(t.flight_duration.val))}function loadComponentFireworkExplosion(e,t){$("#"+e+"Type").val(t.shape.val);var a=[{ui:"Colors",comp:"colors"},{ui:"FadeColors",comp:"fade_colors"}];$("#"+e+"Flicker").prop("checked",null!=t.has_twinkle&&("true"==t.has_twinkle.val||1==ob.has_twinkle.val)),$("#"+e+"Trail").prop("checked",null!=t.has_trail&&("true"==t.has_trail.val||1==ob.has_trail.val));for(var o=0;o<a.length;o++)if(null!=t[a[o].comp])for(var n=t[a[o].comp].val,s=0;s<n.length;s++)addFWColor(e+a[o].ui),new jscolor.color(document.getElementById(e+a[o].ui+"_col_"+s+"_colour"),{}).fromString(getHexColor(n[s]))}function loadComponentPotionContents(e,t){null!=t.custom_effects&&loadCustomEffectsNBT(e+"CustomPotionEffects",t.custom_effects.val),null!=t.potion?$("#"+e+"Potion").val(extractMinecraftID(t.potion.val)):"string"==typeof t&&$("#"+e+"Potion").val(replaceAll('"',"",extractMinecraftID(t))),null!=t.custom_color&&loadColorIntNBT(e+"CustomPotionColor",t.custom_color.val)}function loadComponentMapDecorations(e,t){for(var a in t){var o=addMapDecoration(e+"Decorations");$("#"+o+"Type").val(t[a].val.type.val),$("#"+o+"id").val(a),$("#"+o+"x").val(parseFloat(t[a].val.x.val)),$("#"+o+"z").val(parseFloat(t[a].val.z.val)),$("#"+o+"rot").val(parseFloat(t[a].val.rotation.val))}}function loadComponentBundleContents(e,t){var a=e+"BundleItemsMultiItem",o=(show(a+"Pane",a+"PaneSH"),new CMDParser(""));for(let e=0;e<t.length;e++)addMultiItem(a+"Pane",!1),setupItemSlotForNBT(a+"Pane_"+e,t[e],o),show(a+"Pane_"+e+"Pane",a+"Pane_"+e+"PaneSH")}function loadComponentCustomTags(e,t){var a,o="",n=new CMDParser("");for(key in t.val)Array.isArray(t.val[key].val)?((a={})[key]=t.val[key],o+=","+n.traverseObjectToNBT(a,"")):"string"==t.val[key].type?o+=","+key+':"'+t.val[key].val+'"':"raw"==t.val[key].type?o+=","+key+":"+t.val[key].val:o+=","+key+":{"+n.traverseObjectToNBT(t.val[key].val,"")+"}";o.length&&$("#"+e+"CustomTags").val(o.substring(1))}function loadComponentDyedColor(e,t){null!=t.val.rgb?loadColorIntNBT(e+"Color",t.val.rgb.val):isNaN(t.val)||loadColorIntNBT(e+"Color",t.val),null!=t.val.show_in_tooltip&&$(`#${e}dyed_show_in_tooltip`).val(convertImportedBoolean(t.val.show_in_tooltip.val)),show(e+"dyedPanel",e+"dyedPanelSH")}function loadComponentBlockState(e,t){for(key in show(e+"BlockStates",e+"BlockStatesSH"),t.val)"boolean"==typeof t.val[key].val?$("#"+key+e).val(t.val[key].val?"true":"false"):$("#"+key+e).val(t.val[key].val)}function loadComponentAttributeModifiers(t,e){var a;$("#"+t+"AMtable").find(".amRow").remove(),show(t+"AM",t+"AMSH"),a=(null!=e.val.modifiers?e.val.modifiers:e).val,null!=e.val.show_in_tooltip&&$(`#${t}AMshow_in_tooltip`).val(convertImportedBoolean(e.val.show_in_tooltip.val));for(var o=0;o<a.length;o++){var n=a[o],s=n.type.val;let e=s.substr(s.indexOf(".")+1);-1==attributeModifiers116.indexOf(e)&&(e=attributeModifiers116[attributeModifiers.indexOf(e)]);s=t+"AM_"+addAM(t+"AM",!0);$("#"+s+"_mods").val(e),null!=n.id&&$("#"+s+"_id").val(n.id.val),null!=n.amount&&$("#"+s+"_amount").val(n.amount.val),null!=n.operation&&$("#"+s+"_operation").val(n.operation.val),null!=n.slot&&$("#"+s+"_slot").val(n.slot.val)}checkAMconflicts(t+"AM")}function loadComponentLore(e,t){deferOutput=deferJSONOutput=!0,tellrawJson.makeNewTellraw(e+"Lore"),loadLoreFromNBT(e+"Lore",t.val),show(e+"Lore",e+"LoreSH"),deferOutput=deferJSONOutput=!1,tellrawUpdate(e+"Lore")}function loadComponentCustomOrItemName(e,t){var a;deferOutput=deferJSONOutput=!0,tellrawJson.makeNewTellraw(e);try{a=JSON.parse(JSON.parse('"'+t.val+'"'))}catch(e){("string"==typeof(a=JSON.parse(JSON.parse('"'+t.val.replace(/"/g,'\\"').replace(/\\'/g,"'")+'"')))||a instanceof String)&&(a={text:a})}importTellrawJSON(e,a),show(e,e+"SH"),deferOutput=deferJSONOutput=!1,tellrawUpdate(e)}function loadComponentEnchantments(e,t,a){if(null!=t.show_in_tooltip&&$(`#${e}Enchantmentsshow_in_tooltip`).val(convertImportedBoolean(t.show_in_tooltip.val)),$(`#${e}Enchantments`).is(":visible")||show(e+"Enchantments",e+"EnchantmentsSH"),Object.keys(t.levels.val).length)for(const n in t.levels.val){var o=extractMinecraftID(n);if(!$("#"+e+"Enchantments_enc_"+o).length){$("#"+e+"Enchantments_enc_showAll").prop("checked",!0),makeEnchantments(e+"Enchantments",!0,a);break}}else $("#"+e+"Enchantments_enc_glintOnly").prop("checked",!0);if(Object.keys(t.levels.val).length)for(const s in t.levels.val){o=extractMinecraftID(s);$("#"+e+"Enchantments_enc_"+o).prop("checked",!0),$("#"+e+"Enchantments_enc_"+o+"_lvl_span").show(),$("#"+e+"Enchantments_enc_"+o+"_lvl").val(parseInt(t.levels.val[s].val))}}function getItemTagNBT(e,t){var a="",o=(0!=$("#"+e+"max_stack_size").length&&$("#"+e+"max_stack_size").val().length&&(a+=""+contextSyntax(t,"max_stack_size")+$("#"+e+"max_stack_size").val()),0!=$("#"+e+"max_damage").length&&$("#"+e+"max_damage").val().length&&(a+=""+contextSyntax(t,"max_damage")+$("#"+e+"max_damage").val()),a=(a+=getCanPlaceOnOrDestroy(e,"CanPlaceOn","can_place_on",t))+getCanPlaceOnOrDestroy(e,"CanDestroy","can_break",t),tellrawJson.getJsonForTellraw(e+"CustomName")),o=(o.length&&(a+=""+contextSyntax(t,"custom_name")+jsonConvert(JSON.stringify(o))),tellrawJson.getJsonForTellraw(e+"ItemName")),o=(o.length&&(a+=""+contextSyntax(t,"item_name")+jsonConvert(JSON.stringify(o))),tellrawJson.getJsonForLore(e+"Lore"));return o.length&&(a+=`${contextSyntax(t,"lore")}[${o.substr(1)}]`),1==$("#"+e+"Unbreakable").val()&&(a+=contextSyntax(t,"unbreakable")+"{",-1!=$(`#${e}unbreak_show_in_tooltip`).val()&&(a+="show_in_tooltip:"+(1==$(`#${e}unbreak_show_in_tooltip`).val())),a+="}"),1==$("#"+e+"hide_tooltip").val()&&(a+=contextSyntax(t,"hide_tooltip")+"{}"),1==$(`#${e}hide_additional_tooltip`).val()&&(a+=contextSyntax(t,"hide_additional_tooltip")+"{}"),1==$("#"+e+"fire_resistant").val()&&(a+=contextSyntax(t,"fire_resistant")+"{}"),-1!=$("#"+e+"rarity").val()&&(a+=`${contextSyntax(t,"rarity")}"${$("#"+e+"rarity").val()}"`),$("#"+e+"Damage").val().length&&(a+=""+contextSyntax(t,"damage")+$("#"+e+"Damage").val()),$("#"+e+"RepairCost").val().length&&(a+=""+contextSyntax(t,"repair_cost")+$("#"+e+"RepairCost").val()),0!=$("#"+e+"CustomModelData").length&&$("#"+e+"CustomModelData").val().length&&(a+=""+contextSyntax(t,"custom_model_data")+$("#"+e+"CustomModelData").val()),0!=$("#"+e+"CustomTags").length&&$("#"+e+"CustomTags").val().length&&(a+=`${contextSyntax(t,"custom_data")}{${$("#"+e+"CustomTags").val()}}`),0<(a=(a=(a=(a=(a=(a=(a+=getEnchantments(e,"Enchantments",t))+getItemAttributeModifiers(e,t))+getItemBlockStates(e,t))+getFoodItem(e+"Food",t))+getToolItem(e+"Tool",t))+getJukePlayableItem(e+"JukePlayable",t))+getItemSpecificNBT(e,t)).length&&t?",components:{"+a.substr(1)+"}":a}function getJukePlayableItem(e,t){let a="";return $("#"+e+"song").val().length&&(a+=`,song:"${$("#"+e+"song").val()}"`),-1!=$("#"+e+"show_in_tooltip").val()&&(a+=",show_in_tooltip:"+(1==$("#"+e+"show_in_tooltip").val())),a.length?`${contextSyntax(t,"jukebox_playable")}{${a.substring(1)}}`:""}function getToolItem(e,t){let a="",n=($("#"+e+"default_mining_speed").val().length&&(a+=",default_mining_speed:"+$("#"+e+"default_mining_speed").val()),$("#"+e+"damage_per_block").val().length&&(a+=",damage_per_block:"+$("#"+e+"damage_per_block").val()),"");return $("#"+e+"Pane .toolrule").each(function(){let e="",t=($("#"+this.id+"speed").val().length&&(e+=",speed:"+$("#"+this.id+"speed").val()),-1!=$("#"+this.id+"correct_for_drops").val()&&(e+=",correct_for_drops:"+(1==$("#"+this.id+"correct_for_drops").val())),""),a="",o=0;$("#"+this.id+"BlocksTilePane > .anchorButton").each(function(){var e=this.innerHTML.split(" ")[0];"#"==e.charAt(0)?a=`"${e}"`:(t+=`,"${e}"`,o++)}),a.length?e+=",blocks:"+a:t.length&&(1<o?e+=`,blocks:[${t.substring(1)}]`:e+=",blocks:"+t.substring(1)),e.length&&(n+=`,{${e.substring(1)}}`)}),n.length&&(a+=`,rules:[${n.substring(1)}]`),a.length?`${contextSyntax(t,"tool")}{${a.substring(1)}}`:""}function getFoodItem(e,t){let a="";-1!=$("#"+e+"can_always_eat").val()&&(a+=",can_always_eat:"+(1==$("#"+e+"can_always_eat").val())),$("#"+e+"eat_seconds").val().length&&(a+=",eat_seconds:"+$("#"+e+"eat_seconds").val()),a+=getStatusEffectsNBT("effects",e+"CustomPotionEffects",!0);var o=getItemNBT(e+"using_converts_to");return"{}"!=o&&(a+=",using_converts_to:"+o),$("#"+e+"saturation").val().length?a=",saturation:"+$("#"+e+"saturation").val()+a:a.length&&(a=",saturation:1"+a),$("#"+e+"nutrition").val().length?a=",nutrition:"+$("#"+e+"nutrition").val()+a:a.length&&(a=",nutrition:1"+a),a.length?`${contextSyntax(t,"food")}{${a.substring(1)}}`:""}function explodeLoreStringToArrayOfStrings(t){var a=[];let o="";for(let e=0;e<t.length;e++)"'"!=t.charAt(e)?o+=t.charAt(e):0!=e&&"\\"==t.charAt(e-1)&&(o=o.substring(0,o.length-1),o+="'"),o.length&&o.split("[").length==o.split("]").length&&o.split("{").length==o.split("}").length&&","==t.charAt(e)&&(a.push(o.substring(0,o.length-1).replace(/\"/g,'\\"')),o="");return a.push(o.replace(/\"/g,'\\"')),a}function loadComponentNBTIntoSlotForGive(e,t,a,o,n){null!=n.count&&$("#"+a+"Count").val(parseInt(n.count.val));var s=e.split(",");let i=0,l;for(;i<s.length;){for(l=s[i];i<s.length&&(l.split("{").length!=l.split("}").length||l.split("[").length!=l.split("]").length);)i++,l+=","+s[i];var r,c=l.substring(0,l.indexOf("="));"'"==l.charAt(l.indexOf("=")+1)?loadComponentNBTIntoSlot(c,t,a,{val:l.substring(l.indexOf("'")+1,l.lastIndexOf("'")),type:"string"}):"["==l.charAt(l.indexOf("=")+1)?(r=l.substring(l.indexOf("[")+1,l.lastIndexOf("]")),"lore"==c?loadComponentNBTIntoSlot(c,t,a,{val:explodeLoreStringToArrayOfStrings(r)}):(o.nbt=extractSegment("[","]",l.indexOf("["),l),o.root=o.parseCompound("{val:"+o.nbt),loadComponentNBTIntoSlot(c,t,a,o.root.val))):-1!=l.indexOf("{")&&-1!=l.indexOf("}")?(o.nbt=convert_contents_to_value(extractSegment("{","}",l.indexOf("{"),l)),o.root=o.parseCompound(o.nbt),loadComponentNBTIntoSlot(c,t,a,{val:o.root})):loadComponentNBTIntoSlot(c,t,a,{val:l.substring(l.indexOf("=")+1)}),i++}}function getKnowledgeBookRecipes(e,t,a){var o="";return $("#"+e+t+"TilePane > .anchorButton").each(function(){var e=this.innerHTML.split(" ")[0];o+=`,"${e}"`}),o=0<o.length?`${contextSyntax(a,"recipes")}[${o.substring(1)}]`:o}function getCanPlaceOnOrDestroy(e,t,a,o){var n="";return $("#"+e+t+"TilePane > .anchorButton").each(function(){var e=this.innerHTML.split(" ")[0];n+=`{blocks:"${e}"},`}),0<n.length?(t=-1!=$(`#${e}${a}_show_in_tooltip`).val()?",show_in_tooltip:"+(1==$(`#${e}${a}_show_in_tooltip`).val()):"",`${contextSyntax(o,a)}{predicates:[${n.substr(0,n.length-1)}]${t}}`):""}function getEnchantments(e,t,a){var o="";$("#"+e+t+" .enchantCB").each(function(){var e;$("#"+this.id).is(":checked")&&(e=this.id.substr(this.id.lastIndexOf("_enc_")+5),o+=`,"minecraft:${e}":`,$("#"+this.id+"_lvl").val().length?(e=parseInt($("#"+this.id+"_lvl").val()),o+=e=255<e?255:e):o+="1")});let n;return n=-1!=$(`#${e}Enchantmentsshow_in_tooltip`).val()?",show_in_tooltip:"+(1==$(`#${e}Enchantmentsshow_in_tooltip`).val()):"",0<o.length&&(o=`${contextSyntax(a,"enchantments")}{levels:{${o.substring(1)}}${n}}`),-1!=$("#"+e+"Enchantmentsglint_override").val()&&(o+=""+contextSyntax(a,"enchantment_glint_override")+(1==$("#"+e+"Enchantmentsglint_override").val())),o}function getItemAttributeModifiers(e,t){var o="";$("#"+e+"AMtable .amRow").each(function(){var e,t,a=this.id.substr(0,this.id.lastIndexOf("_"));$("#"+a+"_amount").val().length&&(e=getAttributeType(e=$("#"+a+"_mods").val())+"."+e,t=$("#"+a+"_id").val().length?$("#"+a+"_id").val():e,o+=`,{id:"${t}",type:"${e}",amount:${$("#"+a+"_amount").val()},operation:"${$("#"+a+"_operation").val()}"`,"unset"!=$("#"+a+"_slot").val()&&(o+=`,slot:"${$("#"+a+"_slot").val()}"`),o+="}")});let a;return a=-1!=$(`#${e}AMshow_in_tooltip`).val()?",show_in_tooltip:"+("1"==$(`#${e}AMshow_in_tooltip`).val()):"",0<o.length?(o=`[${o.substr(1)}]`,a.length?`${contextSyntax(t,"attribute_modifiers")}{modifiers:${o}${a}}`:""+contextSyntax(t,"attribute_modifiers")+o):a.length?`${contextSyntax(t,"attribute_modifiers")}{modifiers:[],${a.substring(1)}}`:o}function getItemBlockStates(e,t){var a=$("#"+e).val();if(a in blockStates){var o,n="";for(o in blockStates[a])$("#"+o+e).length&&"unset"!=$("#"+o+e).val()&&(n+=`,${o}:"${$("#"+o+e).val()}"`);return 0==n.length?"":`${contextSyntax(t,"block_state")}{${n.substr(1)}}`}return""}function getItemNBT(e,t){let a="";if(-1!=$("#"+e).val()&&null!=$("#"+e).val()){if(a+=getItemTag($("#"+e).val()),null==t)try{a+=",count:",0<$("#"+e+"Count").val().length?a+=$("#"+e+"Count").val():a+="1"}catch(e){a+="1"}else"CountOptional"==t&&(0<$("#"+e+"Count").val().length&&(a+=",count:"+$("#"+e+"Count").val()),0<$("#"+e+"Slot").val().length)&&(a+=",Slot:"+$("#"+e+"Slot").val()+"b");a+=getItemTagNBT(e,!0),cachedNBT.setNBT(e,","+a),$("#"+e+"DropChance").length&&(cachedNBT.dropChance[e]=$("#"+e+"DropChance").val())}else{t=cachedNBT.getCollapsedItem(e);if(t)return t}return"{"+a+"}"}function getItemNBTForGive1p13(t){var a=" ";if(-1!=$("#"+t).val()&&null!=$("#"+t).val()){var o=$("#"+t).val();settings.namespace.length&&(a+=settings.namespace+":"),a+=o.split(":")[0];let e="";o=getItemTagNBT(t,!1);o.length&&(a+="["+o.substr(1)+"]");try{0<$("#"+t+"Count").val().length?(a+=" "+$("#"+t+"Count").val(),e=",count:"+$("#"+t+"Count").val()):a+=" 1"}catch(e){a+=" 1"}e+=getItemTagNBT(t,!0),cachedNBT.setNBT(t,e)}else{o=cachedNBT.getNBT(t);if(o)return o}return a}function getItemSpecificNBT(_,u){var b=$("#"+_).val(),f=(-1!=b.indexOf("shulker_box")?b="shulker_box":-1!=b.indexOf("_banner")?b="banner":-1!=b.indexOf("_sign")&&(b="sign"),"");if(isLeatherArmor($("#"+_).val())){let e=getColorInteger(_+"Color","rgb");-1!=$(`#${_}dyed_show_in_tooltip`).val()?(e+=",show_in_tooltip:"+(1==$(`#${_}dyed_show_in_tooltip`).val()),f+=`${contextSyntax(u,"dyed_color")}{${e.substring(1)}}`):e.length&&(e=","+e.substring(e.indexOf(":")+1),f+=""+contextSyntax(u,"dyed_color")+e.substring(1))}if(trimables.includes(b)&&"unset"!=$("#"+_+"Pattern").val()&&"unset"!=$("#"+_+"Material").val())f+=`${contextSyntax(u,"trim")}{material:"minecraft:${$("#"+_+"Material").val()}",pattern:"minecraft:${$("#"+_+"Pattern").val()}"`,-1!=$(`#${_}trim_show_in_tooltip`).val()&&(f+=",show_in_tooltip:"+(1==$(`#${_}trim_show_in_tooltip`).val())),f+="}";else if(-1!=b.indexOf("spawn_egg")||"armor_stand"==b){var o=$("#"+_+"_entID").val();let a="";if("armor_stand"!=b){let e="",t=0;for(var n=["x","y","z"],v=0;v<n.length;v++)$("#Pos"+o+n[v]).val()&&(t++,e+=","+parseFloat($("#Pos"+o+n[v]).val()).toFixed(2));3==t&&(a+=",Pos:["+e.substring(1)+"]")}!(a+=entityDescriptors["e"+o].getEntitySpecificCommand(o)).length&&b.substr(0,b.indexOf("_spawn_egg"))==$("#entity"+o).val()||(a=',id:"minecraft:'+$("#entity"+o).val()+'"'+a,f+=`${contextSyntax(u,"entity_data")}{${a.substring(1)}}`),cachedNBT.setNBT("e"+o,a)}switch(b){case"enchanted_book":f+=replaceAll("enchantments","stored_enchantments",getEnchantments(_,"StoredEnchantments",u));break;case"bundle":let a="";$("#"+_+"BundleItemsMultiItemPane  > .itemSelectControl").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Pane"));"-1"!=$("#"+t).val()&&(a+=","+getItemNBT(t))}),a.length&&(f+=`${contextSyntax(u,"bundle_contents")}[${a.substring(1)}]`);break;case"filled_map":$("#"+_+"map").val().length&&(f+=contextSyntax(u,"map_id")+$("#"+_+"map").val());var y=getColorInteger(_+"MapColor","map_color");y.length&&(f+=u?replaceAll(",",',"minecraft:',replaceAll(":",'":',y)):replaceAll(":","=",y));let t="";$("#"+_+"Decorations  > .map_decoration").each(function(e){$("#"+this.id+"id").val().length&&$("#"+this.id+"x").val().length&&$("#"+this.id+"z").val().length&&$("#"+this.id+"rot").val().length&&(t+=`,"${$("#"+this.id+"id").val()}":{type:"${$("#"+this.id+"Type").val()}",x:${parseFloat($("#"+this.id+"x").val()).toFixed(1)},z:${parseFloat($("#"+this.id+"z").val()).toFixed(1)},rotation:${parseFloat($("#"+this.id+"rot").val()).toFixed(1)}}`)}),t.length&&(f+=`${contextSyntax(u,"map_decorations")}{${t.substring(1)}}`);break;case"potion":case"splash_potion":case"lingering_potion":case"tipped_arrow":var y=getPotion("potion",_+"Potion")+getColorInteger(_+"CustomPotionColor","custom_color")+getStatusEffectsNBT("custom_effects",_+"CustomPotionEffects");y.length&&(f+=`${contextSyntax(u,"potion_contents")}{${y.substring(1)}}`);break;case"written_book":var y=getWrittenBookNBT(_+"BookPane");y.length&&(f+=`${contextSyntax(u,"written_book_content")}{${y.substring(1)}}`);break;case"writable_book":f+=`${contextSyntax(u,"writable_book_content")}{${getWritableBookNBT(_+"BookPane").substring(1)}}`;break;case"crossbow":let o="";$("#"+_+"Projectiles  > .cb_projectile").each(function(e){o+=getProjectile(this.id+"Projectile")}),o.length&&(f+=`${contextSyntax(u,"charged_projectiles")}[${o.substring(1)}]`);break;case"firework_star":f+=""+contextSyntax(u,"firework_explosion")+getExplosionNBT(_+"Explosion_exp_0").substring(1);break;case"firework_rocket":f+=`${contextSyntax(u,"fireworks")}{${getFireworksItemNBT(_)}}`;break;case"suspicious_stew":y=getStewEffectsNBT(_+"StewEffects");y.length&&(f+=contextSyntax(u,"suspicious_stew_effects")+`[${y}]`);break;case"tropical_fish_bucket":case"cod_bucket":case"tadpole_bucket":case"pufferfish_bucket":case"salmon_bucket":case"axolotl_bucket":let e="";"tadpole_bucket"==b&&$(`#${_}Age`).val().length?e+=",Age:"+$(`#${_}Age`).val():"tropical_fish_bucket"==b?0!=$(`#${_}Variant`).val()&&(y=parseInt($(`#${_}Size`).val()),y=(y=(y+=256*parseInt($(`#${_}Pattern`).val()))+65536*parseInt($(`#${_}BaseColor`).val()))+16777216*parseInt($(`#${_}PatternColor`).val()),e+=",BucketVariantTag:"+y):"axolotl_bucket"==b&&"-1"!=$(`#${_}Variant`).val()&&(e+=",Variant:"+$(`#${_}Variant`).val()),"-1"!=$(`#${_}NoGravity`).val()&&(e+=`,NoGravity:${$(`#${_}NoGravity`).val()}b`),"-1"!=$(`#${_}Silent`).val()&&(e+=`,Silent:${$(`#${_}Silent`).val()}b`),"-1"!=$(`#${_}Invulnerable`).val()&&(e+=`,Invulnerable:${$(`#${_}Invulnerable`).val()}b`),"-1"!=$(`#${_}Glowing`).val()&&(e+=`,Glowing:${$(`#${_}Glowing`).val()}b`),"-1"!=$(`#${_}NoAI`).val()&&(e+=`,NoAI:${$(`#${_}NoAI`).val()}b`),$(`#${_}Health`).val().length&&(e+=`,Health:${$(`#${_}Health`).val()}f`),e.length&&(f+=`${contextSyntax(u,"bucket_entity_data")}{${e.substring(1)}}`);break;case"goat_horn":if("-1"!=$("#"+_+"instrument").val())if("Custom Sound"==$("#"+_+"instrument").val()){let e="";$("#"+_+"use_duration").val().length&&(y=parseInt($("#"+_+"use_duration").val()),"Seconds"==$("#"+_+"use_durationTT").html()&&(y*=20),e+=",use_duration:"+y),$("#"+_+"range").val().length&&(e+=",range:"+$("#"+_+"range").val()),$("#"+_+"resource").val().length?e+=`,sound_event:"${$("#"+_+"resource").val()}"`:"unset"!=$("#"+_+"sound").val()&&(e+=`,sound_event:"${$("#"+_+"sound").val()}"`),e.length&&(f+=`${contextSyntax(u,"instrument")}{${e.substring(1)}}`)}else f+=`${contextSyntax(u,"instrument")}"minecraft:${$("#"+_+"instrument").val()}"`;break;case"knowledge_book":f+=getKnowledgeBookRecipes(_,"Recipes",u);break;case"compass":let n="";if("unset"!=$("#"+_+"Dim").val()){n+=`,dimension:"minecraft:${$("#"+_+"Dim").val()}"`,$("#"+_+"X").val().length&&$("#"+_+"Y").val().length&&$("#"+_+"Z").val().length&&(n+=`,pos:[I;${$("#"+_+"X").val()},${$("#"+_+"Y").val()},${$("#"+_+"Z").val()}]`);let e="";-1!=$("#"+_+"Tracked").val()&&(e=",tracked:"+(1==$("#"+_+"Tracked").val())),0<n.length&&(f+=`${contextSyntax(u,"lodestone_tracker")}{target:{${n.substring(1)}}${e}}`)}break;case"decorated_pot":y=getItemNBT(_+"Slot0");if("{}"!=y&&(f+=contextSyntax(u,"container")+`[{slot:0,item:${y}}]`),-1!=$("#"+_+"Sherd0").val()||-1!=$("#"+_+"Sherd1").val()||-1!=$("#"+_+"Sherd2").val()||-1!=$("#"+_+"Sherd3").val()){let t="";for(let e=0;e<4;e++)-1==$("#"+_+"Sherd"+e).val()?t+=',"minecraft:brick"':t+=`,"minecraft:${$("#"+_+"Sherd"+e).val()}"`;f+=`${contextSyntax(u,"pot_decorations")}[${t.substring(1)}]`}$(`#${_}LootTable`).val()&&(f+=`${contextSyntax(u,"block_entity_data")}{id:"minecraft:decorated_pot",LootTable:"${$(`#${_}LootTable`).val()}"}`);break;case"beehive":case"bee_nest":y=getTargetCompound(_,"flower_pos"),y=(y.length&&(f+=`${contextSyntax(u,"block_entity_data")}{id:"minecraft:${b}",${y.substring(1)}}`),getBeesForHiveNBT(_));y.length&&(f+=`${contextSyntax(u,"bees")}[${y.substring(1)}]`);break;case"shulker_box":case"barrel":case"chest":case"trapped_chest":case"brewing_stand":case"dispenser":case"dropper":case"furnace":case"blast_furnace":case"smoker":case"hopper":case"chiseled_bookshelf":let s="",i="";for(var k=slotCounts[b]||27,v=0;v<k;v++){var w=getItemNBT(_+"Slot"+v);"{}"!=w&&(s+=`,{slot:${v},item:{${w.substring(1)}}`)}s.length&&(f+=`${contextSyntax(u,"container")}[${s.substring(1)}]`),"chiseled_bookshelf"!=b&&($("#"+_+"Lock").val().length&&(f+=`${contextSyntax(u,"lock")}"${$("#"+_+"Lock").val()}"`),"barrel"==b||"chest"==b||"trapped_chest"==b||"dispenser"==b||"dropper"==b||"hopper"==b||-1!=b.indexOf("shulker_box")?($("#"+_+"LootTable").val().length&&(f+=`${contextSyntax(u,"container_loot")}{loot_table:"${$("#"+_+"LootTable").val()}"}`),"hopper"==b&&(i+=getTicksInItemsWithBlockEntityTag(_,"TransferCooldown"))):"brewing_stand"==b?(i+=getTicksInItemsWithBlockEntityTag(_,"BrewTime"),$("#"+_+"Fuel").val().length&&(i+=",Fuel:"+$("#"+_+"Fuel").val()+"b")):"furnace"!=b&&"blast_furnace"!=b&&"smoker"!=b||(i=(i=(i=(i+=getTicksInItemsWithBlockEntityTag(_,"BurnTime"))+getTicksInItemsWithBlockEntityTag(_,"CookTime"))+getTicksInItemsWithBlockEntityTag(_,"CookTimeTotal"))+getRecipesUsed(_+"RecipesUsed"))),0<i.length&&(f+=`${contextSyntax(u,"block_entity_data")}{id:"${b}",${i.substring(1)}}`);break;case"player_head":let l="";if((y=$("#"+_+"SkullOwner").val()).length)if(-1!=y.indexOf("SkullOwner:{")){var y=extractSegment("{","}",y.indexOf("SkullOwner:{")+11,y),T=new CMDParser("").parseCompound(y);if(null!=T.Id&&(l+=`,id:[I;${T.Id.val[0]},${T.Id.val[1]},${T.Id.val[2]},${T.Id.val[3]}]`),null!=T.Properties&&null!=T.Properties.val.textures){var x=T.Properties.val.textures.val;let t="";for(let e=0;e<x.length;e++)t+=`,{name:"textures",value:"${x[e].Value.val}"}`;t.length&&(l+=`,properties:[${t.substring(1)}]`)}}else if(-1!=y.indexOf("profile={")){y=extractSegment("{","}",y.indexOf("profile={")+8,y);var S=new CMDParser("").parseCompound(y);if(null!=S.name&&(l+=`,name:"${S.name.val}"`),null!=S.id&&(l+=`,id:[I;${S.id.val[0]},${S.id.val[1]},${S.id.val[2]},${S.id.val[3]}]`),null!=S.properties){let t="";for(let e=0;e<S.properties.val.length;e++)"textures"==S.properties.val[e].name.val&&(t+=`,{name:"textures",value:"${S.properties.val[e].value.val}"}`);t.length&&(l+=`,properties:[${t.substring(1)}]`)}}else l+=`,name:"${y}"`;T=getUUIDArray(_+"UUID");T.length&&(l+=",id:"+T),$(`#${_}Texture`).val().length&&(l+=`,properties:[{name:"textures",value:"${$(`#${_}Texture`).val()}"}]`),l.length&&(f+=`${contextSyntax(u,"profile")}{${l.substring(1)}}`),"unset"!=$("#"+_+"sound").val()&&(f+=`${contextSyntax(u,"note_block_sound")}"minecraft:${$("#"+_+"sound").val()}"`);break;case"shield":case"banner":let r=!1;"shield"==b&&"-1"!=$("#"+_+"BaseColor").val()&&(f+=`${contextSyntax(u,"base_color")}"${$("#"+_+"BaseColor").val()}"`,r=!0);y=$("#"+_+"BlockEntityTag").val();if(y.length){var C=/\d+/;if("shield"==b&&!r)if(-1!=y.indexOf("Base:")){T=y.substring(y.indexOf("Base:")+4).match(C)[0];f+=`${contextSyntax(u,"base_color")}"${signColors[T]}"`}else if(-1!=y.indexOf("base_color")){let e=y.substring(y.indexOf("base_color")+11);e=(e=e.substring(e.indexOf('"')+1)).substring(0,e.indexOf('"')),f+=`${contextSyntax(u,"base_color")}"${e}"`}let t="";if(-1!=y.indexOf("Patterns:[")){let e=extractSegment("[","]",y.indexOf("Patterns:[")+9,y);for(p of e=(e=e.substring(2,e.lastIndexOf("]")-1)).split("},{")){var P=p.match(C)[0];let e;-1==p.indexOf('Pattern:"')?-1!=(e=p.substring(p.indexOf("Pattern:")+8)).indexOf(",")&&(e=e.substring(0,e.indexOf(","))):e=p.substring(p.indexOf("Pattern:")+9,p.lastIndexOf('"')),t+=`,{pattern:"minecraft:${bannerConvert[e]}",color:"${signColors[P]}"}`}f+=`${contextSyntax(u,"banner_patterns")}[${t.substring(1)}]`}else if(-1!=y.indexOf("banner_patterns")){let e=y.substring(y.indexOf("banner_patterns")+15);e=extractSegment("[","]",e.indexOf("["),e),f+=""+contextSyntax(u,"banner_patterns")+e}}break;case"command_block":case"repeating_command_block":case"chain_command_block":var B="",I=getCommandBlockFieldsFormNBT();for(O in I)B+=getNBTforKey(_+O,I[O],"");$("#"+_+"Command").val().length&&(B+=',Command:"'+escapeForCommandBlock($("#"+_+"Command").val())+'"');var B=replaceAll(_,"",B),N="";for(O in E=getCommandStatsFormNBT())N+=getNBTforKey(_+O,E[O],"");N.length&&(B+=",CommandStats:{"+replaceAll(_,"",N.substr(1))+"}");T=jsonConvert(JSON.stringify(tellrawJson.getJsonForTellraw(_+"CustomName")));2<T.length&&(B+=",CustomName:"+T),B.length&&(f+=`${contextSyntax(u,"block_entity_data")}{id:"minecraft:${$("#"+_).val()}"${B}}`);break;case"item_frame":case"glow_item_frame":let c="";var y=getItemNBT(_+"ItemInFrame"),F=("{}"!=y&&(c+=",Item:"+y),$("#"+_+"ItemDropChance").val().length&&(c+=",ItemDropChance:"+$("#"+_+"ItemDropChance").val()+"f"),["ItemRotation","Fixed","Invisible"]);for(let e=0;e<F.length;e++)-1!=$("#"+_+F[e]).val()&&(c+=","+F[e]+":"+$("#"+_+F[e]).val()+"b");(c+=generateEntityTagNBT_In_Item(_,itemFrameEntityTagNBTForItem)).length&&(f+=`${contextSyntax(u,"entity_data")}{id:"minecraft:${b}"${c}}`);break;case"lectern":let d="";"{}"!=(b=getItemNBT(_+"Book"))&&(d+=",Book:"+b),$("#"+_+"Page").val().length&&(d+=",Page:"+$("#"+_+"Page").val()),d.length&&(f+=`${contextSyntax(u,"block_entity_data")}{id:"minecraft:lectern"${d}}`);break;case"vault":T=getVaultNBT(_+"ItemPane",0);T.length&&(f+=contextSyntax(u,"block_entity_data")+`{id:"minecraft:vault"${T}}`);break;case"trial_spawner":y=getTrialSpawnerNBT(_+"ItemPane",0);y.length&&(f+=contextSyntax(u,"block_entity_data")+`{id:"minecraft:trial_spawner"${y}}`);break;case"crafter":T=getCrafterNBT(_+"ItemPane",0);T.length&&(f+=contextSyntax(u,"block_entity_data")+`{id:"minecraft:crafter"${T}}`);break;case"spawner":y=getMonsterSpawnerNBT(_+"ItemPane",0);y.length&&(f+=contextSyntax(u,"block_entity_data")+`{id:"minecraft:spawner"${y}}`);break;case"suspicious_sand":case"suspicious_gravel":let m=getItemNBT(_+"item");m="{}"!=m?",item:"+m:"",$("#"+_+"LootTable").val().length&&(m+=',LootTable:"'+$("#"+_+"LootTable").val()+'"'),m.length&&(f+=`${contextSyntax(u,"block_entity_data")}{id:"minecraft:${b}",${m.substring(1)}}`);break;case"painting":let g="";"unset"!=$("#"+_+"variant").val()&&(g+=',variant:"minecraft:'+$("#"+_+"variant").val()+'"'),(g+=generateEntityTagNBT_In_Item(_,paintingEntityTagNBTForItem)).length&&(f+=`${contextSyntax(u,"entity_data")}{id:"minecraft:painting"${g}}`);break;case"sign":var E,O,N="";let h="";for(O in E=getCommandStatsFormNBT())N+=getNBTforKey(_+O,E[O],"");N.length&&(h+=",CommandStats:{"+replaceAll(_,"",N.substr(1))+"}");for(const A of[{panel:"SignPaneBack",nbt:"back_text"},{panel:"SignPane",nbt:"front_text"}]){let e="";-1!=$("#"+_+A.panel+"BaseColor").val()&&(e+=',color:"'+$("#"+_+A.panel+"BaseColor").val()+'"'),-1!=$("#"+_+A.panel+"GlowingText").val()&&(e+=",has_glowing_text:"+$("#"+_+A.panel+"GlowingText").val()+"b");var L=signJson.getJsonForSign(_+A.panel);L.length&&(e+=L),e.length&&(h+=","+A.nbt+":{"+e.substring(1)+"}")}-1!=$("#"+_+"is_waxed").val()&&(h+=",is_waxed:"+$("#"+_+"is_waxed").val()+"b"),h.length&&(f+=`${contextSyntax(u,"block_entity_data")}{id:"minecraft:${$("#"+_).val()}"${h}}`);break;case"ominous_bottle":$("#"+_+"ominous_bottle_amplifier").val().length&&(f+=""+contextSyntax(u,"ominous_bottle_amplifier")+$("#"+_+"ominous_bottle_amplifier").val())}return f}function getCustomNameAndColor(e,t,a){e=tellrawJson.getJsonForTellraw(e.substr(1)+t);return e.length?","+(a||"CustomName")+":"+jsonConvert(JSON.stringify(e)):""}function getCustomNameForBlock(e,t){return $(e+t).val().length?',CustomName:"'+$(e+t).val()+'"':""}function getTradeNBT(e){let t="";-1!=$("#"+e+"rewardExp").val()&&(t+=",rewardExp:"+$("#"+e+"rewardExp").val()+"b"),$("#"+e+"maxUses").val().length&&(t+=",maxUses:"+$("#"+e+"maxUses").val()),$("#"+e+"uses").val().length&&(t+=",uses:"+$("#"+e+"uses").val()),$("#"+e+"xp").val().length&&(t+=",xp:"+$("#"+e+"xp").val()),$("#"+e+"priceMultiplier").val().length&&(t+=",priceMultiplier:"+$("#"+e+"priceMultiplier").val()+"f"),$("#"+e+"specialPrice").val().length&&(t+=",specialPrice:"+$("#"+e+"specialPrice").val()),$("#"+e+"demand").val().length&&(t+=",demand:"+$("#"+e+"demand").val());var a=getItemNBT(e+"buy");return"{}"!=a&&(t+=",buy:"+a),"{}"!=(a=getItemNBT(e+"buyB"))&&(t+=",buyB:"+a),"{}"!=(a=getItemNBT(e+"sell"))&&(t+=",sell:"+a),t}function getExecuteString(){return $("#exeString").val()+" "}function generateCommand(){if(!(deferJSONOutput||deferOutput||deferHistoryOutput||$("#disableOutput").is(":checked")))if($("#commandOutput").show(),bringToFront("commandOutput"),(parseInt($("#commandOutput").css("top"))<0||parseInt($("#commandOutput").css("top"))>$(window).height()||parseInt($("#commandOutput").css("left"))<0||parseInt($("#commandOutput").css("left"))>$(window).width())&&desktopMode&&$("#commandOutput").css({top:0,left:$(window).width()-510}),"loot_table"==currentCommand)$("#commandOutput-ta").val(generateLootTable()),$("#commandString").val($("#commandOutput-ta").val()),outputCharacterCount("");else{var e,t,a,o,n,s,i,l,r,c,p,d,m,g,h=settings.removeSlash?"":"/";h+=settings.commandPrefix.length?settings.commandPrefix+":":"";try{$("#exeString").length&&(h+=getExecuteString()),h+=currentCommand+" ","summon"==currentCommand?(n=getCoordsString("Summon"),settings.namespace.length&&(h+=settings.namespace+":"),h+=$("#entity0").val()+" "+n[0]+" "+n[1]+" "+n[2],i=entityDescriptors.e0.getEntitySpecificCommand(0),cachedNBT.setNBT("e0",i),0<i.length&&(h+=" {"+i.substr(1)+"}")):"execute if entity"==currentCommand||"kill"==currentCommand?(i=entityDescriptors.e0.getEntitySpecificCommand(0),cachedNBT.setNBT("e0",i),0<i.length&&$("#nbt0").val("{"+i.substr(1)+"}"),h+=getTargetSelectorString1p13()):"give"==currentCommand?(h+=getTargetSelectorString1p13(),0<(i=getItemNBTForGive1p13("GiveItem0")).length&&(h+=i)):"ride"==currentCommand?(h+=getTargetSelectorStringGeneric("entity0")+" "+$("#ridetype0").val(),"mount"==$("#ridetype0").val()&&(h+=" "+getTargetSelectorStringGeneric("ridetype0"))):"damage"==currentCommand?(h=(h+=getTargetSelectorStringGeneric("entity0")+" ")+($("#Amount0").val()||1),-1!=$("#damageType0").val()&&(h+=" "+$("#damageType0").val(),"block"==$("#target0").val()?h+=" at "+(n=getCoordsString("location"))[0]+" "+n[1]+" "+n[2]:"unset"!=$("#target0").val()&&(h+=" by "+getTargetSelectorStringGeneric("target0"),"unset"!=$("#facingtarget0").val())&&(h+=" from "+getTargetSelectorStringGeneric("facingtarget0")+" "))):"teleport"==currentCommand?(h+=getTargetSelectorStringGeneric("entity0")+" ","block"==$("#target0").val()?(h+=(n=getCoordsString("Block"))[0]+" "+n[1]+" "+n[2],"facingCoords"==$("#facingType").val()?h+=" facing "+(n=getCoordsString("FacingCoords"))[0]+" "+n[1]+" "+n[2]:"facingEntity"==$("#facingType").val()?(h+=" facing entity "+getTargetSelectorStringGeneric("facingtarget0"),"unset"!=$("#Anchor0").val()&&(h+=" "+$("#Anchor0").val())):"rotation"==$("#facingType").val()&&($("#Yaw0").val().length?h+=" "+$("#Yaw0").val():h+=" 0.0",$("#Pitch0").val().length?h+=" "+$("#Pitch0").val():h+=" 0.0")):h+=getTargetSelectorStringGeneric("target0")):"item"==currentCommand?("modify"==$("#itemCmdMode").val()?h+="modify ":h+="replace ","block"==$("#replaceitem").val()?(h+="block "+(n=getCoordsString("Block"))[0]+" "+n[1]+" "+n[2],$("#Slot0").val().length?h+=" container."+$("#Slot0").val():h+=" container.0"):h+="entity "+getTargetSelectorStringGeneric("replaceitem")+" "+$("#Slot0").val(),"modify"==$("#itemCmdMode").val()?h+=" "+$("#ItemModifier0").val():"copy"==$("#itemCmdMode").val()?(h+=" from","block"==$("#itemCopyType").val()?(h+=" block "+(n=getCoordsString("BlockCopy"))[0]+" "+n[1]+" "+n[2],$("#SlotCopy0").val().length?h+=" container."+$("#SlotCopy0").val():h+=" container.0"):h+=" entity "+getTargetSelectorStringGeneric("itemCopyType")+" "+$("#SlotCopy0").val()):0<(i=getItemNBTForGive1p13("GiveItem0")).length&&(h+=" with"+i)):"setblock"==currentCommand?(h+=(n=getCoordsString("Block"))[0]+" "+n[1]+" "+n[2]+" ",settings.namespace.length&&(h+=settings.namespace+":"),e=blocks[0].getBlockNBT(),h+=$("#block0").val()+getBlockStates($("#block0").val(),"BS0")+e,cachedNBT.setBlockNBT("BS0",e),h+=" "+$("#blockHandle").val()):"fill"==currentCommand?(h=(h+=(n=getCoordsString("Corner"))[0]+" "+n[1]+" "+n[2])+" "+(n=getCoordsString("Opposite"))[0]+" "+n[1]+" "+n[2]+" ",settings.namespace.length&&(h+=settings.namespace+":"),t=blocks[0].getBlockNBT(0),h=(h+=$("#block0").val()+getBlockStates($("#block0").val(),"BS0")+t)+(" "+$("#blockHandle").val()),"destroy"!=$("#blockHandle").val()&&-1!=$("#block1").val()&&(h+=" ",settings.namespace.length&&(h+=settings.namespace+":"),a=blocks[1].getBlockNBT(1),h+=$("#block1").val()+getBlockStates($("#block1").val(),"BS1")+a)):"loot"==currentCommand?(h+=$("#targetType").val(),"spawn"==$("#targetType").val()||"insert"==$("#targetType").val()||"replace block"==$("#targetType").val()?h+=" "+(n=getCoordsString("Loot"))[0]+" "+n[1]+" "+n[2]:"give"!=$("#targetType").val()&&"replace entity"!=$("#targetType").val()||(h+=" "+getTargetSelectorStringGeneric("entity0")),"replace entity"!=$("#targetType").val()&&"replace block"!=$("#targetType").val()||(h+=" "+$("#slot").val()),h+=" "+$("#sourceType").val(),"loot"==$("#sourceType").val()||"fish"==$("#sourceType").val()?(h+=" "+$("#LootTable").val(),"fish"==$("#sourceType").val()&&(h=(h+=" "+(n=getCoordsString("Fishing"))[0]+" "+n[1]+" "+n[2])+(i=getItemNBTForGive1p13("FishingTool0")).substr(0,i.lastIndexOf(" ")))):"mine"==$("#sourceType").val()?h=(h+=" "+(n=getCoordsString("Mining"))[0]+" "+n[1]+" "+n[2])+(i=getItemNBTForGive1p13("MiningTool0")).substr(0,i.lastIndexOf(" ")):"kill"==$("#sourceType").val()&&(h+=" "+getTargetSelectorStringGeneric("kill0"))):"bossbar"==currentCommand?(h+=$("#action").val()+" "+$("#ID0").val().toLowerCase(),"set"!=$("#action").val()||(h+=" "+$("#set").val(),"name"==$("#set").val())?h+=" "+tellrawJson.getJsonForTellraw("bossbarPane"):"players"==$("#set").val()&&(h+=" "+getVersionSpecificTargetSelectorString())):"team"==currentCommand?(h+=$("#add_modify").val()+" "+($("#team").val()||"TeamName")+" ","modify"==$("#add_modify").val()&&(h+=$("#Part0").val()+" "),h+=tellrawJson.getJsonForTellraw("teamPane")):"scoreboard"==currentCommand?(h+="objectives "+$("#add_modify").val()+" "+($("#objective").val()||"ObjectiveName")+" ","add"==$("#add_modify").val()?h+=$("#Criteria0").val()||"dummy":h+="displayname",h+=" "+tellrawJson.getJsonForTellraw("scoreboardPane")):"tellraw"==currentCommand||"title"==currentCommand?(h+=getVersionSpecificTargetSelectorString(),"title"==currentCommand&&(h+=" "+$("#titleType").val()),h+=" "+tellrawJson.getJsonForTellraw("tellrawPane")):"playsound"==currentCommand?(h+=$("#sound").val()+" "+$("#source").val()+" "+getVersionSpecificTargetSelectorString(),o=(n=getCoordsString("Position"))[0]+" "+n[1]+" "+n[2],$("#Position").val().length&&(h+=" "+o,$("#volume").val().length)&&(h+=" "+$("#volume").val(),$("#pitch").val().length)&&(h+=" "+$("#pitch").val(),$("#minvolume").val().length)&&(h+=" "+$("#minvolume").val())):"effect"==currentCommand?(h+="give "+getTargetSelectorStringGeneric("entity0")+" ",settings.namespace.length&&(h+=settings.namespace+":"),h+=$("#effect").val(),$("#seconds").val().length&&!isNaN(parseInt($("#seconds").val()))?-1!=["saturation","instant_health","instant_damage"].indexOf($("#effect").val())?h+=" "+20*parseFloat($("#seconds").val()):h+=" "+$("#seconds").val():h+=" infinite",$("#amplifier").val().length&&(h+=" "+$("#amplifier").val(),"true"==$("#hideParticles").val())&&(h+=" true")):"data merge block"==currentCommand?(n=getCoordsString("Block"),s=blocks[0].getBlockNBT(),cachedNBT.setBlockNBT("BS0",s),h+=n[0]+" "+n[1]+" "+n[2]+" "+s):"data merge entity"==currentCommand?(h+=getTargetSelectorString1p13(),i=entityDescriptors.e0.getEntitySpecificCommand(0),cachedNBT.setNBT("e0",i),0<i.length&&(h+=" {"+i.substr(1)+"}")):"particle"==currentCommand&&(h+=$("#name").val(),"vibration"==$("#name").val()?(l=getCoordsString("FromCoords"),r=getCoordsString("ToCoords"),h+="{arrival_in_ticks:",c=parseInt($("#travelTime0").val())||20,"Seconds"==$("#travelTime0TT").html()?h+=20*c:h+=c,h+=`,destination:{type:"block", pos:[${r[0]},${r[1]},${r[2]}]}} ${l[0]} ${l[1]} `+l[2]):(p=(p=getCoordsString("Location"))[0]+" "+p[1]+" "+p[2],m=" "+(d=getCoords("xd","yd","zd",!1))[0]+" "+d[1]+" "+d[2],"dust"==$("#name").val()||"dust_color_transition"==$("#name").val()||"entity_effect"==$("#name").val()?(g=$("#mobSpell_color").val(),"dust"==$("#name").val()?h=h+`{color:[${parseFloat(hexToR(g)/255).toFixed(3)},${parseFloat(hexToG(g)/255).toFixed(3)},${parseFloat(hexToB(g)/255).toFixed(3)}],scale:${parseFloat($("#dustSize").val())}}`+" "+p+m:"dust_color_transition"==$("#name").val()?(h+=`{from_color:[${parseFloat(hexToR(g)/255).toFixed(3)},${parseFloat(hexToG(g)/255).toFixed(3)},${parseFloat(hexToB(g)/255).toFixed(3)}],scale:`+parseFloat($("#dustSize").val()),g=$("#mobSpell_color_to").val(),h=h+`,to_color:[${parseFloat(hexToR(g)/255).toFixed(3)},${parseFloat(hexToG(g)/255).toFixed(3)},${parseFloat(hexToB(g)/255).toFixed(3)}]}`+" "+p+m):"entity_effect"==$("#name").val()&&(h=h+`{color:[${parseFloat(hexToR(g)/255).toFixed(3)},${parseFloat(hexToG(g)/255).toFixed(3)},${parseFloat(hexToB(g)/255).toFixed(3)},${parseFloat($("#alpha0").val()).toFixed(2)}]}`+" "+p+m)):"shriek"==$("#name").val()?h=h+`{delay:${$("#delay").val()}} `+p+m:"sculk_charge"==$("#name").val()?h=h+`{roll:${$("#roll").val()}} `+p+m:("falling_dust"==$("#name").val()||"dust_pillar"==$("#name").val()||"block"==$("#name").val()||"block_marker"==$("#name").val()?h+=getParticleBlockState():"item"==$("#name").val()&&(h+=`{item:"${$("#item0").val()}"}`),h+=" "+p+m),h+=" "+$("#speed").val(),$("#count").val().length&&(h+=" "+$("#count").val()+" "+$("#mode").val(),$("#TSPane").is(":visible"))&&(h+=" "+getVersionSpecificTargetSelectorString()))),outputCharacterCount(h),$("#commandOutput-ta").val(h),$("#commandString").val(h),addToHistory(h)}catch(e){$("#commandOutput-ta").val("Could not generate command.\n"+e.toString())}}}function getParticleBlockState(){if(-1==$("#block0").val())return'{block_state:"minecraft:stone"}';if($("#block0").val()in blockStates){var e,t="";for(e in blockStates[$("#block0").val()])"unset"!=$("#"+e+"BS0").val()&&(t+=","+e+':"'+$("#"+e+"BS0").val()+'"');return 0!=t.length?`{block_state:{Name:"minecraft:${$("#block0").val()}",Properties:{${t.substring(1)}}}}`:`{block_state:"minecraft:${$("#block0").val()}"}`}return`{block_state:"minecraft:${$("#block0").val()}"}`}function outputCharacterCount(e){let t="",a="";0==e.length?$("#outputLength").html("Loot Table"):(e.length<=256?(t="This command is short enough to run in the chat bar. (<256)",a="Will run in chat bar."):e.length<=32500?(t="This command is too long to run in the chat bar. It can only be executed from a command block or function file. (>256)",a="Will run in command block."):(a="Will run in mcfunction file only.",t="This command is too long  to run in the chat bar or a command block. It can only be executed from a function file. (>32500)"),$("#outputLength").html("Command Output: "+e.length+" characters. "+a)),document.getElementById("outputLength").title=t}function clearOutputCharacterCount(){document.getElementById("outputLength").title="",$("#outputLength").html("Command Output")}function getVersionSpecificTargetSelectorString(){return getTargetSelectorString1p13()}function getBlockStates(e,t){if(e in blockStates){var a,o="";for(a in blockStates[e])"unset"!=$("#"+a+t).val()&&(o+=","+a+"="+$("#"+a+t).val());return 0==o.length?"":"["+o.substr(1)+"]"}return""}function getCoordsString(e){if(""==$("#"+e).val().trim())return["~","~","~"];var t=$("#"+e).val().trim().split(" ");for(0==t.length&&(t=[]);t.length<3;)t.push("~");return t}function getCoords(e,t,a,o){return x=0<$("#"+e).val().length&&$("#"+o).is(":checked")?"~"+$("#"+e).val():0<$("#"+e).val().length&&!$("#"+o).is(":checked")?$("#"+e).val():0==$("#"+e).val().length&&$("#"+o).is(":checked")?"~":"0",y=0<$("#"+t).val().length&&$("#"+o).is(":checked")?"~"+$("#"+t).val():0<$("#"+t).val().length&&!$("#"+o).is(":checked")?$("#"+t).val():0==$("#"+t).val().length&&$("#"+o).is(":checked")?"~":"0",z=0<$("#"+a).val().length&&$("#"+o).is(":checked")?"~"+$("#"+a).val():0<$("#"+a).val().length&&!$("#"+o).is(":checked")?$("#"+a).val():0==$("#"+a).val().length&&$("#"+o).is(":checked")?"~":"0",[x,y,z]}function getTargetCompound(e,t){return $("#"+t+"X"+e).val().length&&$("#"+t+"Y"+e).val().length&&$("#"+t+"Z"+e).val().length?","+t+":[I;"+$("#"+t+"X"+e).val()+","+$("#"+t+"Y"+e).val()+","+$("#"+t+"Z"+e).val()+"]":""}function getFWColors(e,t,a){var o="";return $("#"+e+t+" > .fwColor").each(function(e){o+=","+colourConvert($("#"+this.id+"_colour").val())}),o.length?","+a+":[I;"+o.substr(1)+"]":o}function getHandAndArmorItmes(e){var t="",a=getItemNBT("Holding"+e)+","+getItemNBT("Offhand"+e),a=("{},{}"!=a&&(t+=",HandItems:["+a+"]",hasValue("Holding"+e+"DropChance")||hasValue("Offhand"+e+"DropChance")?t+=",HandDropChances:"+constructDropChance(["Holding"+e+"DropChance","Offhand"+e+"DropChance"]):(null!=cachedNBT.dropChance["Holding"+e]&&""!=cachedNBT.dropChance["Holding"+e]||null!=cachedNBT.dropChance["Offhand"+e]&&""!=cachedNBT.dropChance["Offhand"+e])&&(t+=",HandDropChances:"+constructDropChanceFromCache([cachedNBT.dropChance["Holding"+e],cachedNBT.dropChance["Offhand"+e]]))),getItemNBT("Boot"+e)+","+getItemNBT("Leg"+e)+","+getItemNBT("Body"+e)+","+getItemNBT("Head"+e)),a=("{},{},{},{}"!=a&&(t+=",ArmorItems:["+a+"]",hasValue("Boot"+e+"DropChance")||hasValue("Leg"+e+"DropChance")||hasValue("Body"+e+"DropChance")||hasValue("Head"+e+"DropChance")?t+=",ArmorDropChances:"+constructDropChance(["Boot"+e+"DropChance","Leg"+e+"DropChance","Body"+e+"DropChance","Head"+e+"DropChance"]):(void 0!==cachedNBT.dropChance["Boot"+e]&&""!==cachedNBT.dropChance["Boot"+e]||void 0!==cachedNBT.dropChance["Leg"+e]&&""!==cachedNBT.dropChance["Leg"+e]||void 0!==cachedNBT.dropChance["Body"+e]&&""!==cachedNBT.dropChance["Body"+e]||void 0!==cachedNBT.dropChance["Head"+e]&&""!==cachedNBT.dropChance["Head"+e])&&(t+=",ArmorDropChances:"+constructDropChanceFromCache([cachedNBT.dropChance["Boot"+e],cachedNBT.dropChance["Leg"+e],cachedNBT.dropChance["Body"+e],cachedNBT.dropChance["Head"+e]]))),getItemNBT("BodyArmorItem"+e));return"{}"!=a&&(t+=",body_armor_item:"+a,hasValue("BodyArmorItem"+e+"DropChance")?t+=",body_armor_drop_chance:"+constructDropChance("BodyArmorItem"+e+"DropChance"):void 0!==cachedNBT.dropChance["BodyArmorItem"+e]&&""!==cachedNBT.dropChance["BodyArmorItem"+e]&&(t+=",body_armor_drop_chance:"+constructDropChanceFromCache(cachedNBT.dropChance["BodyArmorItem"+e]))),t}function constructDropChance(t){let a="";var e;if(Array.isArray(t)){for(let e=0;e<t.length;e++){var o=t[e].substr(0,t[e].indexOf("DropChance"));$("#"+t[e]).length&&$("#"+t[e]).val().length?a+=","+parseFloat($("#"+t[e]).val()).toFixed(3)+"F":null!=cachedNBT.dropChance[o]&&""!=cachedNBT.dropChance[o]?a+=","+parseFloat(cachedNBT.dropChance[o]).toFixed(3)+"F":a+=",0.085F"}return"["+a.substr(1)+"]"}return e=t.substr(0,t.indexOf("DropChance")),$("#"+t).length&&$("#"+t).val().length?parseFloat($("#"+t).val()).toFixed(3)+"F":null!=cachedNBT.dropChance[e]&&""!=cachedNBT.dropChance[e]?parseFloat(cachedNBT.dropChance[e]).toFixed(3)+"F":"0.085F"}function constructDropChanceFromCache(t){let a="";for(let e=0;e<t.length;e++)void 0===t[e]||""===t[e]?a+=",0.085F":a+=","+parseFloat(t[e]).toFixed(3)+"F";return"["+a.substr(1)+"]"}function hasValue(e){return $("#"+e).length&&""!=$("#"+e).val()}function getStatusEffectsNBT(e,o,n){var s="";return $("#"+o+"_Table > tbody > .effectRow").each(function(){var e,t=this.id.substring((o+"_eff_").length),a=$("#"+o+"Type_"+t).val();$("#"+o+"Amp_"+t).val().length&&$("#"+o+"Ticks_"+t).val().length?(e=$("#"+o+"Ticks_"+t).val(),"Seconds"==$("#"+o+"Ticks_"+t+"TT").html()&&(e*=20),s=(s+=null!=n?",{effect:":",")+'{id:"minecraft:'+a+'",amplifier:'+$("#"+o+"Amp_"+t).val()+",duration:"+e,-1!=$("#"+o+"ShowParticles_"+t).val()&&(s+=",show_particles:"+$("#"+o+"ShowParticles_"+t).val()),-1!=$("#"+o+"ShowIcon_"+t).val()&&(s+=",show_icon:"+$("#"+o+"ShowIcon_"+t).val()),-1!=$("#"+o+"ambient_"+t).val()&&(s+=",ambient:"+$("#"+o+"ambient_"+t).val()),s+="}",null!=n&&($("#"+o+"Prob_"+t).val().length?s+=`,probability:${$("#"+o+"Prob_"+t).val()}}`:s+=",probability:1}")):$("#"+o+"Detect_"+t).is(":checked")&&(s+=',{id:"minecraft:'+a+'"',-1!=$("#"+o+"ShowParticles_"+t).val()&&(s+=",show_particles:"+$("#"+o+"ShowParticles_"+t).val()),-1!=$("#"+o+"ShowIcon_"+t).val()&&(s+=",show_icon:"+$("#"+o+"ShowIcon_"+t).val()),-1!=$("#"+o+"ambient_"+t).val()&&(s+=",ambient:"+$("#"+o+"ambient_"+t).val()),s+="}")}),s.length?","+e+":["+s.substr(1)+"]":s}function getStewEffectsNBT(a){var o="";return $("#"+a+"_Table > tbody > .effectRow").each(function(){var e,t=this.id.substring((a+"_eff_").length);$("#"+a+"Ticks_"+t).val().length&&(e=$("#"+a+"Ticks_"+t).val(),"Seconds"==$("#"+a+"Ticks_"+t+"TT").html()&&(e*=20),o+=',{id:"minecraft:'+t+'",duration:'+e+"}")}),o.length?o.substring(1):o}function getPassengersNBT(e){var t="";return $("#Passengers"+e+"Pane > .passengerContainer").each(function(){var e=parseInt(this.id.substr(this.id.indexOf("_")+1));t+=',{id:"minecraft:'+$("#entity"+e).val()+'"'+entityDescriptors["e"+e].getEntitySpecificCommand(e)+"}",cachedNBT.setNBT("e"+e,',id:"minecraft:'+$("#entity"+e).val()+'"'+entityDescriptors["e"+e].getEntitySpecificCommand(e))}),t.length?",Passengers:["+t.substr(1)+"]":t}function getMonsterSpawnerNBT(e,t){let a="";for(const s of["SpawnCount","SpawnRange","Delay","MinSpawnDelay","MaxSpawnDelay","MaxNearbyEntities","RequiredPlayerRange"])$("#"+e+s).val().length&&(a+=`,${s}:`+$("#"+e+s).val());var o=[];if($(`#${e}SpawnDataPane > .spawnDataContainer`).each(function(e){var t=parseInt(this.id.substr(this.id.indexOf("_")+1));o[e]=[],o[e].entity='{id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos")+"}",o[e].custom_spawn_rules=getCustomSpawnRules(t),o[e].equipment=getSpawnEquipment(t),cachedNBT.setNBT("e"+t,',id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos"))}),0<o.length){let e="";for(var n=0;n<o.length;n++){e+=o[n].custom_spawn_rules+o[n].equipment+",entity:"+o[n].entity;break}e=replaceAll("{,","{",e),a+=",SpawnData:{"+e.substring(1)+"}"}return a+=getSpawnPotential(e+"_spawn_potentialsPane","SpawnPotentials")}function getVaultNBT(e,t){let a="",o="";$(`#${e}loot_table`).val().length&&(o+=`,loot_table:"${$(`#${e}loot_table`).val()}"`),$(`#${e}override_loot_table_to_display`).val().length&&(o+=`,override_loot_table_to_display:"${$(`#${e}override_loot_table_to_display`).val()}"`),$(`#${e}activation_range`).val().length&&(o+=",activation_range:"+$(`#${e}activation_range`).val()),$(`#${e}deactivation_range`).val().length&&(o+=",deactivation_range:"+$(`#${e}deactivation_range`).val());var n=getItemNBT(e+"key_item",!1);"{}"!=n&&(o+=",key_item:"+n),o.length&&(a+=",config:{"+o.substring(1)+"}");let s="",i="",l=($(`#${e}rewarded_players${t} > .regPlayer`).each(function(e){var t=getUUIDArray(this.id);t.length&&(i+=","+t)}),i.length&&(s+=",rewarded_players:["+i.substring(1)+"]"),$(`#${e}state_updating_resumes_at`).val().length&&(s+=",state_updating_resumes_at:"+$(`#${e}state_updating_resumes_at`).val()),""),r=($("#"+e+"items_to_ejectMultiItemPane  > .itemSelectControl").each(function(e){var t=this.id.substr(0,this.id.lastIndexOf("Pane"));"-1"!=$("#"+t).val()&&(l+=","+getItemNBT(t))}),l.length&&(s+=`,items_to_eject:[${l.substring(1)}]`),$(`#${e}total_ejections_needed`).val().length&&(s+=",total_ejections_needed:"+$(`#${e}total_ejections_needed`).val()),s.length&&(a+=",server_data:{"+s.substring(1)+"}"),"");return"{}"!=(n=getItemNBT(e+"display_item",!1))&&(r+=",display_item:"+n),$(`#${e}loot_table`).val().length&&(r+=`,loot_table:"${$(`#${e}loot_table`).val()}"`),i="",$(`#${e}connected_players${t} > .regPlayer`).each(function(e){var t=getUUIDArray(this.id);t.length&&(i+=","+t)}),i.length&&(r+=",connected_players:["+i.substring(1)+"]"),$(`#${e}connected_particles_range`).val().length&&(r+=",connected_particles_range:"+$(`#${e}connected_particles_range`).val()),r.length&&(a+=",shared_data:{"+r.substring(1)+"}"),a}function getCrafterNBT(e,t){for(var a="",o=(a+=getTicksInItemsWithBlockEntityTag(e,"crafting_ticks_remaining"),$(`#${e}LootTable`).val().length&&(a+=`,LootTable:"${$(`#${e}LootTable`).val()}"`),$(`#${e}Lock`).val().length&&(a+=`,Lock:"${$(`#${e}Lock`).val()}"`),""),n="",s=0;s<9;s++){var i=getItemNBT(""+e+s+"Slot");"{}"!=i&&(n+=",{Slot:"+s+"b,"+i.substr(1)),$(`#${e}ds`+s).is(":checked")&&(o+=","+s)}return n.length&&(a+=",Items:["+n.substr(1)+"]"),o.length&&(a+=",disabled_slots:[I;"+o.substr(1)+"]"),a}function getTrialSpawnerNBT(o,e){let t="";for(const r of["normal","ominous"]){let e="",a=r.charAt(0);$(`#${o+a}_spawn_range`).val().length&&(e+=",spawn_range:"+$(`#${o+a}_spawn_range`).val()),$(`#${o+a}_total_mobs`).val().length&&(e+=",total_mobs:"+$(`#${o+a}_total_mobs`).val()),$(`#${o+a}_simultaneous_mobs`).val().length&&(e+=",simultaneous_mobs:"+$(`#${o+a}_simultaneous_mobs`).val()),$(`#${o+a}_total_mobs_added_per_player`).val().length&&(e+=",total_mobs_added_per_player:"+$(`#${o+a}_total_mobs_added_per_player`).val()),$(`#${o+a}_simultaneous_mobs_added_per_player`).val().length&&(e+=",simultaneous_mobs_added_per_player:"+$(`#${o+a}_simultaneous_mobs_added_per_player`).val()),$(`#${o+a}_ticks_between_spawn`).val().length&&(e+=",ticks_between_spawn:"+$(`#${o+a}_ticks_between_spawn`).val()),e+=getSpawnPotential(o+a+"_spawn_potentialsPane","spawn_potentials");var n="";$(`#${o}${a}_loot_table_eject > .ltEject`).each(function(e){var t=this.id.substring(this.id.lastIndexOf("_")+1);$(`#LT${o+a}_loot_table_eject_`+t).val()&&(n+=`,{data:"${$(`#LT${o+a}_loot_table_eject_`+t).val()}",weight:`,$(`#W${o+a}_loot_table_eject_`+t).val()?n+=$(`#W${o+a}_loot_table_eject_`+t).val():n+="1",n+="}")}),n.length&&(e+=",loot_tables_to_eject:["+n.substring(1)+"]"),"ominous"==r&&$(`#${o}o_items_to_drop_when_ominous`).val().length&&(e+=`,items_to_drop_when_ominous:"${$(`#${o}o_items_to_drop_when_ominous`).val()}"`),e.length&&(t+=`,${r}_config:{${e.substring(1)}}`)}$(`#${o}required_player_range`).val().length&&(t+=",required_player_range:"+$(`#${o}required_player_range`).val()),$(`#${o}target_cooldown_length`).val().length&&(t+=",target_cooldown_length:"+$(`#${o}target_cooldown_length`).val());var a="",s=($(`#${o}registered_players${e} > .regPlayer`).each(function(e){var t=getUUIDArray(this.id);t.length&&(a+=","+t)}),a.length&&(t+=",registered_players:["+a.substring(1)+"]"),""),i=($(`#${o}current_mobs${e} > .currentMob`).each(function(e){var t=getUUIDArray(this.id);t.length&&(s+=","+t)}),s.length&&(t+=",current_mobs:["+s.substring(1)+"]"),$(`#${o}cooldown_ends_at`).val().length&&(t+=",cooldown_ends_at:"+$(`#${o}cooldown_ends_at`).val()),$(`#${o}next_mob_spawns_at`).val().length&&(t+=",next_mob_spawns_at:"+$(`#${o}next_mob_spawns_at`).val()),$(`#${o}total_mobs_spawned`).val().length&&(t+=",total_mobs_spawned:"+$(`#${o}total_mobs_spawned`).val()),$(`#${o}ejecting_loot_table`).val().length&&(t+=`,ejecting_loot_table:"${$(`#${o}ejecting_loot_table`).val()}"`),[]);if($(`#${o}SpawnDataPane > .spawnDataContainer`).each(function(e){var t=parseInt(this.id.substr(this.id.indexOf("_")+1));i[e]=[],i[e].entity='{id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos")+"}",i[e].custom_spawn_rules=getCustomSpawnRules(t),i[e].equipment=getSpawnEquipment(t),cachedNBT.setNBT("e"+t,',id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos"))}),0<i.length){let e="";for(var l=0;l<i.length;l++){e+=i[l].custom_spawn_rules+i[l].equipment+",entity:"+i[l].entity;break}e=replaceAll("{,","{",e),t+=",spawn_data:{"+e.substring(1)+"}"}return t}function getSpawnPotential(e,t){var a="",o=[];$("#"+e+" > .spawnPotentialContainer").each(function(e){var t=parseInt(this.id.substr(this.id.indexOf("_")+1));o[e]=[],o[e].entity='{id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos")+"}",o[e].weight=$("#Weight"+t).val().length?$("#Weight"+t).val():1,o[e].custom_spawn_rules=getCustomSpawnRules(t),o[e].equipment=getSpawnEquipment(t),cachedNBT.setNBT("e"+t,',id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+getMotion(t,"Pos"))});let n="";if(0<o.length){for(var s=0;s<o.length;s++)a+=",{data:{"+o[s].custom_spawn_rules+o[s].equipment+",entity:"+o[s].entity+"},weight:"+o[s].weight+"}";a=replaceAll("{,","{",a),n=`,${t}:[${a.substring(1)}]`}return n}function getSpawnEquipment(e){let t="";$("#equip_loot"+e).val().length&&(t+=`,loot_table:"${$("#equip_loot"+e).val()}"`);let a="";for(const o of["feet","legs","chest","head","body","mainhand","offhand"])$("#"+o+e).val().length&&(a+=`,${o}:`+$("#"+o+e).val());return a.length&&(a=`,slot_drop_chances:{${a.substring(1)}}`),t=(t+=a).length?`,equipment:{${t.substring(1)}}`:t}function getCustomSpawnRules(e){let t="",a="",o="";return $("#min_sky_light_limit"+e).val().length&&(a+=",min_inclusive:"+$("#min_sky_light_limit"+e).val()),$("#max_sky_light_limit"+e).val().length&&(a+=",max_inclusive:"+$("#max_sky_light_limit"+e).val()),a.length&&(o+=",sky_light_limit:{"+a.substr(1)+"}"),$("#min_block_light_limit"+e).val().length&&(t+=",min_inclusive:"+$("#min_block_light_limit"+e).val()),$("#max_block_light_limit"+e).val().length&&(t+=",max_inclusive:"+$("#max_block_light_limit"+e).val()),t.length&&(o+=",block_light_limit:{"+t.substr(1)+"}"),o.length?",custom_spawn_rules:{"+o.substr(1)+"}":""}function getSculkCatalystNBT(e){let i="";return $("#cursors"+e+"Pane > .spawnPotentialContainer").each(function(e){let t="";var a=parseInt(this.id.substr(this.id.indexOf("_")+1));let o="",n=!0;for(e=0;e<axisBS.length;e++)$("#pos"+a+axisBS[e]).val()?o+=","+$("#pos"+a+axisBS[e]).val():n=!1;n&&(t+=",pos:[I;"+o.substr(1)+"]"),t=(t=(t+=getNBTforKey("charge",{type:"text",format:"int"},a))+getNBTforKey("update_delay",{type:"ticks"},a))+getNBTforKey("decay_delay",{type:"makeSelect",format:"int"},a);let s="";for(e=0;e<nsewudName.length;e++)$("#face"+nsewudName[e]+a).is(":checked")&&(s+=',"'+nsewudName[e]+'"');s.length&&(t+=",facings:["+s.substring(1)+"]"),t.length&&(i+=",{"+t.substring(1)+"}")}),i.length?",cursors:["+i.substring(1)+"]":""}function getBeesForHiveNBT(e){let o="";return $("#Bees"+e+"Pane > .spawnPotentialContainer").each(function(e){var t=parseInt(this.id.substr(this.id.indexOf("_")+1)),a=getNBTforKey("min_ticks_in_hive",{type:"ticks"},t),a=(a+=getNBTforKey("ticks_in_hive",{type:"ticks"},t))+(',entity_data:{id:"minecraft:'+$("#entity"+t).val()+'"'+entityDescriptors["e"+t].getEntitySpecificCommand(t)+"}");o+=",{"+a.substr(1)+"}"}),o.length?","+o.substr(1):""}function jsonConvert(e){e=replaceAll('\\\\"',"DOUBLE_QUOTE_PLACEHOLDER",e=e.substr(1,e.length-2));return e=replaceAll('\\"','"',e),"'"+(e=replaceAll("DOUBLE_QUOTE_PLACEHOLDER",'\\"',e)).replace(/'/g,"\\'")+"'"}function getColorInteger(e,t){return $("#"+e+"_customcol").is(":checked")?","+t+":"+colourConvert($("#"+e+"_color").val()):""}function colourConvert(e){return 65536*hexToR(e)+256*hexToG(e)+hexToB(e)}function getItemTag(e){return null==e?"":'id:"minecraft:'+e+'"'}function getRandomUUIDv4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}function getOwnerUUIDNBT(e){return $("#OwnerUUIDLeast"+e).val().length&&$("#OwnerUUIDMost"+e).val().length?",Owner:{OwnerUUIDLeast:"+$("#OwnerUUIDLeast"+e).val()+",OwnerUUIDMost:"+$("#OwnerUUIDMost"+e).val()+"}":""}function getRecipesUsed(e){var t="";return $("."+e+" > .recipeUsedQTY").each(function(){var e=this.id.split("-");t+=',"minecraft:'+e[2]+'":'+$("#"+this.id).val()}),0<t.length?",RecipesUsed:{"+t.substr(1)+"}":""}function getUUIDArray(e){return $("#"+e+0).val()&&$("#"+e+1).val()&&$("#"+e+2).val()&&$("#"+e+3).val()?"[I;"+$("#"+e+0).val()+","+$("#"+e+1).val()+","+$("#"+e+2).val()+","+$("#"+e+3).val()+"]":""}function getAngryAt(e){e=getUUIDArray("AngryAt"+e);return e.length?",AngryAt:"+e:""}function getNBTforKey(e,t,a){if("special"==t.format)return"";var o="";if("text"==t.type)$("#"+e+a).val()&&(o=$("#"+e+a).val());else if("choice"==t.type||"makeSelect"==t.type||"makeSelectWithIndexes"==t.type)-1!=$("#"+e+a).val()&&(o=$("#"+e+a).val());else if("ticks"==t.type){if($("#"+e+a).val())return o=$("#"+e+a).val(),"Seconds"==$("#"+e+a+"TT").html()?","+e+":"+20*o:","+e+":"+o}else if("UUIDArray"==t.type)o=getUUIDArray(e+a);else if("colorChooser"==t.type)return getColorInteger(e+a,e);return 0<o.length?"b"==t.format?","+e+":"+o+"b":"f"==t.format?","+e+":"+o+"f":"string"==t.format?","+e+":"+JSON.stringify(o):"short"!=t.format&&"long"!=t.format&&"int"!=t.format&&"d"==t.format?","+e+":"+o+"d":","+e+":"+o:""}function getTicksInItemsWithBlockEntityTag(e,t){return $("#"+e+t).val()?"Seconds"==$("#"+e+t+"TT").html()?","+t+":"+20*$("#"+e+t).val():","+t+":"+$("#"+e+t).val():""}function getRotation(e){var t=0<$("#Yaw"+e).val().length?$("#Yaw"+e).val()+"F":"0F";return 0<$("#Pitch"+e).val().length?t+=","+$("#Pitch"+e).val()+"F":t+=",0F","0F,0F"!=t?",Rotation:["+t+"]":""}function getMotion(t,a){if(0==$("#"+a+"X"+t).val().length&&0==$("#"+a+"Y"+t).val().length&&0==$("#"+a+"Z"+t).val().length)return"";{let e=","+a+":[";return $("#"+a+"X"+t).val().length?(e+=$("#"+a+"X"+t).val(),-1==$("#"+a+"X"+t).val().indexOf(".")&&(e+=".0")):e+="0.0",$("#"+a+"Y"+t).val().length?(e+=","+$("#"+a+"Y"+t).val(),-1==$("#"+a+"Y"+t).val().indexOf(".")&&(e+=".0")):e+=",0.0",$("#"+a+"Z"+t).val().length?(e+=","+$("#"+a+"Z"+t).val(),-1==$("#"+a+"Z"+t).val().indexOf(".")&&(e+=".0")):e+=",0.0",e+"]"}}function getPotion(e,t){return"-1"!=$("#"+t).val()?","+e+':"minecraft:'+$("#"+t).val()+'"':""}function hexToR(e){return parseInt(cutHex(e).substring(0,2),16)}function hexToG(e){return parseInt(cutHex(e).substring(2,4),16)}function hexToB(e){return parseInt(cutHex(e).substring(4,6),16)}function cutHex(e){return"#"==e.charAt(0)?e.substring(1,7):e}function floatToHex(e){e=(1<=e?255:e<=0?0:Math.floor(256*e)).toString(16);return 1==e.length?"0"+e:e}function getFireworksItemNBT(e){var t="",a=($("#"+e+"Flight").val().length&&(t+=",flight_duration:"+$("#"+e+"Flight").val()),"");return $("#"+e+"ExplosionPane > .explosion").each(function(e){var t=this.id;a+=getExplosionNBT(t)}),a.length&&(t+=",explosions:["+a.substring(1)+"]"),t.length?t.substring(1):""}function getExplosionNBT(e){var t=',{shape:"'+$("#"+e+"Type").val()+'"';return $("#"+e+"Flicker").is(":checked")&&(t+=",has_twinkle:true"),$("#"+e+"Trail").is(":checked")&&(t+=",has_trail:true"),t=(t+=getFWColors(e,"Colors","colors"))+(getFWColors(e,"FadeColors","fade_colors")+"}")}function compoundToNBTString(e){var t,a="";for(t in e){var o=e[t];if("raw"==o.type)a+=","+t+":"+o.val;else if("string"==o.type)a+=","+t+':"'+o.val+'"';else if("compound"==o.type)a+=","+t+":"+compoundToNBTString(o.val);else if("arrayOfVals"==o.type||"arrayOfStrings"==o.type){a+=","+t+":[";var n="";if("arrayOfVals"==o.type)for(var s=0;s<o.val.length;s++)n+=","+o.val[s];else for(s=0;s<o.val.length;s++)n+=',"'+o.val[s]+'"';a+=n.substr(1)+"]"}else if("arrayOfCompounds"==o.type){a+=","+t+":[";for(n="",s=0;s<o.val.length;s++)n+=","+compoundToNBTString(o.val[s]);a+=n.substr(1)+"]"}}return"{"+a.substr(1)+"}"}function generateEntityTagNBT_In_Item(e,t){let a="";var o;return t.includes("Silent")&&-1!=$("#"+e+"Silent").val()&&(a+=",Silent:"+$("#"+e+"Silent").val()+"b"),t.includes("Invulnerable")&&-1!=$("#"+e+"Invulnerable").val()&&(a+=",Invulnerable:"+$("#"+e+"Invulnerable").val()+"b"),t.includes("Glowing")&&-1!=$("#"+e+"Glowing").val()&&(a+=",Glowing:"+$("#"+e+"Glowing").val()+"b"),t.includes("UUID")&&(o=getUUIDArray(e+"UUID")).length&&(a+=",UUID:"+o),t.includes("CustomNameVisible")&&-1!=$("#"+e+"CustomNameVisible").val()&&(a+=",CustomNameVisible:"+$("#"+e+"CustomNameVisible").val()+"b"),t.includes("CustomName")&&2<(o=jsonConvert(JSON.stringify(tellrawJson.getJsonForTellraw(e+"CustomName")))).length&&(a+=",CustomName:"+o),t.includes("Tags")&&0<$("#"+e+"Tags").val().length&&(a+=',Tags:["'+$("#"+e+"Tags").val().replace(/,/g,'","')+'"]'),a}function getProjectile(t){try{var e,a;if("arrow"==$("#"+t).val()||"spectral_arrow"==$("#"+t).val())return e=$(`#${t}Intangible`).is(":checked")?',components:{"minecraft:intangible_projectile":{}}':"",`,{id:"minecraft:${$("#"+t).val()}",count:1${e}}`;if("tipped_arrow"==$("#"+t).val()){var o=getStatusEffectsNBT("custom_effects",t+"CustomPotionEffects")+getPotion("potion",t+"Potion")+getColorInteger(t+"CustomPotionColor","custom_color");let e="";return o.length&&(e+=`,"minecraft:potion_contents":{${o.substr(1)}}`),$(`#${t}Intangible`).is(":checked")&&(e+=',"minecraft:intangible_projectile":{}'),0==e.length?',{id:"minecraft:tipped_arrow",count:1}':`,{id:"minecraft:tipped_arrow",count:1,components:{${e.substring(1)}}}`}if("firework_rocket"==$("#"+t).val())return 0==(a=getFireworksItemNBT(t)).length?',{id:"minecraft:firework_rocket",count:1}':`,{id:"minecraft:firework_rocket",count:1,components:{"minecraft:fireworks":{${a}}}}`;if("air"==$("#"+t+proj).val())return',{id:"minecraft:air",Count:1b}'}catch(e){}return",{}"}function showImport(){desktopMode&&$("#commandInput").css({top:mouse.y,left:mouse.x}),null!=localStorage.lastImport&&$("#commandInput-ta").val(localStorage.lastImport),$("#commandInput").show(),bringToFront("commandInput")}function showCommunity(){$("#intro").remove(),$("#community").show(),showSearch()}function bringToFront(e){zIndex++,$("#"+e).css("z-index",zIndex)}function baseCoords(e,t,a,o){o="<span class='fLabel200'> "+o+" "+e[0]+"</span><input type='text' id='"+t[0]+"' class='medTF'>"+makeTip(o,"coords")+"<br><span class='fLabel200'>"+e[1]+"</span><input type='text' id='"+t[1]+"' class='medTF'><br><span class='fLabel200'>"+e[2]+"</span><input type='text' id='"+t[2]+"' class='medTF'>";return null!=a&&(o+="<br><span class='fLabel200'>Relative Coordinates</span><input type='checkbox' id='"+a+"' CHECKED>"),o}function makeCoords(e,t,a,o,n){var s="<span class='fLabel200'> "+t+" Coordinates</span><input type='text' id='"+e+"' class='bigTF'>";return null!=a&&(s+="<a href=\"javascript:prefixCoords('"+e+"','~')\" class='greenPlus' title='Make the coordinates relative'>~</a>"),null!=o&&(s+="<a href=\"javascript:prefixCoords('"+e+"','^')\" class='greenPlus' title='Make the coordinates directional'>^</a>"),(a||o)&&(s+="<a href=\"javascript:prefixCoords('"+e+"','c')\" class='greenPlus' title='Clear the relative or directional symbols'>C</a>"),s+makeTip(n||t,"coords")}function prefixCoords(e,t){for(var a=getCoordsString(e),o=0;o<a.length;o++)"~"==t?a[o]="~"+replaceAll("~","",replaceAll("^","",a[o])):"^"==t?a[o]="^"+replaceAll("~","",replaceAll("^","",a[o])):"c"==t&&(a[o]=replaceAll("~","",replaceAll("^","",a[o])));$("#"+e).val(a[0]+" "+a[1]+" "+a[2]),-1!=e.indexOf("BlockNBT")?-1!=e.indexOf("tellrawPane")?tellrawUpdate(e.substr(0,e.indexOf("BlockNBT"))):-1!=e.indexOf("BookPane")?bookUpdate(e.substr(0,e.indexOf("BlockNBT"))):-1!=e.indexOf("SignPane")&&signUpdate(e.substr(0,e.indexOf("BlockNBT"))):generateCommand()}function loadForm(e){$("#homePageCommandChooser").val("/"+e),clearOutputCharacterCount(),$("#intro").remove(),cachedNBT.clear(),currentCommand=e,desktopMode&&$("#commandOutput").css({top:0,left:$(window).width()-510}),$("#commandForm").html(""),entityIndex=0,entityDescriptors=[],$("#disableOutput").prop("checked",!0),"execute if entity"!=e&&makeExecutePane("commandForm"),"give"==e?makeGivePane("commandForm","givePane"):"setblock"==e?makeBlockPane("commandForm","blockPane"):"item"==e?makeReplaceItemPane("commandForm","replaceItemPane"):"teleport"==e?makeTeleportPane("commandForm","replaceItemPane"):"damage"==e?makeDamagePane("commandForm","tpPane"):"fill"==e?makeBlockPaneFill("commandForm","blockPane"):"blockdata"==e||"data merge block"==e?makeBlockDataPane("commandForm","blockPane"):"execute if entity"==e||"kill"==e?makeAddEntityAndPlayerPane("commandForm","rootEntity"):"tellraw"==e||"title"==e?makeTellrawPane("commandForm","tellrawPane"):"summon"==e||"entitydata"==e||"data merge entity"==e?makeAddEntityPane("commandForm","rootEntity",!1,"passengerContainer"):"particle"==e?makeParticlePane("commandForm","particlePane"):"effect"==e?makeEffectPane("commandForm","effectPane"):"playsound"==e?makePlaySoundPane("commandForm","soundPane"):"team"==e?makeTeamPane("commandForm","teamPane"):"scoreboard"==e?makeScoreboardPane("commandForm","scoreboardPane"):"bossbar"==e?makeBossbarPane("commandForm","bossbarPane"):"loot"==e?makeLootPane("commandForm","lootPane"):"ride"==e?makeRidePane("commandForm","ridePane"):"loot_table"==e&&makeLootTableGenerator("commandForm"),$("#disableOutput").prop("checked",!1),$("#commandOutput-ta").val("Fill out the form to get a command.")}function makeExecutePane(e){$("#"+e).html("<div id='executePane' class='roundedDiv'><a href=\"javascript:createExecuteForm()\" class='navButton'>make /execute command</a></div>")}function appendTS(){$("#exeString").val($("#exeString").val().trim()+" "+getTargetSelectorStringGeneric("execute0")),generateCommand()}function insertTextAtCursor(){var e=jQuery("#exeString"),t=e[0].selectionStart,a=e.val(),o=getTargetSelectorStringGeneric("execute0");e.val(a.substring(0,t)+o+a.substring(t))}function removeExecute(){$("#executePane").html("<a href=\"javascript:createExecuteForm()\" class='navButton'>make /execute command</a>"),generateCommand()}function createExecuteForm(){$("#disableOutput").prop("checked",!0);var e="<span class='fLabel200'>Execute String</span><textarea id='exeString'>execute</textarea><a href='javascript:removeExecute()' class='redX fRight'>&#9747;</a><br><br><span class='fLabel200'>Target Type</span><select id='execute0' onchange=\"javascript:teleportEntityChange('execute0')\"><option value='player'>player</option><option value='entity'>entity</option></select><a href=\"javascript:appendTS()\" class='greenPlus'>&#8657; Append</a><a href=\"javascript:insertTextAtCursor()\" class='greenPlus'>&#8657; Insert at cursor </a><div id='execute0_ts'></div>"+makeTip("effect","Entity");$("#executePane").html(e),bindGenCom("exeString","keyup"),$("#executePane br:first").remove(),teleportEntityChange("execute0"),$("#disableOutput").prop("checked",!1),generateCommand()}function makeTeamPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>");e="<span class='fLabel100'>Command Type</span><select id='add_modify' onchange=\"javascript:teamChange()\"><option value='add'>Add</option><option value='modify'>Modify</option></select>"+makeTip("team","commandType")+"<span id='teamSpan'></span>";$("#"+t).append(e),createComponent(t,"Team",{id:"team",type:"text",tip:"team",cssClass:"fLabel100",fwClass:"bigTF"},0),$("#"+t).append("<div id='"+t+"ItemPane'></div>"),createTellrawForm(t,0)}function teamChange(){$("#teamSpan").html(""),"modify"==$("#add_modify").val()&&createComponent("teamSpan","Part",{type:"makeSelect",cssClass:"fLabel100",values:["displayName","prefix","suffix"],tip:"team"},0),generateCommand()}function makeScoreboardPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>");e="<span class='fLabel100'>Command Type</span><select id='add_modify' onchange=\"javascript:sbChange()\"><option value='add'>Add</option><option value='modify'>Modify</option></select>"+makeTip("scoreboard","commandType")+"<span id='sbSpan'></span>";$("#"+t).append(e),createComponent(t,"Objective",{id:"objective",type:"text",fwClass:"bigTF",cssClass:"fLabel100",tip:"scoreboard"},0),$("#"+t).append("<div id='"+t+"ItemPane'></div>"),sbChange(),createTellrawForm(t,0)}function sbChange(){$("#sbSpan").html(""),"add"==$("#add_modify").val()&&createComponent("sbSpan","Criteria",{type:"text",fwClass:"bigTF",cssClass:"fLabel100",tip:"scoreboard"},0),generateCommand()}function makeLootPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),$("#"+t).append("<span class='fLabel200'>Target</span><select id='targetType' onchange=\"javascript:lootTargetChange()\"><option value='spawn'>spawn</option><option value='give'>give</option><option value='insert'>insert</option><option value='replace entity'>replace entity</option><option value='replace block'>replace block</option></select>"+makeTip("loot","target")+"<br><span id='targetSpan'></span>"),$("#"+t).append("<br><span class='fLabel200'>Source</span><select id='sourceType' onchange=\"javascript:lootSourceChange()\"><option value='loot'>loot</option><option value='kill'>kill</option><option value='mine'>mine</option><option value='fish'>fish</option></select>"+makeTip("loot","source")+"<br><span id='sourceSpan'></span>"),lootTargetChange(),lootSourceChange()}function lootSourceChange(){$("#sourceSpan").html(""),"loot"==$("#sourceType").val()||"fish"==$("#sourceType").val()?(createComponent("sourceSpan","Loot Table",{id:"LootTable",type:"text",fwClass:"bigTF",tip:"loot.loottable"},0),"fish"==$("#sourceType").val()&&($("#sourceSpan").append("<br>"+makeCoords("Fishing","Fishing",!0,!0)),bindGenCom("Fishing","keyup"),createComponent("sourceSpan","FishingTool",{type:"itemselect",forceConstruct:!0,format:"special",hide:!1,tip:"loot"},0))):"mine"==$("#sourceType").val()?($("#sourceSpan").append("<br>"+makeCoords("Mining","Mining",!0,!0)),bindGenCom("Mining","keyup"),createComponent("sourceSpan","MiningTool",{type:"itemselect",forceConstruct:!0,format:"special",hide:!1,tip:"loot"},0)):"kill"==$("#sourceType").val()&&($("#sourceSpan").append("<input type='hidden' id='kill0' value='entity'><div id='kill0_ts'></div>"),loadTargetSelectorsGeneric("kill0_ts",!0,!1,"kill0")),generateCommand()}function lootTargetChange(){$("#targetSpan").html(""),"spawn"==$("#targetType").val()||"insert"==$("#targetType").val()||"replace block"==$("#targetType").val()?($("#targetSpan").append(makeCoords("Loot","Loot",!0,!0)),bindGenCom("Loot","keyup")):"give"!=$("#targetType").val()&&"replace entity"!=$("#targetType").val()||($("#targetSpan").append("<span class='fLabel200'>Entity/Player</span><select id='entity0' onchange=\"javascript:lootEntityChange('entity0')\"><option value='player'>player</option><option value='entity'>entity</option></select><div id='entity0_ts'></div>"),lootEntityChange("entity0")),"replace entity"!=$("#targetType").val()&&"replace block"!=$("#targetType").val()||createComponent("targetSpan","Slot",{id:"slot",type:"makeSelect",values:getLootSlots("replace entity"==$("#targetType").val()),tip:"loot.slots"},0),generateCommand()}function lootEntityChange(e){$("#"+e+"_ts").html(""),loadTargetSelectorsGeneric(e+"_ts","player"!=$("#"+e).val(),"player"==$("#"+e).val(),e),$("#"+e+"_ts br:first").remove(),generateCommand()}function getLootSlots(e){if(e){a=["armor.head","armor.chest","armor.legs","armor.feet","armor.body"];for(var t=0;t<27;t++)a.push("enderchest."+t);for(t=0;t<15;t++)a.push("horse."+t);a=a.concat(["horse.chest","horse.saddle"]);for(t=0;t<9;t++)a.push("hotbar."+t);for(t=0;t<27;t++)a.push("inventory."+t);for(t=0;t<8;t++)a.push("villager."+t);a=a.concat(["weapon","weapon.mainhand","weapon.offhand"])}else for(var a=[],t=0;t<54;t++)a.push("container."+t);return a}function lootTargetSetChange(){$("#lootSetSpan").html(""),"name"==$("#set").val()?$("#bossbarPaneItemPane").show():"players"==$("#set").val()&&($("#bossbarPaneItemPane").hide(),loadTargetSelectors("bbSetSpan",!1,!0)),generateCommand()}function makeBossbarPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>");e="<span class='fLabel100'>Action</span><select id='action' onchange=\"javascript:bbChange()\"><option value='add'>add</option><option value='set'>set</option></select>"+makeTip("bossbar","action");$("#"+t).append(e),createComponent(t,"ID",{type:"text",fwClass:"bigTF",cssClass:"fLabel100",tip:"bossbar"},0),$("#"+t).append("<span id='bbSpan'></span><div id='"+t+"ItemPane'></div>"),bbChange(),createTellrawForm(t,0,"ItemPane",!0)}function bbChange(){var e;$("#bbSpan").html(""),"add"==$("#action").val()?$("#bossbarPaneItemPane").show():"set"==$("#action").val()&&(e="<br><span class='fLabel100'>Set</span><select id='set' onchange=\"javascript:bbSetChange()\"><option value='name'>Name</option><option value='players'>Players</option></select>"+makeTip("bossbar","set")+"<span id='bbSetSpan'></span>",$("#bbSpan").append(e),bbSetChange()),generateCommand()}function bbSetChange(){$("#bbSetSpan").html(""),"name"==$("#set").val()?$("#bossbarPaneItemPane").show():"players"==$("#set").val()&&($("#bossbarPaneItemPane").hide(),loadTargetSelectors("bbSetSpan",!1,!0)),generateCommand()}function makeTellrawPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),"title"==currentCommand&&createComponent(t,"Type",{id:"titleType",type:"makeSelect",values:["title","subtitle","actionbar"],tip:"title.Type"},0),loadTargetSelectors(t,!1,!0),$("#"+t).append("<div id='"+t+"ItemPane'></div>"),$("#"+t+" br:first").remove(),createTellrawForm(t,0,"ItemPane",!0)}function makeEffectPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>");e="<span class='fLabel200'>Entity</span><select id='entity0' onchange=\"javascript:teleportEntityChange('entity0')\"><option value='player'>player</option><option value='entity'>entity</option></select>"+makeTip("effect","Entity")+"<div id='entity0_ts'></div>";$("#"+t).append(e),createComponent(t,"Effect",{id:"effect",type:"makeSelect",values:statusEffectsArray,tip:"effect"},0),createComponent(t,"Seconds",{id:"seconds",type:"text",tip:"effect"},0),createComponent(t,"Amplifier",{id:"amplifier",type:"text",tip:"effect"},0),createComponent(t,"Hide Particles",{id:"hideParticles",type:"makeSelect",values:["false","true"],tip:"effect.hideParticles"},0),teleportEntityChange("entity0")}function updateParticleSelect(e,t){var a=$("#"+e).val(),o=$("#"+e+"_filter").val().toLowerCase(),n=[];"area_effect_cloud"==t&&0==o.length&&n.push("<option value='unset'>unset</option>");for(var s=0;s<particles.length;s++)0!=o.length&&-1==particles[s].indexOf(o)||n.push('<option value="',particles[s],'">',particles[s],"</option>");$("#"+e).html(n.join("")),a!=$("#"+e).val()&&$("#"+e).trigger("change")}function loadParticleOptions(e,t){var a=[];"area_effect_cloud"==t&&a.push("<option value='unset'>unset</option>");for(var o=0;o<particles.length;o++)a.push('<option value="',particles[o],'">',particles[o],"</option>");$("#"+e).html(a.join(""))}function makeParticlePane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),$("#"+t).append("<span class='fLabel200'>Name</span><select id='name'></select><input type='text' id='name_filter' placeholder='Filter' class='medTF' onkeyup=\"updateParticleSelect('name')\">"+makeTip("particle","name")),bindGenCom("name","change"),loadParticleOptions("name"),$("#"+t).append("<div id='commonSettings'></div>"),$("#"+t).append("<div id='blockFallingDustSettings'></div>"),$("#"+t).append("<div id='itemSettings'></div>"),$("#"+t).append("<div id='alphaSettings'></div>"),$("#"+t).append("<span id='vibrationSettings'><br>"+makeCoords("FromCoords","From",!0,!0)+"<br>"+makeCoords("ToCoords","To",!0,!0)+"</span>"),createComponent("vibrationSettings","travelTime",{label:"Travel Time",type:"ticks",cssClass:"fLabel200",tip:"particle.TravelTime"},0),createComponent("alphaSettings","alpha",{label:"Alpha",type:"text",value:1,cssClass:"fLabel200",tip:"particle.alpha"},0),$("#commonSettings").append("<br>"+makeCoords("Location","Location",!0,!0)),bindGenCom("Location","keyup"),bindGenCom("FromCoords","keyup"),bindGenCom("ToCoords","keyup"),bindGenCom("travelTime","keyup"),bindGenCom("alpha","keyup"),$("#commonSettings").append("<br>"+baseCoords(["X","Y","Z"],["xd","yd","zd"],null,"Delta")),bindGenCom("xd","keyup"),bindGenCom("yd","keyup"),bindGenCom("zd","keyup"),createComponent("commonSettings","Speed",{id:"speed",type:"text",value:"1",tip:"particle"},0),createComponent("commonSettings","Count",{id:"count",type:"text",tip:"particle113.Count",value:"0"},0),createComponent("commonSettings","Mode",{id:"mode",type:"makeSelect",values:["normal","force"],format:"string",tip:"particle"},0),$("#"+t).append("<span id='dustsettings'><br><span class='fLabel200'>Dust Size</span><input id='dustSize' type='text' value='1' class='medTF' >"+makeTip("particle113","dustSize")+"</span><span id='colsettings'><br><span class='fLabel200'>Effect Color</span><input id='mobSpell_color' value='FF0000' onchange='generateCommand()'>"+makeTip("particle113","color")+"</span><span id='colsettingsTo'><br><span class='fLabel200'>To Color</span><input id='mobSpell_color_to' value='FF0000' onchange='generateCommand()'>"+makeTip("particle113","colorTo")+"</span><span id='delaysetting'><br><span class='fLabel200'>Delay</span><input id='delay' type='text' value='0' class='medTF' >"+makeTip("particle","delay")+"</span><span id='sculkChargeSetting'><br><span class='fLabel200'>roll</span><input id='roll' type='text' value='0' class='medTF' >"+makeTip("particle","roll")+"</span>"),loadTargetSelectors("commonSettings",!1,!0),$("#commonSettings").append(makeTip("particle","player")),showHide("TSPane","TSPaneSH");let a="<br><span class='fLabel200'>Block</span>";for(var o in a+="<select id='block0' onchange='javascript:blockChange(true, 0);'>",itemsAndBlocks)"i"!=itemsAndBlocks[o].c&&(a+="<option value='"+o+"'>"+itemsAndBlocks[o].d+"</option>");for(var n in a+="</select><input type='text' id='block0_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockOptions('block0')\"><span id='blockSpec0'></span>",$("#blockFallingDustSettings").append(a),a="<br><span class='fLabel200'>Item</span>",a+="<select id='item0' onchange='javascript:generateCommand();'>",itemsAndBlocks)"t"!=itemsAndBlocks[n].c&&(a+="<option value='"+n+"'>"+itemsAndBlocks[n].d+"</option>");a+="</select><input type='text' id='item0_filter' placeholder='Filter' class='medTF' onkeyup=\"updateItemSelectOptions('#item0')\">",$("#itemSettings").append(a),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide(),$("#vibrationSettings").hide(),$("#dustsettings").hide(),$("#colsettingsTo").hide(),$("#alphaSettings").hide(),$("#delaysetting").hide(),$("#sculkChargeSetting").hide(),bindGenCom("delay","keyup"),bindGenCom("roll","keyup"),bindGenCom("dustSize","keyup"),$("#name").bind("change",function(){$("#commonSettings").show(),-1!=$("#name").val().indexOf("entity_effect")?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").show(),$("#sculkChargeSetting").hide(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide(),$("#delaysetting").hide(),$("#alphaSettings").show()):("falling_dust"==$("#name").val()||"block"==$("#name").val()||"dust_pillar"==$("#name").val()||"block_marker"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#sculkChargeSetting").hide(),$("#dustsettings").hide(),$("#blockFallingDustSettings").show(),$("#itemSettings").hide(),$("#delaysetting").hide(),$("#alphaSettings")):"dust"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").show(),$("#sculkChargeSetting").hide(),$("#dustsettings").show(),$("#blockFallingDustSettings").hide(),$("#delaysetting").hide(),$("#itemSettings").hide(),$("#alphaSettings")):"dust_color_transition"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").show(),$("#colsettings").show(),$("#sculkChargeSetting").hide(),$("#dustsettings").show(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide(),$("#delaysetting").hide(),$("#alphaSettings")):"vibration"==$("#name").val()?($("#commonSettings").hide(),$("#vibrationSettings").show(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide(),$("#delaysetting").hide(),$("#alphaSettings").hide(),$("#sculkChargeSetting")):"item"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#sculkChargeSetting").hide(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").show(),$("#delaysetting").hide(),$("#alphaSettings")):"shriek"==$("#name").val()?($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide(),$("#delaysetting").show(),$("#alphaSettings").hide(),$("#sculkChargeSetting")):(("sculk_charge"==$("#name").val()?($("#sculkChargeSetting").show(),$("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings")):($("#vibrationSettings").hide(),$("#colsettingsTo").hide(),$("#colsettings").hide(),$("#sculkChargeSetting"))).hide(),$("#dustsettings").hide(),$("#blockFallingDustSettings").hide(),$("#itemSettings").hide(),$("#delaysetting").hide(),$("#alphaSettings"))).hide()}),$("#mobSpell_color").bind("change",function(){"dust"!=$("#name").val()&&"dust_color_transition"!=$("#name").val()&&"entity_effect"!=$("#name").val()?changeParticelXdYdZd($("#mobSpell_color").val()):generateCommand()}),$("#mobSpell_color_to").bind("change",function(){generateCommand()}),new jscolor.color(document.getElementById("mobSpell_color"),{}).fromString("FF0000"),new jscolor.color(document.getElementById("mobSpell_color_to"),{}).fromString("FF0000")}function changeParticelXdYdZd(e){$("#xd").val(parseFloat(hexToR(e)/255).toFixed(3)),$("#yd").val(parseFloat(hexToG(e)/255).toFixed(3)),$("#zd").val(parseFloat(hexToB(e)/255).toFixed(3)),generateCommand()}function makePlaySoundPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),$("#"+t).append("<span class='fLabel200'>Sound Effect</span><select id='sound'></select><input type='text' id='sound_filter' placeholder='Filter' class='medTF' onkeyup=\"updateSoundSelect('sound')\">"+makeTip("sound","effect")),bindGenCom("sound","change"),createComponent("soundPane","Source",{id:"source",type:"makeSelect",values:["master","music","record","weather","block","hostile","neutral","player","ambient","voice"],tip:"sound.source"},0),loadTargetSelectors("soundPane",!1,!0);e=makeCoords("Position","Position",!0,!0)+makeTip("sound","relative");$("#soundPane").append("<br>"+e),bindGenCom("Position","keyup"),createComponent("soundPane","Volume",{id:"volume",type:"text",tip:"sound.volume"},0),createComponent("soundPane","Pitch",{id:"pitch",type:"text",tip:"sound.pitch"},0),createComponent("soundPane","Minimum Volume",{id:"minvolume",type:"text",tip:"sound.minvolume"},0),loadSoundOptions()}function loadSoundOptions(){for(var e=[],t=0;t<soundList.length;t++)e.push('<option value="',soundList[t],'">',soundList[t],"</option>");$("#sound").html(e.join(""))}function updateSoundSelect(e,t){var a=$("#"+e).val(),o=$("#"+e+"_filter").val(),n=[];t&&n.push('<option value="unset">unset</option>');for(var s=0;s<soundList.length;s++)0!=o.length&&-1==soundList[s].indexOf(o)||n.push('<option value="',soundList[s],'">',soundList[s],"</option>");$("#"+e).html(n.join("")),a!=$("#"+e).val()&&$("#"+e).trigger("change")}function makeBlockDataPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'>"+makeCoords("Block","Block",!0,!0)+"</div>"),bindGenCom("Block","keyup");$("#"+t).append("<br><span class='fLabel200'>Block</span><select id='block0' onchange='javascript:blockChange(false,0);'></select><input type='text' id='block0_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockDataSelect('block0')\"><span id='blockSpec0'></span>"),updateBlockDataSelect("block0")}function updateBlockDataSelect(e){var t,a=$("#"+e+"_filter").val().toLowerCase(),o=[];for(t in itemsAndBlocks)-1==hasBlockData.indexOf(t)||"i"==itemsAndBlocks[t].c||0!=a.length&&-1==t.indexOf(a)&&-1==itemsAndBlocks[t].d.toLowerCase().indexOf(a)||o.push('<option value="',t,'">',itemsAndBlocks[t].d,"</option>");$("#"+e).html(o.join("")),blockChange(!1)}function makeBlockPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'>"+makeCoords("Block","Block",!0,!0)+"</div>"),bindGenCom("Block","keyup"),createComponent(t,"Old Block Handling",{id:"blockHandle",type:"makeSelect",values:["replace","destroy","keep"],hide:!1,tip:"setblock.Handling"},0);var a,o="<br><span class='fLabel200'>Block</span>";for(a in o+="<select id='block0' onchange='javascript:blockChange(true);'>",itemsAndBlocks)"i"!=itemsAndBlocks[a].c&&(o+="<option value='"+a+"'>"+itemsAndBlocks[a].d+"</option>");o+="</select><input type='text' id='block0_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockOptions('block0')\"><span id='blockSpec0'></span>",$("#"+t).append(o)}function makeBlockPaneFill(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'>"+makeCoords("Corner","Corner",!0,!0)+"<br>"+makeCoords("Opposite","Opposite",!0,!0)+"</div>"),bindGenCom("Corner","keyup"),bindGenCom("Opposite","keyup"),createComponent(t,"Old Block Handling",{id:"blockHandle",type:"makeSelect",values:["replace","destroy","hollow","keep","outline"],hide:!1,tip:"setblock.Handling"},0);var a,o="";for(a in itemsAndBlocks)"i"!=itemsAndBlocks[a].c&&(o+="<option value='"+a+"'>"+itemsAndBlocks[a].d+"</option>");e="<br><span class='fLabel200'>Block</span><select id='block0' onchange='javascript:blockChange(true,0);'>"+o+"</select><input type='text' id='block0_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockOptions('block0')\"><span id='blockSpec0'></span><div id='replacePanel'><span class='fLabel200'>Replace Block</span><select id='block1'  onchange='javascript:blockChange(true,1);'>"+o+"</select><input type='text' id='block1_filter' placeholder='Filter' class='medTF' onkeyup=\"updateBlockOptions('block1')\"><span id='blockSpec1'></span></div>";$("#"+t).append(e),$("#blockHandle").bind("change",function(){"destroy"==$("#blockHandle").val()?$("#replacePanel").hide():$("#replacePanel").show()})}function fallingBlockChange(e){if(e=e||0,$("#blockSpec"+e).html(""),$("#block"+e).val()in blockStates){var t,a=blockStates[$("#block"+e).val()];for(t in a){var o=a[t].slice();$.isArray(o[0])?(o.unshift(["unset","unset"]),createComponent("blockSpec"+e,t,{id:t+"BS"+e,type:"choice",values:o},e)):(o.unshift("unset"),createComponent("blockSpec"+e,t,{id:t+"BS"+e,type:"makeSelect",values:o},e))}}blocks[e]=loadBlockClass($("#block"+e).val()),"falling_block"==entityDescriptors["e"+e].entityType&&blocks[e].generateFormForFalling(e),$("#blockSpec"+e).html().length?($("#blockSpec"+e+" br:first").remove(),$("#blockSpec"+e).addClass("fallingBlock")):$("#blockSpec"+e).removeClass("fallingBlock"),generateCommand()}function blockChange(e,t=0){if($("#blockSpec"+t).html(""),e&&$("#block"+t).val()in blockStates){var a,o=blockStates[$("#block"+t).val()];for(a in o){var n=o[a].slice();$.isArray(n[0])?(n.unshift(["unset","unset"]),createComponent("blockSpec"+t,a,{id:a+"BS"+t,type:"choice",values:n},t)):(n.unshift("unset"),createComponent("blockSpec"+t,a,{id:a+"BS"+t,type:"makeSelect",values:n},t))}}"particle"!=currentCommand&&(blocks[t]=loadBlockClass($("#block"+t).val()),blocks[t].generateForm(t)),generateCommand()}function replaceBlockChange(){if($("#replaceBlockSpec").html(""),$("#replaceblock").val()in blockStates){var e,t=blockStates[$("#replaceblock").val()];for(e in t){var a=t[e].slice();$.isArray(a[0])?(a.unshift(["unset","unset"]),createComponent("replaceBlockSpec",e,{id:e+"ReplaceBS0",type:"choice",values:a},0)):(a.unshift("unset"),createComponent("replaceBlockSpec",e,{id:e+"ReplaceBS0",type:"makeSelect",values:a},0))}}generateCommand()}function detectBlockChange(){if($("#detect_blockSpec").html(""),$("#detect_block").val()in blockStates){var e,t=blockStates[$("#detect_block").val()];for(e in t){var a=t[e].slice();$.isArray(a[0])?(a.unshift(["unset","unset"]),createComponent("detect_blockSpec",e,{id:e+"detect_BS0",type:"choice",values:a},0)):(a.unshift("unset"),createComponent("detect_blockSpec",e,{id:e+"detect_BS0",type:"makeSelect",values:a},0))}}generateCommand()}function updateFallingBlockOptions(e,t){var a=$("#"+e+t).val(),o=getFilteredBlocks($("#"+e+"_filter"+t).val().toLowerCase(),!1);$("#"+e+t).html(o.join("")),a!=$(name).val()&&$("#"+e+t).trigger("change")}function getFilteredBlocks(e,t){var a,o=[];for(a in itemsAndBlocks)"i"==itemsAndBlocks[a].c||0!=e.length&&-1==a.indexOf(e)&&-1==itemsAndBlocks[a].d.toLowerCase().indexOf(e)||o.push('<option value="',a,'">',itemsAndBlocks[a].d,"</option>");if(t)for(const n of blockTags)0!=e.length&&-1==n.indexOf(e)||o.push('<option value="',n,'">',n,"</option>");return o}function updateBlockOptions(e){var t=$("#"+e).val(),a=getFilteredBlocks($("#"+e+"_filter").val().toLowerCase(),!1);$("#"+e).html(a.join("")),t!=$("#"+e).val()&&(cachedNBT.updateFilterLastUsed(),$("#"+e).trigger("change"))}function makeRidePane(e,t){t="<br><div id='"+t+"' class='passengerContainer roundedDiv stackerAltColorA'><span class='fLabel200'>Passenger Entity</span><br><span class='fLabel200'>Passenger Type</span><select id='entity0' onchange=\"javascript:teleportEntityChange('entity0')\"><option value='player'>player</option><option value='entity'>entity</option></select>"+makeTip("ride","passenger")+"<div id='entity0_ts'></div><span class='fLabel200'>Type</span><select id='ridetype0'><option value='mount'>Mount</option><option value='dismount'>Dismount</option></select>"+makeTip("ride","type")+"<div id='cmdTypeSpecificContainer'></div>";$("#"+e).append(t),teleportEntityChange("entity0"),$("#ridetype0").bind("change",function(){changeRideType()}),changeRideType()}function changeRideType(){"mount"==$("#ridetype0").val()?($("#cmdTypeSpecificContainer").html("<span class='fLabel200'>Vehicle Entity</span><br><div id='ridetype0_ts'></div>"),$("#cmdTypeSpecificContainer br:first").remove(),rideTypeChange("ridetype0")):$("#cmdTypeSpecificContainer").empty(),generateCommand()}function rideTypeChange(e){$("#"+e+"_ts").html(""),loadTargetSelectorsGeneric(e+"_ts",!0,!1,e),$("#"+e+"_ts br:first").remove(),generateCommand()}function makeDamagePane(e,t){t="<br><div id='"+t+"' class='passengerContainer roundedDiv stackerAltColorA'><span class='fLabel200'>Target</span><select id='entity0' onchange=\"javascript:teleportEntityChange('entity0')\"><option value='player'>player</option><option value='entity'>entity</option></select>"+makeTip("damage","target")+"<div id='entity0_ts'></div><span id='damageInnerOptions'></span><br><span class='fLabel200'>Damage Context</span><select id='target0' onchange=\"javascript:changeDamageType()\"><option value='unset'>unset</option><option value='player'>By Player</option><option value='entity'>By Entity</option><option value='block'>At Location</option></select>"+makeTip("damage","context")+"<div id='cmdTypeSpecificContainer'></div>";$("#"+e).append(t),createComponent("damageInnerOptions","Amount",{type:"text",cssClass:"fLabel200",format:"float",tip:"damage",fwClass:"medTF"},0),createComponent("damageInnerOptions","damageType",{label:"Damage Type",type:"makeSelect",values:damageTypeList,hasUnset:!0,cssClass:"fLabel200",tip:"damage",fwClass:"medTF"},0),$("#damageInnerOptions br:first").remove(),teleportEntityChange("entity0"),changeDamageType()}function changeDamageType(){"unset"==$("#target0").val()?$("#cmdTypeSpecificContainer").empty():"block"==$("#target0").val()?($("#cmdTypeSpecificContainer").html(makeCoords("location","Location",!0,!0,"damage")),bindGenCom("location","keyup")):($("#cmdTypeSpecificContainer").html("<div id='target0_ts'></div><span class='fLabel200'>Damage From</span><select id='facingtarget0'><option value='unset'>unset</option><option value='player'>player</option><option value='entity'>Entity</option></select>"+makeTip("damage","from")+"<div id='facingtarget0_ts'>FT</div>"),$("#facingtarget0").bind("change",function(){damageFromChange()}),damageFromChange(),teleportEntityChange("target0")),generateCommand()}function damageFromChange(){"unset"==$("#facingtarget0").val()?$("#facingtarget0_ts").html(""):($("#facingtarget0_ts br:first").remove(),teleportEntityChange("facingtarget0")),generateCommand()}function makeTeleportPane(e,t){t="<br><div id='"+t+"' class='passengerContainer roundedDiv stackerAltColorA'><span class='fLabel200'>Teleport</span><select id='entity0' onchange=\"javascript:teleportEntityChange('entity0')\"><option value='player'>player</option><option value='entity'>entity</option></select><div id='entity0_ts'></div><span class='fLabel200'>Destination</span><select id='target0' onchange=\"javascript:changeTeleportType()\"><option value='player'>Player</option><option value='entity'>Entity</option><option value='block'>Coordinates</option></select>"+makeTip("teleport","type")+"<div id='cmdTypeSpecificContainer'></div>";$("#"+e).append(t),teleportEntityChange("entity0"),$("#teleporttype").bind("change",function(){changeTeleportType()}),changeTeleportType()}function changeTeleportType(){"block"==$("#target0").val()?($("#cmdTypeSpecificContainer").html(makeCoords("Block","Destination",!0,!0)+"<br><span class='fLabel200'>Facing Type</span><select id='facingType'><option value='unset'>Unset</option><option value='facingCoords'>Face Coordinates</option><option value='facingEntity'>Face Entity</option><option value='rotation'>Rotation</option></select>"+makeTip("teleport","facing")+"<div id='facingContainer'></div>"),bindGenCom("Block","keyup"),$("#facingType").bind("change",function(){teleportFacingChange()}),teleportFacingChange()):($("#cmdTypeSpecificContainer").html("<div id='target0_ts'></div>"),$("#cmdTypeSpecificContainer br:first").remove(),teleportEntityChange("target0")),generateCommand()}function teleportFacingChange(){"unset"==$("#facingType").val()?$("#facingContainer").html(""):"facingCoords"==$("#facingType").val()?($("#facingContainer").html(makeCoords("FacingCoords","Facing")),bindGenCom("FacingCoords","keyup")):"facingEntity"==$("#facingType").val()?($("#facingContainer").html("<span class='fLabel200'>Facing Entity/Player</span><select id='facingtarget0' onchange=\"javascript:teleportEntityChange('facingtarget0')\"><option value='player'>player</option><option value='entity'>entity</option></select><div id='facingtarget0_ts'></div>"),$("#facingContainer br:first").remove(),teleportEntityChange("facingtarget0"),createComponent("facingContainer","Anchor",{type:"makeSelect",values:["unset","eyes","feet"],cssClass:"fLabel200",tip:"teleport",fwClass:"medTF"},0)):"rotation"==$("#facingType").val()&&($("#facingContainer").html(""),createComponent("facingContainer","Yaw",{type:"text",cssClass:"fLabel200",format:"float",tip:"entity",fwClass:"medTF"},0),createComponent("facingContainer","Pitch",{type:"text",cssClass:"fLabel200",format:"float",tip:"entity",fwClass:"medTF"},0),$("#facingContainer br:first").remove()),generateCommand()}function teleportEntityChange(e){$("#"+e+"_ts").html(""),loadTargetSelectorsGeneric(e+"_ts","player"!=$("#"+e).val(),"player"==$("#"+e).val(),e),$("#"+e+"_ts br:first").remove(),generateCommand()}function makeReplaceItemPane(e,t){$("#"+e).append("<br><div id='"+t+"' class='passengerContainer roundedDiv stackerAltColorA'><br><span class='fLabel200'>Mode</span><select id='itemCmdMode'><option value='replace'>replace item with</option><option value='modify'>modify item</option><option value='copy'>copy item from</option></select>"+makeTip("itemcmd","mode")+"<br><span class='fLabel200'>Destination Type</span><select id='replaceitem'><option value='block'>Block</option><option value='player'>Player</option><option value='entity'>Entity</option></select>"+makeTip("itemcmd","desttype")+"<div id='cmdTypeSpecificContainer'></div><div id='cmdModeContainer'><br></div></div>"),$("#replaceitem").bind("change",function(){changeReplaceItemCommandType()}),$("#itemCmdMode").bind("change",function(){changeReplaceItemCommandMode()}),$("#"+t+" br:first").remove(),changeReplaceItemCommandType(),changeReplaceItemCommandMode()}function changeReplaceItemCommandType(){"block"==$("#replaceitem").val()?($("#cmdTypeSpecificContainer").html(makeCoords("Block","Destination",!0,!0,"DestItem")),bindGenCom("Block","keyup"),createComponent("cmdTypeSpecificContainer","Slot",{type:"text",format:"short",tip:"itemcmd.destcontainerslot",label:"Destination Slot"},0)):($("#cmdTypeSpecificContainer").html("<div id='replaceitem_ts'></div>"),$("#cmdTypeSpecificContainer br:first").remove(),teleportEntityChange("replaceitem"),createComponent("cmdTypeSpecificContainer","Slot",{type:"choice",values:[],format:"string",tip:"itemcmd.destentityslot",label:"Destination Slot"},0),changeEntType("replaceitem","Slot0")),generateCommand()}function changeReplaceItemCommandMode(){$("#cmdModeContainer").html(""),"replace"==$("#itemCmdMode").val()?createComponent("cmdModeContainer","GiveItem",{label:"Replace Item",type:"itemselect",forceConstruct:!0,format:"special",hide:!1},0):"modify"==$("#itemCmdMode").val()?createComponent("cmdModeContainer","ItemModifier",{label:"Item Modifier",type:"text",tip:"itemcmd.modifier",fwClass:"bigTF"},0):"copy"==$("#itemCmdMode").val()&&($("#cmdModeContainer").html("<br><span class='fLabel200'>Source Type</span><select id='itemCopyType'><option value='block'>Block</option><option value='player'>Player</option><option value='entity'>Entity</option></select>"+makeTip("itemcmd","sourcetype")+"<div id='copyTypeSpecificContainer'></div>"),$("#itemCopyType").bind("change",function(){changeCopyType()}),changeCopyType()),$("#cmdModeContainer br:first").remove(),generateCommand()}function changeCopyType(){"block"==$("#itemCopyType").val()?($("#copyTypeSpecificContainer").html(makeCoords("BlockCopy","Source",!0,!0,"SourceItem")),bindGenCom("BlockCopy","keyup"),createComponent("copyTypeSpecificContainer","SlotCopy",{type:"text",format:"short",tip:"itemcmd.sourcecontainerslot",label:"Source Slot"},0)):($("#copyTypeSpecificContainer").html("<div id='itemCopyType_ts'></div>"),$("#copyTypeSpecificContainer br:first").remove(),teleportEntityChange("itemCopyType"),createComponent("copyTypeSpecificContainer","SlotCopy",{type:"choice",values:[],format:"string",label:"Source Slot",tip:"itemcmd.sourceentityslot"},0),changeEntType("itemCopyType","SlotCopy0")),generateCommand()}function changeEntType(e,t){let a="<option value='armor.head'>armor.head</option><option value='armor.chest'>armor.chest</option><option value='armor.legs'>armor.legs</option><option value='armor.feet'>armor.feet</option><option value='armor.body'>armor.body</option><option value='weapon.mainhand'>weapon.mainhand</option><option value='weapon.offhand'>weapon.offhand</option>";if("player"==$("#"+e).val()){for(var o=0;o<9;o++)a+="<option value='hotbar."+o+"'>hotbar."+o+"</option>";for(o=0;o<4;o++)a+="<option value='player.crafting."+o+"'>player.crafting."+o+"</option>";for(o=0;o<27;o++)a+="<option value='enderchest."+o+"'>enderchest."+o+"</option>";for(o=0;o<27;o++)a+="<option value='inventory."+o+"'>inventory."+o+"</option>"}else{a+="<option value='horse.saddle'>horse.saddle</option><option value='horse.chest'>horse.chest</option>";for(o=0;o<15;o++)a+="<option value='horse."+o+"'>horse."+o+"</option>";for(o=0;o<8;o++)a+="<option value='villager."+o+"'>villager."+o+"</option>"}for(o=0;o<54;o++)a+="<option value='container."+o+"'>container."+o+"</option>";$("#"+t).html(a),generateCommand()}function makeGivePane(e,t){$("#"+e).append("<br><div id='"+t+"' class='roundedDiv'></div>"),loadTargetSelectors(t,!0,!0),createComponent(t,"GiveItem",{type:"itemselect",format:"special",hide:!1,tip:"give",forceConstruct:!0},0),$("#"+t+" br:first").remove(),$("#targetType0_choice").trigger("change")}function makeAddEntityAndPlayerPane(e,t,a){for(var a=a||!1,o=a?"spawnPotentialContainer":"passengerContainer",n=(n=mkShowHide(t,t+"SH")+"<div id='"+t+"' class='"+o+" roundedDiv stackerAltColorA'>")+("<span class='fLabel200'>Entity</span><select id='entity"+entityIndex+"' onchange='javascript:entityChange("+entityIndex+","+a+");'>")+"<option value='player'>player</option>",s=0;s<entities.length;s++)n+="<option value='"+entities[s]+"'>"+entities[s]+"</option>";n+="</select><input type='text' id='entity"+entityIndex+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateEntitySelectOptions('#entity"+entityIndex+"',"+entityIndex+","+a+",true)\"><br><div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>",$("#"+e).html().length&&(n="<br>"+n),$("#"+e).append(n),entityChange(entityIndex,a)}function makeAddBeePane(e,t){var a="",a=(a=(a+=mkShowHide(t,t+"SH"))+("<div id='"+t+"' class='spawnPotentialContainer roundedDiv stackerAltColorB'>")+("<a class='redX' href=\"javascript:removePassenger('"+t+"','"+entityIndex+"')\">&#9747;</a>"))+("<a class='redX' href=\"javascript:copyEntityNBT('"+entityIndex+"')\">Copy</a><a class='redX' href=\"javascript:pasteEntityNBT('"+entityIndex+"')\">Paste</a><br>")+("<input type='hidden' id='entity"+entityIndex+"' value='bee'><br><div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>");$("#"+e).html().length&&(a="<br>"+a),$("#"+e).append(a),createComponent(t,"min_ticks_in_hive",{label:"min_ticks_in_hive",type:"ticks",cssClass:"fLabel100",tip:"bee_nest.MinOccupationTicks",value:2400},entityIndex),createComponent(t,"ticks_in_hive",{label:"ticks_in_hive",type:"ticks",cssClass:"fLabel100",tip:"bee_nest.TicksInHive",value:5},entityIndex),entityChangeSpawnEgg(entityIndex,!1)}function makeCatalystCursorPane(e,t){$("#"+e).html().length&&$("#"+e).append("<br>"),$("#"+e).append("<div id='"+t+"' class='spawnPotentialContainer roundedDiv stackerAltColorB'><a class='redX' href=\"javascript:removePassenger('"+t+"','"+entityIndex+"')\">&#9747;</a><div id='cursorPane"+entityIndex+"' class='entityWrapper'></div></div>"),createComponent(t,"pos",{type:"genericArrayOfType",cssClass:"fLabel100",labels:["x","y","z"],format:"special",tip:"sculk_catalyst",align:"R"},entityIndex),createComponent(t,"charge",{type:"text",cssClass:"fLabel100",format:"special",tip:"sculk_catalyst"},entityIndex),createComponent(t,"decay_delay",{type:"makeSelect",cssClass:"fLabel100",values:[0,1],hasUnset:!0,format:"special",tip:"sculk_catalyst"},entityIndex),createComponent(t,"update_delay",{type:"ticks",cssClass:"fLabel100",tip:"sculk_catalyst"},entityIndex),createComponent(t,"faceup",{label:"Facing Up",type:"cb",cssClass:"fLabel100",tip:"sculk_catalyst.facing"},entityIndex),createComponent(t,"facedown",{label:"Down",type:"cb",cssClass:"fLabel100"},entityIndex),createComponent(t,"facenorth",{label:"North",type:"cb",cssClass:"fLabel100"},entityIndex),createComponent(t,"facesouth",{label:"South",type:"cb",cssClass:"fLabel100"},entityIndex),createComponent(t,"faceeast",{label:"East",type:"cb",cssClass:"fLabel100"},entityIndex),createComponent(t,"facewest",{label:"West",type:"cb",cssClass:"fLabel100"},entityIndex),$("#"+t+" br:first").remove()}function makeAddEntityPane(e,t,a,o){var a=a||!1,n="";0!=entityIndex&&(n+=mkShowHide(t,t+"SH")),n+="<div id='"+t+"' class='"+o+" roundedDiv'>",0!=entityIndex&&(n+="<a class='redX' href=\"javascript:removePassenger('"+t+"','"+entityIndex+"')\">&#9747;</a>");for(var n=n+("<a class='redX' href=\"javascript:copyEntityNBT('"+entityIndex+"')\">Copy</a><a class='redX' href=\"javascript:pasteEntityNBT('"+entityIndex+"')\">Paste</a><br>")+("<span class='fLabel200'>Entity</span><select id='entity"+entityIndex+"' onchange='javascript:entityChange("+entityIndex+","+a+");'>"),s=0;s<entities.length;s++)n+="<option value='"+entities[s]+"'>"+entities[s]+"</option>";n+="</select><input type='text' id='entity"+entityIndex+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateEntitySelectOptions('#entity"+entityIndex+"',"+entityIndex+","+a+")\"><br><div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>",$("#"+e).html().length&&(n="<br>"+n),$("#"+e).append(n),$("#"+t).addClass(getAltCSSClass(e)),entityChange(entityIndex,a)}function getAltCSSClass(e){var t=$("#"+e).parents().map(function(){return this.id}).get();for(let e=0;e<t.length;e++)if(t[e].length){if($("#"+t[e]).hasClass("stackerAltColorA"))return"stackerAltColorB";if($("#"+t[e]).hasClass("stackerAltColorB"))return"stackerAltColorA"}return"stackerAltColorA"}function makeAddEntityPaneforSpawnEgg(e,t,a,o){for(var n=(n=mkShowHide(t,t+"SH")+"<div id='"+t+"' class='spawnPotentialContainer roundedDiv stackerAltColorB'>")+("<a class='redX' href=\"javascript:copyEntityNBT('"+entityIndex+"')\">Copy</a><a class='redX' href=\"javascript:pasteEntityNBT('"+entityIndex+"')\">Paste</a><br>")+("<span class='fLabel200'>Entity</span><select id='entity"+entityIndex+"' onchange='javascript:entityChangeSpawnEgg("+entityIndex+", true);'>"),s=0;s<entities.length;s++)n+="<option value='"+entities[s]+"'>"+entities[s]+"</option>";n=(n+="</select><input type='text' id='entity"+entityIndex+"_filter' placeholder='Filter' class='medTF' onkeyup=\"updateEntitySelectOptionsForSpawnEgg('#entity"+entityIndex+"', "+entityIndex+',false)">'+makeTip("spawn_egg","override")+"<br>")+"<div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>",$("#"+e).html().length&&(n="<br>"+n),$("#"+e).append(n),$("#entity"+entityIndex).val(o),entityChangeSpawnEgg(entityIndex,!0)}function entityChange(e,t){var a;$("#entityPane"+e).html("<div id='entityPane"+e+"L' class='entityL'></div><div id='entityPane"+e+"R' class='entityR'></div><div id='entityPane"+e+"B' class='entityB'></div>"),0==e&&"data merge entity"!=currentCommand&&"execute if entity"!=currentCommand&&"kill"!=currentCommand?($("#entityPane"+e+"L").append(makeCoords("Summon","Summon",!0,!0)),bindGenCom("Summon","keyup")):"data merge entity"!=currentCommand&&"execute if entity"!=currentCommand&&"kill"!=currentCommand||0==e&&loadTargetSelectors("entityPane"+e+"L",!(a="player"==$("#entity"+e).val()),a),entityDescriptors["e"+e]=loadEntityClass($("#entity"+e).val(),e),null!=entityDescriptors["e"+e]&&(t&&entityDescriptors["e"+e].addSpawnPotentialFields(e),entityDescriptors["e"+e].generateForm(),0==e&&"entitydata"!=currentCommand&&"data merge entity"!=currentCommand||$("#entityPane"+e+"L br:first").remove(),$("#entityPane"+e+"R br:first").remove()),cachedNBT.loadCachedEntityNBT(e),generateCommand()}function entityChangeSpawnEgg(e,t){$("#entityPane"+e).html("<div id='entityPane"+e+"L' class='entityL'></div><div id='entityPane"+e+"R' class='entityR'></div><div id='entityPane"+e+"B' class='entityB'></div>"),t&&createComponent("entityPane"+e,"Pos",{type:"genericArrayOfType",labels:["x","y","z"],defaults:[0,0,0],format:"special",tip:"spawn_egg",align:"R"},e),entityDescriptors["e"+e]=loadEntityClass($("#entity"+e).val(),e),entityDescriptors["e"+e].passengersAllowed=!1,entityDescriptors["e"+e].generateForm(),$("#entityPane"+e+"L br:first").remove(),$("#entityPane"+e+"R br:first").remove(),cachedNBT.loadCachedEntityNBT(e),generateCommand()}function updateEntitySelectOptionsForSpawnEgg(e,t){for(var a=$(e).val(),o=$(e+"_filter").val().toLowerCase(),n=[],s=0;s<entities.length;s++)0!=o.length&&-1==entities[s].toLowerCase().indexOf(o)&&-1==entities[s].toLowerCase().replaceAll("_"," ").indexOf(o.replaceAll("_"," "))||n.push('<option value="',entities[s],'">',entities[s],"</option>");$(e).html(n.join("")),a!=$(e).val()&&(cachedNBT.updateFilterLastUsed(),entityChangeSpawnEgg(t,!0))}function removePassenger(e,t){$("#"+e).parent().children("br:first").remove(),$("#"+e).remove(),$("#"+e+"SH").remove(),delete entityDescriptors["e"+t],generateCommand()}function setupItemTradeSlotForNBT(e,t,a){if(null!=t.id){var o=extractMinecraftID(t.id.val);if(null!=t.Damage&&$("#"+e+" option[value='"+o+":"+t.Damage.val+"']").length&&(o+=":"+t.Damage.val),$("#"+e).length)if($("#"+e).val(o),$("#"+e).trigger("change"),null!=t.Count?$("#"+e+"Count").val(parseInt(t.Count.val)):null!=t.count&&$("#"+e+"Count").val(parseInt(t.count.val)),null!=t.components)for(const n in t.components.val)loadComponentNBTIntoSlot(extractMinecraftID(n),o,e,{val:t.components.val[n].val});else null!=t.tag&&loadItemNBTIntoSlot(t,o,e,a);else{a=replaceAll(",tag{}","",a.traverseObjectToNBT(t,""));cachedNBT.setNBT(e,","+a),$("#"+e+"Pane > .itemNBT").remove(),$("#"+e+"itemPart").html("<div class='itemNBT'>{"+a+"}</div>")}}}function bindGenCom(e,t){$("#"+e).bind(t,function(){generateCommand()})}function loadPlayerUUID(e,t){var a;t.length?(t=JSON.parse(t).id,(a=new DataView(new ArrayBuffer(16))).setBigUint64(0,BigInt("0x"+t.substring(0,16)),!1),a.setBigUint64(8,BigInt("0x"+t.substring(16)),!1),$("#"+e+0).val(a.getInt32(0)),$("#"+e+1).val(a.getInt32(4)),$("#"+e+2).val(a.getInt32(8)),$("#"+e+3).val(a.getInt32(12)),generateCommand()):alertify.alert(playerName+" Not Found")}function createComponent(e,t,n,a){var o,s=n.id||t+a,i=n.eventClass||"",l=n.cssClass||"fLabel200",r="string"==n.format?"bigTF":n.fwClass||"medTF",c=n.label||t,p=n.value||"";if(-1!=e.indexOf("entityPane")&&(e+=n.align||"L"),"panel"==n.type)o=n.showHide?mkShowHide(n.panelID,n.panelID+"SH"):"",n.label?$("#"+e).append("<br><span class='"+l+"'>"+c+"</span>"+o+"<span id='"+n.panelID+"'></span>"):$("#"+e).append("<br>"+o+"<span id='"+n.panelID+"'></span>"),n.htmlContent&&$("#"+n.panelID).html(n.htmlContent);else{if($("#"+e).append("<br><span class='"+l+"'>"+c+"</span>"),"text"==n.type)$("#"+e).append("<input type='text'  value='"+p+"' id='"+s+"' class='"+i+" "+r+"'>"),bindGenCom(s,"keyup",i);else if("UUIDArray"==n.type){$("#"+e).append("<span id='"+s+"FourFields'></span>");for(let e=0;e<4;e++)$("#"+s+"FourFields").append("<input type='text' id='"+s+e+"' class='"+i+" medTF'>"),bindGenCom(s+e,"keyup",i);n.playerLookup&&($("#"+e).append("<span id='"+s+"LookUpContainer'></span>"),$("#"+s+"LookUpContainer").hide(),$("#"+s+"LookUpContainer").append("<input type='text' id='"+s+"lookupname' class='bigTF'><button id='"+s+"getUUID' title=\"This requires an active internet connection so that the UUID can be obtained from Mojang's API.\" class='greenPlus'>Get UUID</button><button id='"+s+"cancel' class='greenPlus'>Cancel</button>"),$("#"+s+"FourFields").append("<button id='"+s+"lookup' class='greenPlus'>Look up</button>"),$("#"+s+"lookup").bind("click",function(){n.dontReplaceLastLookup||$("#"+s+"lookupname").val(localStorage.playerLookup||""),$("#"+s+"LookUpContainer").show(),$("#"+s+"FourFields").hide(),$("#"+s+"getUUID").off().on("click",function(){var e;"undefined"!=typeof offlineMode?(e=localStorage.lastNameAndUUID||"",e=prompt("Open https://api.mojang.com/users/profiles/minecraft/"+$("#"+s+"lookupname").val()+" in a new tab and copy the text shown into the field below",e),localStorage.lastNameAndUUID=e,loadPlayerUUID(s,e),$("#"+s+"LookUpContainer").hide(),$("#"+s+"FourFields").show()):$.get("https://mcstacker.net/uuid_lookup.php?name="+$("#"+s+"lookupname").val(),function(e,t){loadPlayerUUID(s,e),$("#"+s+"LookUpContainer").hide(),$("#"+s+"FourFields").show(),n.loadTexture?$.get("https://mcstacker.net/texture_lookup.php?id="+JSON.parse(e).id,function(e,t){var a=JSON.parse(e),o=replaceAll("UUID","",s);if(null!=a.name&&$(`#${o}SkullOwner`).val(a.name),null!=a.properties)for(let e=0;e<a.properties.length;e++)null!=a.properties[e].name&&"textures"==a.properties[e].name&&null!=a.properties[e].value&&$(`#${o}Texture`).val(a.properties[e].value);generateCommand()}):generateCommand()})}),$("#"+s+"cancel").bind("click",function(){$("#"+s+"LookUpContainer").hide(),$("#"+s+"FourFields").show()})}))}else if("choice"==n.type){for(var d="",m=0;m<n.values.length;m++)d+="<option value='"+n.values[m][0]+"'>"+n.values[m][1]+"</option>";$("#"+e).append("<select id='"+s+"' class='"+i+"'>"+d+"</select>"),bindGenCom(s,"change")}else if("ticks"==n.type)$("#"+e).append("<input type='text' value='"+p+"' id='"+s+"' class='"+i+" "+r+"'>"+mkTicksSecs(s+"TT")),bindGenCom(s,"keyup");else if("choicetext"==n.type){$("#"+e).append("<input type='text'  value='"+p+"' id='"+s+"_txt' class='"+i+" "+r+"'>"),bindGenCom(s+"_txt","keyup");for(d="",m=0;m<n.values.length;m++)$.isArray(n.values[m])?d+="<option value='"+n.values[m][0]+"'>"+n.values[m][1]+"</option>":d+="<option value='"+n.values[m]+"'>"+n.values[m]+"</option>";$("#"+e).append("<select id='"+s+"_choice' class='"+i+"'>"+d+"</select>"),bindGenCom(s+"_choice","change")}else if("jsonFormats"==n.type){for(var g=["unset","true","false"],h=["bold","italic","underlined","strikethrough","obfuscated"],d="<table class='aTable' style='display:inline;position:relative;left:-80px'><tr><td></td><td width=40 align=left>Unset</td><td width=40 align=left>True</td><td width=40 align=left>False</td></tr>",_=0;_<h.length;_++){d+="<tr><td align='right'>"+(c=h[_].charAt(0).toUpperCase()+h[_].slice(1))+"</td>";for(m=0;m<g.length;m++)d+="<td><input type='radio' id='"+s+h[_]+g[m]+"' name='"+s+h[_]+"' value='"+g[m]+"' class='"+i+"' title='"+g[m]+"'></td>";$("#"+s+h[_]+g[0]).prop("checked",!0),d+="</tr>"}d+="</table>",$("#"+e).append(d);for(_=0;_<h.length;_++)$("#"+s+h[_]+g[0]).prop("checked",!0)}else if("makeSelect"==n.type){d="";null!=n.hasUnset&&n.hasUnset&&(d+="<option value='-1'>unset</option>");for(m=0;m<n.values.length;m++)d+="<option value='"+n.values[m]+"'>"+n.values[m]+"</option>";$("#"+e).append("<select id='"+s+"' class='"+i+"'>"+d+"</select>"),bindGenCom(s,"change")}else if("makeSelectWithIndexAndValues"==n.type){for(d="",m=0;m<n.values.length;m++)d+="<option value='"+n.values[m][0]+"'>"+n.values[m][1]+"</option>";$("#"+e).append("<select id='"+s+"' class='"+i+"'>"+d+"</select><input type='text' class='medTF' id='"+s+"_filter' placeholder='Filter'>"),bindGenCom(s,"change"),$("#"+s+"_filter").on("keyup",function(){for(var e=$("#"+s).val(),t=$("#"+s+"_filter").val().toLowerCase(),a=[],o=0;o<n.values.length;o++)0!=t.length&&-1==n.values[o][0].indexOf(t)||a.push('<option value="',n.values[o][0],'">',n.values[o][1],"</option>");0!=t.length&&0!=a.length||a.push('<option value="',n.values[0][0],'">',n.values[0][1],"</option>"),$("#"+s).html(a.join("")),e!=$("#"+s).val()&&$("#"+s).trigger("change")})}else if("makeSelectWithIndexes"==n.type)$("#"+e).append(""+makeSelectWithIndexes(s,n.values,null!=n.hasUnset&&n.hasUnset)),bindGenCom(s,"change");else if("colorChooser"==n.type)$("#"+e).append("<input type='checkbox' id='"+s+"_customcol' ><span id='"+s+"_colsettings'><input id='"+s+"_color' value='FF0000' onchange='generateCommand()'></span>"),n.hasAlpha&&($("#"+s+"_colsettings").append(" opacity<input type='text'  value='255' id='"+s+"_alpha' class='"+i+" "+r+"'>"),bindGenCom(s+"_alpha","keyup",i)),$("#"+s+"_customcol").bind("change",function(){enableCustomCol(s+"_customcol",s)}),new jscolor.color(document.getElementById(s+"_color"),{}).fromString("FF0000"),$("#"+s+"_colsettings").hide();else if("cb"==n.type)$("#"+e).append("<input type='checkbox' id='"+s+"' class='"+i+"'>"),bindGenCom(s,"change");else if("tileselect"==n.type){$("#"+e).append("<span id='"+s+"Pane' class='tileSelectControl'></span>");var u,b="<select id='"+s+"'>";for(u in itemsAndBlocks)"i"!=itemsAndBlocks[u].c&&(b+="<option value='"+u+"'>"+itemsAndBlocks[u].d+"</option>");for(const w of blockTags)b+="<option value='"+w+"'>"+w+"</option>";b+="</select><input type='text' id='"+s+"_filter' class='"+r+"' placeholder='Filter'><a href=\"javascript:addTile('"+s+"')\" class='greenPlus'>+</a><span id='"+s+"TilePane'></span>",$("#"+s+"Pane").append(b),$("#"+s+"_filter").bind("keyup",function(){updateTileSelectOptions("#"+s,!0)}),$("#"+s).bind("change",function(){generateCommand()})}else if("itemselectOnly"==n.type){var f,b="<select id='"+s+"'>";for(f in itemsAndBlocks)"t"!=itemsAndBlocks[f].c&&(b+="<option value='"+f+"'>"+itemsAndBlocks[f].d+"</option>");b+="</select><input type='text' id='"+s+"_filter' class='"+r+"' placeholder='Filter'>",$("#"+e).append(b),$("#"+s+"_filter").bind("keyup",function(){updateItemSelectOptions("#"+s)}),$("#"+s).bind("change",function(){generateCommand()})}else if("statusEffects"==n.type)$("#"+e).append(mkShowHide(s+"Pane",s+"SH")+"<div id='"+s+"Pane' class='AEControl roundedDiv'></div>"),makeStatusEffects(s+"Pane",s,n.showProbability),showHide(s+"Pane",s+"SH");else if("stewEffects"==n.type)$("#"+e).append(mkShowHide(s+"Pane",s+"SH")+"<div id='"+s+"Pane' class='AEControl roundedDiv'></div>"),makeStewEffects(s+"Pane",s);else if("passenger"==n.type)$("#"+e).append("<br><span style='display:inline;white-space: nowrap;'><a href=\"javascript:addPassenger('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='PassengerPane'></div></span>");else if("spawnData"==n.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addSpawnData('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='SpawnPotentialPane'></div></span>");else if("spawnPotential"==n.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addSpawnPotential('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='SpawnPotentialPane'></div></span>");else if("customNameJSON"==n.type)$("#"+e).append(mkShowHide(s+"EntityName",s+"EntityNameSH")+"<div id='"+s+"EntityName' class='roundedDiv JSONEditor'></div>"),createTellrawForm(s,a,"EntityName",n.complexOptions||!1),showHide(s+"EntityName",s+"EntityNameSH"),$("#"+s+"EntityName br:first").remove(),$("#"+s+"EntityName br:first").remove();else if("multiitem"==n.type)$("#"+e).append(mkShowHide(s+"MultiItemPane",s+"SH")+"<div id='"+s+"MultiItemPane' class='multiitemSelectControl roundedDiv'></div>"),$("#"+s+"MultiItemPane").append(makeButton("Add Item","addMultiItem('"+s+"MultiItemPane',"+(n.slotNumbers?1:0)+")","Targeted player must have all of these selected items in their inventory.")),n.wildcardSlots&&$("#"+s+"MultiItemPane").append(makeButton("Add Wildcard Slot","addWildcardSlot('"+s+"MultiItemPane')","Targeted player can have any item in specified slot")),n.hide&&showHide(s+"MultiItemPane",s+"SH");else if("itemselect"==n.type)$("#"+e).append(mkShowHide(s+"Pane",s+"SH")+"<div id='"+s+"Pane' class='itemSelectControl roundedDiv'></div>"),n.forceConstruct||settings.loadItemUI?(createItemSelectComponent(s,n,r,i,a,n.forceConstruct),null!=cachedNBT.getNBT(s)&&($("#"+s).val(cachedNBT.getItemType(s)),$("#"+s).trigger("change"))):closeItemSelectComponent(s,n,r,i,a),n.hide&&showHide(s+"Pane",s+"SH");else if("fwExplosion"==n.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addExplosion('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='ExplosionPane'></div></span>");else if("villTrade"==n.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addTrade('"+s+"Pane',"+a+")\" class='greenPlus'>+</a><div id='"+s+"Pane' class='TradePane'></div></span>");else if("gossips"==n.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addGossip('"+s+"Pane',"+a+")\" class='greenPlus'>+</a><div id='"+s+"Pane' class='GossipPane'></div></span>");else if("genericArrayOfType"==n.type){$("#"+e).append("<span style='display:inline;white-space: nowrap;'><div id='"+s+"Pane' style='display:inline-block'></div></span>");for(m=0;m<n.labels.length;m++)$("#"+s+"Pane").append("&nbsp;"+n.labels[m]+" <input type='text' id='"+s+n.labels[m]+"' class='"+i+" "+r+"'> "),bindGenCom(s+n.labels[m],"keyup",i)}else if("memories"==n.type){$("#"+e).append("<span style='display:inline;white-space: nowrap;'>"+mkShowHide(s+"Pane",s+"PaneSH")+"<div id='"+s+"Pane' class='roundedDiv'></div>");for(var v=["meeting_point","home","job_site"],m=0;m<v.length;m++){var y=s+v[m];$("#"+s+"Pane").append("<div id="+y+" class='MemoriesControl roundedDiv'>"+v[m]+"</div>"),createComponent(y,"dimension",{id:y+"Dim",type:"makeSelect",values:["overworld","the_end","the_nether"],format:"special",cssClass:"fLabel70",tip:"memories",align:"R"},a),createComponent(y,"X",{id:y+"X",type:"text",format:"int",cssClass:"fLabel70",tip:"memories"},a),createComponent(y,"Y",{id:y+"Y",type:"text",format:"int",cssClass:"fLabel70"},a),createComponent(y,"Z",{id:y+"Z",type:"text",format:"int",cssClass:"fLabel70"},a)}showHide(s+"Pane",s+"PaneSH")}else if("beeforHive"==n.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addBee('"+s+"Pane')\" class='greenPlus'>+</a><div id='"+s+"Pane' class='BeePane'></div></span>");else if("cursorsForCatalyst"==n.type)$("#"+e).append("<span style='display:inline;white-space: nowrap;'><a href=\"javascript:addCatalystCursor('"+s+"Pane')\" class='greenPlus'>+</a>"+makeTip("sculk_catalyst.cursors")+"<div id='"+s+"Pane' class='BeePane'></div></span>");else if("itemForRecipes"==n.type){$("#"+e).append("<span id='"+s+"Pane' class='tileSelectControl'></span>");b="<select id='"+s+"'>";b+="</select><input type='text' id='"+s+"_filter' class='"+r+"' placeholder='Filter'><a href=\"javascript:addTile('"+s+"')\" class='greenPlus'>+</a>"+makeTip("item.Recipes")+"<br><span class='fLabel100'>Custom Recipe</span><input type='text' id='"+s+"Custom' class='verybigTF'><a href=\"javascript:addCustomRecipe('"+s+"')\" class='greenPlus'>+</a>"+makeTip("item.CustomRecipes")+"<br><span id='"+s+"TilePane'></span>",$("#"+s+"Pane").append(b),$("#"+s+"_filter").bind("keyup",function(){updateItemSelectForRecipes("#"+s)}),updateItemSelectForRecipes("#"+s)}else if("RecipesUsed"==n.type){$("#"+e).append("<span id='"+s+"Pane' class='tileSelectControl'></span>");var k,b="<select id='"+s+"'>";for(k in itemsAndBlocks)"t"!=itemsAndBlocks[k].c&&(b+="<option value='"+k+"'>"+itemsAndBlocks[k].d+"</option>");b+="</select><input type='text' id='"+s+"_filter' class='"+r+"' placeholder='Filter'><a href=\"javascript:addRecipesUsed('"+s+"')\" class='greenPlus'>+</a><span id='"+s+"TilePane'></span>",$("#"+s+"Pane").append(b),$("#"+s+"_filter").bind("keyup",function(){updateItemSelectForRecipesUsed("#"+s)})}null!=n.tip&&$("#"+e).append(makeTip(n.tip,t))}}function jsonHexColorUpdate(e,t){"Hex Code"==$("#"+e+"color").val()?$("#"+e+"_colsettings").show():$("#"+e+"_colsettings").hide(),("book"==t?bookUpdate:"sign"==t?signUpdate:tellrawUpdate)(e)}function addMultiItem(e,t){for(var a=0;$("#"+e+"_"+a).length;)a++;var o=e+"_"+a;createComponent(e,o+"Slot",{type:"itemselect",format:"special",cssClass:"fLabel40",label:"Item",id:o,forceConstruct:!0,hasSlot:t},-1)}function addWildcardSlot(e){for(var t=0;$("#"+e+"_"+t).length;)t++;var a=e+"_"+t;$("#"+e).append("<div id='"+a+"Panel' class='wildcardSlot'></div>"),createComponent(a+"Panel",a+"Slot",{type:"text",format:"special",cssClass:"fLabel40",label:"Slot ",id:a,tip:"item.slotwildcard"},-1),$("#"+a+"Panel").append("<a class='redX' href=\"javascript:removeContainer('"+a+"Panel')\">&#9747;</a>"),$("#"+a+"Panel br:first").remove()}function closeItemSelectComponent(t,a,o,n,s){$("#"+t+"Pane").html("<button id='createItemUI_"+t+"'class='showHide'>Edit Item</button><div id='"+t+"itemPart'></div><div id='"+t+"dropChancePart'></div>"),$("#createItemUI_"+t).bind("click",function(){createItemSelectComponent(t,a,o,n,s,!1);var e=cachedNBT.getCollapsedItem(t);null!=e&&(cachedNBT.copyCollapsedToNBT(t,e),$("#"+t).val(cachedNBT.getItemType(t)),$("#"+t).trigger("change"))});var e=cachedNBT.getNBT(t);cachedNBT.setCollapsedItem(item,e),null!=e&&($("#"+t+"itemPart").html("<div class='itemNBT'>"+e+"</div>"),null!=cachedNBT.dropChance[t]&&""!=cachedNBT.dropChance[t]?$("#"+t+"dropChancePart").html("Drop Chance="+cachedNBT.dropChance[t]):$("#"+t+"dropChancePart").html(""))}function isDurable(e){return e in durabilities}function createItemSelectComponent(n,s,e,t,i,a){var o,l="<span class='fLabel100'>Item</span><select id='"+n+"'>";for(o in itemsAndBlocks)"t"!=itemsAndBlocks[o].c&&(l+="<option value='"+o+"'>"+itemsAndBlocks[o].d+"</option>","-1"==o)&&s.addNoneAfterUnset&&(l+="<option value='none'>none</option>");l+="</select><input type='text' class='"+e+"' id='"+n+"_filter' placeholder='Filter'><a class='redX' href=\"javascript:unsetItem('"+n+"')\">&#9747;</a><a class='redX' href=\"javascript:copyItemNBT('"+n+"')\">Copy</a><a class='redX' href=\"javascript:pasteItemNBT('"+n+"')\">Paste</a>",a||(l+="<button id='closeItemUI_"+n+"' class='showHide'>Close Item</button>"),l+="<div id='"+n+"ItemPane'></div>",$("#"+n+"Pane").html(l),a||$("#closeItemUI_"+n).bind("click",function(){getItemNBT(n);closeItemSelectComponent(n,s,e,t,i)}),$("#"+n+"_filter").bind("keyup",function(){updateItemSelectOptions("#"+n)}),$("#"+n).bind("change",function(){if($("#"+n+"ItemPane").html(""),"-1"!=$("#"+n).val()){var e=cachedNBT.getNBT(n);if(null!=s.doDropChance&&s.doDropChance&&(createComponent(n+"ItemPane","DropChance",{id:n+"DropChance",type:"text",cssClass:"fLabel100",tip:"item.DropChance"},i),null!=cachedNBT.dropChance[n])&&$("#"+n+"DropChance").val(cachedNBT.dropChance[n]),null==s.noCount&&createComponent(n+"ItemPane","count",{id:n+"Count",type:"text",cssClass:"fLabel100",tip:"item.Count"},i),createComponent(n+"ItemPane","max_stack_size",{id:n+"max_stack_size",type:"text",cssClass:"fLabel100",tip:"item.max_stack_size"},i),1==s.hasSlot&&createComponent(n+"ItemPane","Slot",{id:n+"Slot",type:"text",cssClass:"fLabel100",tip:"item.Slot"},i),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>custom_name</span>"+mkShowHide(n+"CustomName",n+"CustomNameSH")+"<div id='"+n+"CustomName' class='roundedDiv JSONEditor'></div>"+makeTip("item.custom_name")),createTellrawForm(n,i,"CustomName",!1,"CustomName"),hide(n+"CustomName",n+"CustomNameSH"),$("#"+n+"CustomName br:first").remove(),$("#"+n+"CustomName br:first").remove(),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>item_name</span>"+mkShowHide(n+"ItemName",n+"ItemNameSH")+"<div id='"+n+"ItemName' class='roundedDiv JSONEditor'></div>"+makeTip("item.item_name")),createTellrawForm(n,i,"ItemName",!1,"ItemName"),hide(n+"ItemName",n+"ItemNameSH"),$("#"+n+"ItemName br:first").remove(),$("#"+n+"ItemName br:first").remove(),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>lore</span>"+mkShowHide(n+"Lore",n+"LoreSH")+"<div id='"+n+"Lore' class='roundedDiv JSONEditor'></div>"+makeTip("item.lore")),createTellrawForm(n,i,"Lore",!1,"Lore"),hide(n+"Lore",n+"LoreSH"),$("#"+n+"ItemPane br:first").remove(),createComponent(n+"ItemPane","max_damage",{id:n+"max_damage",type:"text",cssClass:"fLabel100",tip:"item.max_damage"},i),createComponent(n+"ItemPane","damage",{id:n+"Damage",type:"text",cssClass:"fLabel100",tip:"item.Damage"},i),$("#"+n).val()in durabilities&&$("#"+n+"ItemPane").append("max "+durabilities[$("#"+n).val()]),createComponent(n+"ItemPane","repair_cost",{id:n+"RepairCost",type:"text",cssClass:"fLabel100",tip:"item.RepairCost"},i),createComponent(n+"ItemPane","unbreakable",{id:n+"Unbreakable",type:"choice",values:unsetTrueFalse,format:"b",cssClass:"fLabel100",tip:"item.Unbreakable"},i),createComponent(n+"ItemPane","show_in_tooltip",{id:n+"unbreak_show_in_tooltip",cssClass:"fLabel100",type:"choice",values:unsetTrueFalse,format:"b",tip:"unbreakable.show_in_tooltip"},0),$("#"+n+"ItemPane br:last").remove(),createComponent(n+"ItemPane","fire_resistant",{id:n+"fire_resistant",type:"choice",values:unsetTrueFalse,format:"b",cssClass:"fLabel100",tip:"item.fire_resistant"},i),createComponent(n+"ItemPane","rarity",{id:n+"rarity",type:"makeSelect",values:["common","uncommon","rare","epic"],format:"b",hasUnset:!0,cssClass:"fLabel100",tip:"item.rarity"},i),createComponent(n+"ItemPane","custom_model_data",{id:n+"CustomModelData",type:"text",cssClass:"fLabel100",tip:"item.CustomModelData",fwClass:"verybigTF"},i),createComponent(n+"ItemPane","custom_data",{id:n+"CustomTags",type:"text",cssClass:"fLabel100",tip:"item.CustomTags",fwClass:"verybigTF"},i),createComponent(n+"ItemPane","hide_tooltip",{id:n+"hide_tooltip",type:"choice",values:unsetTrueFalse,format:"b",cssClass:"fLabel100",tip:"item.hide_tooltip"},i),createComponent(n+"ItemPane","hide_additional_tooltip",{id:n+"hide_additional_tooltip",type:"choice",values:unsetTrueFalse,format:"b",cssClass:"fLabel100",tip:"item.hide_additional_tooltip"},i),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>can_place_on</span>"+mkShowHide(n+"cpoPanel",n+"cpoPanelSH")+"<div id='"+n+"cpoPanel' class='roundedDiv AMControl'></div>"+makeTip("item.CanPlaceOn")),createComponent(n+"cpoPanel","can_place_on",{id:n+"CanPlaceOn",type:"tileselect",cssClass:"fLabel100",tip:"item.AddCanPlaceOn"},i),createComponent(n+"cpoPanel","show_in_tooltip",{id:n+"can_place_on_show_in_tooltip",cssClass:"fLabel100",type:"choice",values:unsetTrueFalse,format:"b",tip:"can_place_on.show_in_tooltip"},i),hide(n+"cpoPanel",n+"cpoPanelSH"),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>can_break</span>"+mkShowHide(n+"cbPanel",n+"cbPanelSH")+"<div id='"+n+"cbPanel' class='roundedDiv AMControl'></div>"+makeTip("item.CanDestroy")),createComponent(n+"cbPanel","can_break",{id:n+"CanDestroy",type:"tileselect",cssClass:"fLabel100",tip:"item.AddCanDestroy"},i),createComponent(n+"cbPanel","show_in_tooltip",{id:n+"can_break_show_in_tooltip",cssClass:"fLabel100",type:"choice",values:unsetTrueFalse,format:"b",tip:"can_break.show_in_tooltip"},i),hide(n+"cbPanel",n+"cbPanelSH"),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>enchantments</span>"+mkShowHide(n+"Enchantments",n+"EnchantmentsSH")+"<div id='"+n+"Enchantments' class='EnchantmentsControlSingle roundedDiv'></div>"+makeTip("item.enchantments_max")),makeEnchantments(n+"Enchantments",!1,$("#"+n).val()),hide(n+"Enchantments",n+"EnchantmentsSH"),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>food</span>"+mkShowHide(n+"Food",n+"FoodSH")+"<div id='"+n+"Food' class='roundedDiv AMControl'></div>"+makeTip("item.food")),makeFoodUI(n+"Food"),hide(n+"Food",n+"FoodSH"),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>jukebox_playable</span>"+mkShowHide(n+"JukePlayable",n+"JukePlayableSH")+"<div id='"+n+"JukePlayable' class='roundedDiv AMControl'></div>"+makeTip("item.jukebox_playable")),makeJukePlayableUI(n+"JukePlayable"),hide(n+"JukePlayable",n+"JukePlayableSH"),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>tool</span>"+mkShowHide(n+"Tool",n+"ToolSH")+"<div id='"+n+"Tool' class='roundedDiv AMControl'></div>"+makeTip("item.tool")),makeToolUI(n+"Tool"),hide(n+"Tool",n+"ToolSH"),$("#"+n+"ItemPane").append("<br><span class='fLabel100'>attribute_modifiers</span>"+mkShowHide(n+"AM",n+"AMSH")+"<div id='"+n+"AM' class='roundedDiv AMControl'></div>"+makeTip("item.AttributeModifiers")),makeAMUI(n+"AM"),hide(n+"AM",n+"AMSH"),$("#"+n).val()in blockStates&&-1==itemIgnoreBlockStates.indexOf($("#"+n).val())){$("#"+n+"ItemPane").append("<br><span class='fLabel100'>block_state</span>"+mkShowHide(n+"BlockStates",n+"BlockStatesSH")+"<div id='"+n+"BlockStates' class='AEControl roundedDiv'></div>"+makeTip("item.BlockStates")),hide(n+"BlockStates",n+"BlockStatesSH");var t,a=blockStates[$("#"+n).val()];for(t in a){var o=a[t].slice();$.isArray(o[0])?(o.unshift(["unset","unset"]),createComponent(n+"BlockStates",t,{id:t+n,cssClass:"fLabel100",type:"choice",values:o},i)):(o.unshift("unset"),createComponent(n+"BlockStates",t,{id:t+n,cssClass:"fLabel100",type:"makeSelect",values:o},i))}$("#"+n+"BlockStates br:first").remove()}loadItemSpecificOptions(n,i),null!=e&&(cachedNBT.nbt[n]=e,cachedNBT.loadCachedItemNBT(n))}else delete cachedNBT.nbt[n];generateCommand()})}function makeTip(e,t){return"<a href=\"javascript:showTip('"+(-1==e.indexOf(".")?e+"."+t:e)+"')\" class='greenPlus' tabindex='-1'>?</a>"}function showTip(e){$("#dialogbox").load("tips/en/"+e+".txt",function(e,t){"success"==t?(t=200<$("#dialogbox").height()?200:$("#dialogbox").height(),zIndex++,$("#dialogbox").css({top:mouse.y-t,left:mouse.x,"max-height":200,"overflow-y":"auto","z-index":zIndex}),$("#dialogbox").show(),$("#dialogbox").has("a").length||($("#dialogbox").focus(),$("#dialogbox").blur(function(){$("#dialogbox").hide()})),$("#dialogbox").prepend("<a href=\"javascript:hideTip()\" class='redX' style='float:right;'>X</a>")):$("#dialogbox").hide()})}function hideTip(){$("#dialogbox").hide()}function addTrade(e){for(var t=0;$("#"+e+"_Trade_"+t).length;)t++;var a=e+"_Trade_"+t;$("#"+e).append("<div id='"+a+"' class='trade roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a><a class='redX' href=\"javascript:copyTradeNBT('"+a+"')\">Copy Trade</a><a class='redX' href=\"javascript:pasteTradeNBT('"+a+"')\">Paste Trade</a><a class='redX' href=\"javascript:moveTrade('"+a+"',-1)\">&#8679;</a><a class='redX' href=\"javascript:moveTrade('"+a+"',1)\">&#8681;</a></div>"),createComponent(a,"rewardExp",{id:a+"rewardExp",type:"choice",values:unsetTrueFalse,format:"b",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"maxUses",{id:a+"maxUses",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"uses",{id:a+"uses",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"xp",{id:a+"xp",type:"text",format:"int",cssClass:"fLabel70",tip:"villager.xp_"},-1),createComponent(a,"priceMultiplier",{id:a+"priceMultiplier",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"specialPrice",{id:a+"specialPrice",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"demand",{id:a+"demand",type:"text",format:"int",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"buy",{id:a+"buy",type:"itemselect",format:"special",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"buyB",{id:a+"buyB",type:"itemselect",format:"special",cssClass:"fLabel70",tip:"villager"},-1),createComponent(a,"sell",{id:a+"sell",type:"itemselect",format:"special",cssClass:"fLabel70",tip:"villager"},-1),generateCommand()}function addGossip(e){for(var t=0;$("#"+e+"_"+t).length;)t++;var a=e+"_"+t;$("#"+e).append("<div id='"+a+"' class='gossip roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a></div>"),createComponent(a,"Type",{id:a+"Type",type:"makeSelect",values:["major_negative","minor_negative","major_positive","minor_positive","trading","golem"],format:"special",cssClass:"fLabel70",tip:"gossip"},-1),createComponent(a,"Value",{id:a+"Value",type:"text",format:"int",cssClass:"fLabel70",tip:"gossip"},-1),createComponent(a,"Target",{id:a+"Target",type:"UUIDArray",format:"intArray",cssClass:"fLabel70",playerLookup:!0,tip:"gossip"},-1),generateCommand()}function makeToolUI(e){createComponent(e,"default_mining_speed",{id:e+"default_mining_speed",type:"text",cssClass:"fLabel100",tip:"tool.default_mining_speed"},-1),createComponent(e,"damage_per_block",{id:e+"damage_per_block",type:"text",cssClass:"fLabel100",tip:"tool.damage_per_block"},-1),$("#"+e).append("<br><span class='fLabel100'>rules</span><span style='display:inline;white-space: nowrap;'><a href=\"javascript:addToolRule('"+e+"Pane')\" class='greenPlus'>+</a>"+makeTip("tool.rules")+"<div id='"+e+"Pane' class='ToolRulePane'></div></span>")}function addToolRule(e){for(var t=0;$("#"+e+"_"+t).length;)t++;var a=e+"_"+t;$("#"+e).append("<div id='"+a+"' style='display:block;margin-bottom:2px;' class='toolrule roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a></div>"),createComponent(a,"blocks",{id:a+"Blocks",type:"tileselect",cssClass:"fLabel100",tip:"tool.blocks"},-1),createComponent(a,"speed",{id:a+"speed",type:"text",cssClass:"fLabel100",tip:"tool.speed"},-1),createComponent(a,"correct_for_drops",{id:a+"correct_for_drops",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",tip:"tool.correct_for_drops"},-1)}function makeJukePlayableUI(e){createComponent(e,"song",{id:e+"song",type:"text",fwClass:"bigTF",cssClass:"fLabel100",tip:"jukebox_playable.song"},-1),createComponent(e,"show_in_tooltip",{id:e+"show_in_tooltip",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",tip:"jukebox_playable.show_in_tooltip"},-1)}function makeFoodUI(e){createComponent(e,"nutrition",{id:e+"nutrition",type:"text",cssClass:"fLabel100",tip:"food.nutrition"},-1),createComponent(e,"saturation",{id:e+"saturation",type:"text",cssClass:"fLabel100",tip:"food.saturation"},-1),createComponent(e,"can_always_eat",{id:e+"can_always_eat",type:"choice",values:unsetTrueFalse,cssClass:"fLabel100",tip:"food.can_always_eat"},-1),createComponent(e,"eat_seconds",{id:e+"eat_seconds",type:"text",cssClass:"fLabel100",tip:"food.eat_seconds"},-1),createComponent(e,"effects",{id:e+"CustomPotionEffects",cssClass:"fLabel100",type:"statusEffects",showProbability:!0,format:"special",tip:"food.effects"},-1),createComponent(e,"using_converts_to",{id:e+"using_converts_to",cssClass:"fLabel100",type:"itemselect",format:"special",hide:!0,tip:"food.using_converts_to"},-1)}function addExplosion(e,t){for(var a=0;$("#"+e+"_exp_"+a).length;)a++;var o=e+"_exp_"+a;$("#"+e).append("<div id='"+o+"' class='explosion roundedDiv'></div>"),null==t&&$("#"+o).append("<a class='redX' href=\"javascript:removeContainer('"+o+"')\">&#9747;</a>"),createComponent(o,"Type",{id:o+"Type",type:"makeSelect",values:explosionShapes,format:"short",cssClass:"fLabel70",tip:"fireworks_rocket"},-1),createComponent(o,"Twinkle",{id:o+"Flicker",type:"cb",format:"b",cssClass:"fLabel70",tip:"fireworks_rocket.Flicker"},-1),createComponent(o,"Trail",{id:o+"Trail",type:"cb",format:"b",cssClass:"fLabel70",tip:"fireworks_rocket"},-1),$("#"+o).append("<br><span class='fLabel70'>Colors</span><a href=\"javascript:addFWColor('"+o+"Colors')\" class='greenPlus'>+</a><div id='"+o+"Colors' class='ExplosionPane'></div>"+makeTip("fireworks_rocket","Colors")+"</span>"),$("#"+o).append("<br><span class='fLabel70'>FadeColors</span><a href=\"javascript:addFWColor('"+o+"FadeColors')\" class='greenPlus'>+</a><div id='"+o+"FadeColors' class='ExplosionPane'></div>"+makeTip("fireworks_rocket","FadeColors")+"</span>"),null!=t&&$("#"+o+" br:first").remove(),generateCommand()}function addFWColor(e){for(var t=0;$("#"+e+"_col_"+t).length;)t++;var a=e+"_col_"+t;$("#"+e).append("<span class='fwColor' id='"+a+"'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a><input id='"+a+"_colour' value='FF0000' class='medTF'><span>"),new jscolor.color(document.getElementById(a+"_colour"),{}).fromString("FF0000"),bindGenCom(a+"_colour","change"),generateCommand()}function removeContainer(e){$("#"+e).remove(),generateCommand()}function makeStewEffects(e,t){var a=`<span>Choose Effect</span><select id='${t}_effect'></select><input type='text' id='${t}_effect_filter' placeholder='Filter' class='medTF' onkeyup="updateEffectSelect('${t}_effect')"><button id='${t}_add_effect' class="mButton">Add Effect</button><table class='aTable' id='${t}_Table'><tr><td style='text-align:right;'>Effect&nbsp;&nbsp;&nbsp;&nbsp;</td><td colspan=2>Duration ${makeTip("status_effect","duraction")}</td></tr>`;$("#"+e).append(a+"</table>"),$(`#${t}_Table`).hide(),loadEffectOptions(t+"_effect"),$(`#${t}_add_effect`).on("click",function(){null!=$(`#${t}_effect`).val()&&addStewEffectFromUIorImport(t,$(`#${t}_effect`).val())})}function makeStatusEffects(e,t,a){var o=`<span>Choose Effect</span><select id='${t}_effect'></select><input type='text' id='${t}_effect_filter' placeholder='Filter' class='medTF' onkeyup="updateEffectSelect('${t}_effect')"><button id='${t}_add_effect' class="mButton">Add Effect</button><table class='aTable' id='${t}_Table'><tr><td style='text-align:right;'>Effect&nbsp;&nbsp;&nbsp;&nbsp;</td>`,n=("execute if entity"==currentCommand&&(o+=`<td>Detect${makeTip("status_effect","detect")}</td>`),null!=a?`<td>Probability${makeTip("status_effect","probability")}</td>`:""),o=(o+=n)+`<td>Amplifier${makeTip("status_effect","amplifier")}</td><td colspan=2>Duration${makeTip("status_effect","duration")}</td><td>Show Particles${makeTip("status_effect","show_particles")}</td><td>Show Icon${makeTip("status_effect","show_icon")}</td><td>Ambient${makeTip("status_effect","ambient")}</td></tr>`;$("#"+e).append(o+"</table>"),$(`#${t}_Table`).hide(),loadEffectOptions(t+"_effect"),$(`#${t}_add_effect`).on("click",function(){null!=$(`#${t}_effect`).val()&&addEffectFromUIorImport(t,$(`#${t}_effect`).val(),n)})}function addStewEffectFromUIorImport(e,t){$(`#${e}_eff_`+t).length||($(`#${e}_Table`).append(`<tr id='${e}_eff_${t}' class='effectRow'><td align='right'>${t}</td>
		<td><input type='text' class='medTF' id='${e}Ticks_${t}'></td><td>${mkTicksSecs(e+"Ticks_"+t+"TT")}</td><td><button id='${e}_remove_${t}' class="redX">X</button></td></tr>`),bindGenCom(e+"Ticks_"+t,"keyup"),$(`#${e}_remove_`+t).on("click",function(){$(`#${e}_eff_`+t).remove(),$("#"+e+"_Table > tbody > .effectRow").length||$(`#${e}_Table`).hide(),generateCommand()}),$(`#${e}_Table`).show())}function addEffectFromUIorImport(e,t,a){let o=0;for(;$("#"+e+"_eff_"+o).length;)o++;var n="<option value='-1'>unset</option><option value='1b'>Yes</option><option value='0b'>No</option>",s="execute if entity"==currentCommand?"<td><input type='checkbox' id='"+e+"Detect_"+o+"'></td>":"",i=null!=a&&a.length?`<td><input type='text' class='smallTF' id='${e}Prob_${o}'></td>`:"";return $(`#${e}_Table`).append(`<tr id='${e}_eff_${o}' class='effectRow'><td align='right'><input type='hidden' id='${e}Type_${o}' value='${t}'>${t}</td>${s}${i}<td><input type='text' class='smallTF' id='${e}Amp_${o}'></td>
	<td><input type='text' class='medTF' id='${e}Ticks_${o}'></td><td>${mkTicksSecs(e+"Ticks_"+o+"TT")}</td>
	<td><select id='${e}ShowParticles_${o}'>${n}</select></td><td><select id='${e}ShowIcon_${o}'>${n}</select></td><td><select id='${e}ambient_${o}'>${n}</select><button id='${e}_remove_${o}' class="redX">X</button></td></tr>`),null!=a&&a.length&&bindGenCom(e+"Prob_"+o,"keyup"),bindGenCom(e+"Amp_"+o,"keyup"),bindGenCom(e+"Ticks_"+o,"keyup"),bindGenCom(e+"ShowParticles_"+o,"change"),bindGenCom(e+"Detect_"+o,"change"),bindGenCom(e+"ShowIcon_"+o,"change"),bindGenCom(e+"ambient_"+o,"change"),$(`#${e}_remove_`+o).on("click",function(){$(`#${e}_eff_`+o).remove(),$("#"+e+"_Table > tbody > .effectRow").length||$(`#${e}_Table`).hide(),generateCommand()}),$(`#${e}_Table`).show(),o}function loadEffectOptions(e){for(var t=[],a=0;a<statusEffectsArray.length;a++)t.push('<option value="',statusEffectsArray[a],'">',statusEffectsArray[a],"</option>");$("#"+e).html(t.join(""))}function updateEffectSelect(e){$("#"+e).val();for(var t=$("#"+e+"_filter").val(),a=[],o=0;o<statusEffectsArray.length;o++)0!=t.length&&-1==statusEffectsArray[o].indexOf(t)||a.push('<option value="',statusEffectsArray[o],'">',statusEffectsArray[o],"</option>");$("#"+e).html(a.join(""))}function mkTicksSecs(e){return"<a id='"+e+"' href=\"javascript:toggleTicks('"+e+"')\" class='ticks'>Ticks</a>"}function toggleTicks(e){"Ticks"==$("#"+e).html()?$("#"+e).html("Seconds"):$("#"+e).html("Ticks"),generateCommand()}function mkShowHide(e,t){return"<a id='"+t+"' href=\"javascript:showHide('"+e+"','"+t+"')\" class='showHide'><span>H</span></a>"}function showHide(e,t){($("#"+e).is(":visible")?hide:show)(e,t)}function hide(e,t){$("#"+e+", #"+t).addClass("hiding").removeClass("shown"),$("#"+e).hide(),$("#"+t).html("<span>S</span>")}function show(e,t){$("#"+e+", #"+t).addClass("shown").removeClass("hiding"),$("#"+e).show(),$("#"+t).html("<span>H</span>")}function addPassenger(e){makeAddEntityPane(e,"passengerEntity_"+ ++entityIndex,!1,"passengerContainer")}function addSpawnPotential(e){makeAddEntityPane(e,"spawnPotentialEntity_"+ ++entityIndex,!0,"spawnPotentialContainer")}function addSpawnData(e){let t=0;$(`#${e} > .spawnDataContainer`).each(function(e){t++}),t||makeAddEntityPane(e,"spawnPotentialEntity_"+ ++entityIndex,!0,"spawnDataContainer")}function addCatalystCursor(e){makeCatalystCursorPane(e,"beeEntity_"+ ++entityIndex)}function addBee(e){makeAddBeePane(e,"beeEntity_"+ ++entityIndex)}function enableCustomCol(e,t){$("#"+e).is(":checked")?$("#"+t+"_colsettings").show():$("#"+t+"_colsettings").hide(),generateCommand()}function randomiseAM_ID(e){$("#"+e+"table .amRow").each(function(){var e=this.id.substr(0,this.id.lastIndexOf("_"));$("#"+e+"_id").val(getRandomUUIDv4())}),checkAMconflicts(e)}function addAM(e,t){for(var a=0;$("#"+e+"_"+a+"_rowNum").length;)a++;for(var o=e+"_"+a,n="<tr id='"+o+"_rowNum' class='amRow'><td><select id='"+o+"_mods'>",s=0;s<attributeModifiers116.length;s++)n+="<option value='"+attributeModifiers116[s]+"'>"+attributeModifiers116[s]+"</option>";if(n=(n+="</select></td><td><input type='text' class='bigTF'  id='"+o+"_id'></td><td><input type='text' class='medTF'  id='"+o+"_amount' value='1'></td><td>"+makeSelect(o+"_operation",["add_value","add_multiplied_base","add_multiplied_total"],!1)+"</td><td>"+makeSelect(o+"_slot",amSlots)+"</td><td>")+("<a href=\"javascript:removeAM('"+o+"_rowNum','"+e+"')\" class='redX'>&#9747;</a></td></tr>"),$("#"+e+"table > tbody:last-child").append(n),convertHexUUIDToArray(o+"_UUID",getRandomUUIDv4()),$("#"+o+"_mods").bind("change",function(){$("#"+o+"_id").val($("#"+o+"_mods").val()),checkAMconflicts(e)}),$("#"+o+"_id").bind("keyup",function(){checkAMconflicts(e)}),$("#"+o+"_amount").bind("keyup",function(){checkAMconflicts(e)}),$("#"+o+"_operation").bind("change",function(){checkAMconflicts(e)}),$("#"+o+"_slot").bind("change",function(){checkAMconflicts(e)}),$("#"+o+"_mods").trigger("change"),t)return a}function removeAM(e,t){$("#"+e).remove(),checkAMconflicts(t)}function checkAMconflicts(e){var o="",n={},s=[];$("#"+e+"table .amRow").each(function(){var e=this.id.substr(0,this.id.lastIndexOf("_")),t=$("#"+e+"_id").val()+"_"+$("#"+e+"_slot").val(),a=$("#"+e+"_id").val()+"_Any";t in n||a in n||-1!=s.indexOf($("#"+e+"_id").val())&&"Any"==$("#"+e+"_slot").val()?($("#"+e+"_rowNum").addClass("amErrorRow"),o="Attribute Modifiers highlighted in red are in conflict with another modifier. You should give each a unique ID"):($("#"+e+"_rowNum").removeClass("amErrorRow"),n[t]=e+"_rowNum"),s.push($("#"+e+"_id").val())}),0<o.length?($("#"+e+"_errors").html(o),$("#"+e+"_errors").addClass("amErrorMessage")):($("#"+e+"_errors").html(""),$("#"+e+"_errors").removeClass("amErrorMessage")),generateCommand()}function makeAMUI(e){$("#"+e).append(makeButton("Add Attribute Modifier","addAM('"+e+"',false)","Click to add and Attribute Modifier")+makeButton("Randomize IDs","randomiseAM_ID('"+e+"')","Randomize IDs to prevent conflicts")),createComponent(e,"show_in_tooltip",{id:e+"show_in_tooltip",cssClass:"dummy",type:"choice",values:unsetTrueFalse,format:"b",tip:"attributes.show_in_tooltip"},0),$("#"+e).append("<table class='aTable' id='"+e+"table'><tr id='"+e+"_head'><th>Attribute</th><th>ID</th><th>Amount</th><th>Operation</th><th colspan=2>Slot</th></tr></table><span id='"+e+"_errors'></span>")}function makeSelect(e,t){for(var a="<select id='"+e+"'>",o=0;o<t.length;o++)a+="<option value='"+t[o]+"'>"+t[o]+"</option>";return a+"</select>"}function makeSelectWithIndexes(e,t,a){var o="<select id='"+e+"'>";a&&(o+="<option value='-1'>unset</option>");for(var n=0;n<t.length;n++)o+="<option value='"+n+"'>"+t[n]+"</option>";return o+"</select>"}function enableLevelBox(e,t){$("#"+e).is(":checked")?$("#"+t+"_span").show():$("#"+t+"_span").hide(),generateCommand()}function makeEnchantments(t,e,a){var o,n=e?" CHECKED":"";$("#"+t).html("<span class='fLabel200'>Show All</span><input type='checkbox' id='"+t+"_enc_showAll'"+n+"></span>"),createComponent(t,"show_in_tooltip",{id:t+"show_in_tooltip",type:"choice",values:unsetTrueFalse,format:"b",tip:"enchantments.show_in_tooltip"},0),createComponent(t,"glint_override",{id:t+"glint_override",type:"choice",values:unsetTrueFalse,format:"b",tip:"enchantments.glint_override"},0),$("#"+t+"_enc_showAll").bind("change",function(e){makeEnchantments(t,$("#"+t+"_enc_showAll").is(":checked"),a)}),generateCommand();let s="";for(enc in enchantables)!e&&-1==enchantables[enc].items.indexOf(a)||(s!=enchantables[enc].group&&(s=enchantables[enc].group,$("#"+t).append("<div style='margin-top:15px;width:300px;text-align:center;font-weight:bold;'>"+s+"</div>")),o=replaceAll(" ","_",enc).toLowerCase(),$("#"+t).append("<span style='display:inline-block;width:300px;height:20px'><span class='fLabel150'>"+enc+"</span><input type='checkbox' id='"+t+"_enc_"+o+"' class='enchantCB' onclick=\"enableLevelBox('"+t+"_enc_"+o+"','"+t+"_enc_"+o+"_lvl')\"><span id='"+t+"_enc_"+o+"_lvl_span' class='enchantLevel'> LVL <input type='text' id='"+t+"_enc_"+o+"_lvl' value='1' style='width:15px'> Max "+enchantables[enc].max+"</span></span>"),$("#"+t+"_enc_"+o+"_lvl_span").hide(),$("#"+t+"_enc_"+o+"_lvl").bind("change keyup",function(){generateCommand()}))}function addTile(t){if(-1!=$("#"+t).val()&&null!=$("#"+t).val()){let e=0;for(;$(`#${t}_`+e).length;)e++;var a,o;e=t+"_"+e,$("#"+t+"TilePane").append("<a class='anchorButton' href=\"javascript:removeContainer('"+e+"')\" id='"+e+"'>"+$("#"+t).val()+" <span class='redX noBorder'>&#9747;</span></a> "),-1!=t.indexOf("ToolPane")&&(o=a=0,$("#"+t+"TilePane > .anchorButton").each(function(){"#"==this.innerHTML.split(" ")[0].charAt(0)?o++:a++}),0<o&&0<a||1<o)&&alertify.alert("You have made an incompatible selection. You can only choose one block tag and you can't select blocks and block tags together. Create another rule if you need to do this."),generateCommand()}}function addCustomRecipe(t){if($("#"+t+"Custom").val().length){let e=0;for(;$(`#${t}_`+e).length;)e++;e=t+"_"+e,$("#"+t+"TilePane").append("<a class='anchorButton' href=\"javascript:removeContainer('"+e+"')\" id='"+e+"'>"+$("#"+t+"Custom").val()+" <span class='redX noBorder'>&#9747;</span></a> "),generateCommand()}}function addRecipesUsed(e){-1==$("#"+e).val()||null==$("#"+e).val()||$("#"+e+"_"+$("#"+e).val()).length||($("#"+e+"TilePane").append("<span id='"+e+"_"+$("#"+e).val()+"' class='"+e+"'><br><span class='fLabel200'></span><a class='redX' href=\"javascript:removeContainer('"+e+"_"+$("#"+e).val()+"')\">&#9747;</a> <input type='text' class='medTF recipeUsedQTY' id='qty-"+e+"-"+$("#"+e).val()+"' value='1'> of "+$("#"+e).val()+" </span> "),bindGenCom("qty-"+e+"-"+$("#"+e).val(),"keyup"),generateCommand())}function addTileFromNBTLoad(e,t){let a=0;for(;$(`#${e}_`+a).length;)a++;a=e+"_"+a,$("#"+e+"TilePane").append("<a class='anchorButton' href=\"javascript:removeContainer('"+a+"')\" id='"+a+"'>"+t+" <span class='redX noBorder'>&#9747;</span></a> ")}function getFilteredItems(e){var t,a=[];for(t in itemsAndBlocks)0!=e.length&&("t"==itemsAndBlocks[t].c||-1==t.indexOf(e)&&-1==itemsAndBlocks[t].d.toLowerCase().indexOf(e))||a.push('<option value="',t,'">',itemsAndBlocks[t].d,"</option>");return a}function updateItemSelectOptions(e){var t=$(e).val(),a=getFilteredItems($(e+"_filter").val().toLowerCase());$(e).html(a.join("")),t!=$(e).val()&&(cachedNBT.updateFilterLastUsed(),$(e).trigger("change"))}function updateItemSelectForRecipes(e){var t,a=$(e).val(),o=$(e+"_filter").val().toLowerCase(),n=[];for(t in itemsAndBlocks)(0==o.length||"t"!=itemsAndBlocks[t].c&&-1!=t.indexOf(o))&&"-1"!=t&&n.push('<option value="',t,'">',t,"</option>");for(var s=0;s<knowledgeList.length;s++)0!=o.length&&-1==knowledgeList[s].indexOf(o)||n.push('<option value="',knowledgeList[s],'">',knowledgeList[s],"</option>");$(e).html(n.join("")),a!=$(e).val()&&$(e).trigger("change")}function updateItemSelectForRecipesUsed(e){var t=$(e).val(),a=getFilteredItems($(e+"_filter").val().toLowerCase());$(e).html(a.join("")),t!=$(e).val()&&$(e).trigger("change")}function updateTileSelectOptions(e,t){var a=$(e).val(),t=getFilteredBlocks($(e+"_filter").val().toLowerCase(),t);$(e).html(t.join("")),a!=$(e).val()&&$(e).trigger("change")}function updateEntitySelectOptions(e,t,a,o){var o=o||!1,n=$(e).val(),s=$(e+"_filter").val().toLowerCase(),i=[];!o||0!=s.length&&-1=="player".indexOf(s)||i.push("<option value='player'>player</option>");for(var l=0;l<entities.length;l++)0!=s.length&&-1==entities[l].toLowerCase().indexOf(s)&&-1==entities[l].toLowerCase().replaceAll("_"," ").indexOf(s.replaceAll("_"," "))||i.push('<option value="',entities[l],'">',entities[l],"</option>");$(e).html(i.join("")),n!=$(e).val()&&(cachedNBT.updateFilterLastUsed(),entityChange(t,a))}function isLeatherArmor(e){return"wolf_armor"==e||"leather_helmet"==e||"leather_chestplate"==e||"leather_leggings"==e||"leather_boots"==e||"leather_horse_armor"==e}function loadItemSpecificOptions(e,t){var a=$("#"+e).val();if(null!=a)if(isLeatherArmor(a)&&($("#"+e+"ItemPane").append("<br><span class='fLabel100'>dyed_color</span>"+mkShowHide(e+"dyedPanel",e+"dyedPanelSH")+"<div id='"+e+"dyedPanel' class='roundedDiv AMControl'></div>"+makeTip("item.dyed_color")),createComponent(e+"dyedPanel","color",{id:e+"Color",type:"colorChooser",cssClass:"fLabel100",tip:"item.leatherArmor"},t),createComponent(e+"dyedPanel","show_in_tooltip",{id:e+"dyed_show_in_tooltip",cssClass:"fLabel100",type:"choice",values:unsetTrueFalse,format:"b",tip:"dyed_color.show_in_tooltip"},t),hide(e+"dyedPanel",e+"dyedPanelSH")),trimables.includes(a))$("#"+e+"ItemPane").append("<br><span class='fLabel100'>trim</span>"+mkShowHide(e+"trimPanel",e+"trimPanelSH")+"<div id='"+e+"trimPanel' class='roundedDiv AMControl'></div>"+makeTip("item.trim")),createComponent(e+"trimPanel","material",{id:e+"Material",type:"makeSelect",values:["unset","iron","copper","gold","lapis","emerald","diamond","netherite","redstone","amethyst","quartz"],format:"special",cssClass:"fLabel100",tip:"armor.TrimMaterial",align:"R"},t),createComponent(e+"trimPanel","pattern",{id:e+"Pattern",type:"makeSelect",values:["unset","bolt","coast","dune","eye","flow","host","raiser","rib","sentry","shaper","silence","snout","spire","tide","vex","ward","wayfinder","wild"],format:"special",cssClass:"fLabel100",tip:"armor.TrimPattern",align:"R"},t),createComponent(e+"trimPanel","show_in_tooltip",{id:e+"trim_show_in_tooltip",cssClass:"fLabel100",type:"choice",values:unsetTrueFalse,format:"b",tip:"trim.show_in_tooltip"},t),hide(e+"trimPanel",e+"trimPanelSH");else if("enchanted_book"==a)$("#"+e+"ItemPane").append("<br><span class='fLabel100'>StoredEnchantments</span>"+mkShowHide(e+"StoredEnchantments",e+"StoredEnchantmentsSH")+"<div id='"+e+"StoredEnchantments' class='EnchantmentsControlSingle roundedDiv'></div>"+makeTip("item.enchantment_book")),makeEnchantments(e+"StoredEnchantments",!0,$("#"+e).val());else if("player_head"==a)createComponent(e+"ItemPane","Profile/Name",{id:e+"SkullOwner",type:"text",cssClass:"fLabel100",fwClass:"bigTF",tip:"player_head.profile"},t),createComponent(e+"ItemPane","UUID",{id:e+"UUID",type:"UUIDArray",cssClass:"fLabel100",format:"special",align:"R",playerLookup:!0,loadTexture:!0,tip:"player_head.uuid"},t),createComponent(e+"ItemPane","Texture",{id:e+"Texture",type:"text",cssClass:"fLabel100",format:"special",align:"R",tip:"player_head.texture"},t),$("#"+e+"ItemPane").append("<br><span class='fLabel100'>Note Block Sound</span><select id='"+e+"sound'></select><input type='text' id='"+e+"sound_filter' placeholder='Filter' class='medTF' onkeyup=\"updateSoundSelect('"+e+"sound')\">"+makeTip("player_head","note_block_sound")),bindGenCom(e+"sound","change"),updateSoundSelect(e+"sound",!0);else if("written_book"==a)createWrittenBookForm(e,t);else if(-1!=a.indexOf("sign")){for(c in createComponent(e+"ItemPane","is_waxed",{id:e+"is_waxed",type:"choice",values:unsetTrueFalse,format:"b",tip:"sign",align:"R"},t),i=getCommandStatsFormNBT()){var o={id:e+c};Object.assign(o,i[c]),createComponent(e+"ItemPane",c,o,t)}createSignForm(e,t)}else if("ominous_bottle"==a)createComponent(e+"ItemPane","ominous_bottle_amplifier",{id:e+"ominous_bottle_amplifier",type:"text",format:"int",cssClass:"fLabel150",tip:a,align:"R"},t);else if("compass"==a)createComponent(e+"ItemPane","LodestoneDimension",{id:e+"Dim",type:"makeSelect",values:["unset","overworld","the_end","the_nether"],format:"special",cssClass:"fLabel100",tip:a,align:"R"},t),createComponent(e+"ItemPane","LodestoneTracked",{id:e+"Tracked",type:"choice",values:unsetTrueFalse,format:"special",cssClass:"fLabel100",tip:a,align:"R"},t),createComponent(e+"ItemPane","X",{id:e+"X",type:"text",cssClass:"fLabel100",format:"int",fwClass:"medTF",tip:a},t),createComponent(e+"ItemPane","Y",{id:e+"Y",type:"text",cssClass:"fLabel100",format:"int",fwClass:"medTF"},t),createComponent(e+"ItemPane","Z",{id:e+"Z",type:"text",cssClass:"fLabel100",format:"int",fwClass:"medTF"},t);else if("filled_map"==a)createComponent(e+"ItemPane","map",{id:e+"map",type:"text",cssClass:"fLabel100",fwClass:"medTF",format:"int",tip:a},t),createComponent(e+"ItemPane","MapColor",{id:e+"MapColor",type:"colorChooser",cssClass:"fLabel100",tip:a},t),createComponent(e+"ItemPane","Decorations",{type:"panel",cssClass:"fLabel100",label:"Decorations",panelID:e+"Decorations",tip:a},t),$("#"+e+"Decorations").append("<button id='"+e+"addDecoration' class='greenPlus'>Add</button>"),$("#"+e+"addDecoration").bind("click",function(){addMapDecoration(e+"Decorations")});else if("writable_book"==a)createWritableBookForm(e,t);else if("firework_rocket"==a||"fireworks"==a)createComponent(e+"ItemPane","Flight",{id:e+"Flight",type:"text",cssClass:"fLabel100",format:"b",tip:"rocket"},t),createComponent(e+"ItemPane","Explosion",{type:"fwExplosion",id:e+"Explosion",forItem:!0,entDescID:"e"+entityIndex+"_"+e,format:"special",cssClass:"fLabel100",tip:"fireworks_rocket.Explosion"},entityIndex);else if("firework_star"==a)$("#"+e+"ItemPane").append("<br><span class='fLabel100'>Explosion</span><span style='display:inline;white-space: nowrap;'><div id='"+e+"Explosion' class='ExplosionPane'></div></span>"),addExplosion(e+"Explosion",!0);else if(-1!=a.indexOf("spawn_egg"))entityIndex++,$("#"+e+"ItemPane").append("<input type='hidden' id='"+e+"_entID' value='"+entityIndex+"'>"),makeAddEntityPaneforSpawnEgg(e+"ItemPane","spawnEggMob_"+entityIndex,!0,a.substr(0,a.indexOf("_spawn_egg")));else if("potion"==a||"splash_potion"==a||"lingering_potion"==a||"tipped_arrow"==a)createComponent(e+"ItemPane","Potion",{id:e+"Potion",cssClass:"fLabel100",type:"makeSelectWithIndexAndValues",values:potions,format:"string",tip:"potion"},t),createComponent(e+"ItemPane","CustomPotionColor",{id:e+"CustomPotionColor",cssClass:"fLabel100",type:"colorChooser",format:"long",tip:"potion"},t),createComponent(e+"ItemPane","CustomPotionEffects",{id:e+"CustomPotionEffects",cssClass:"fLabel100",type:"statusEffects",format:"special",tip:"potion"},t);else if("crossbow"==a)createComponent(e+"ItemPane","Projectiles",{type:"panel",cssClass:"fLabel100",label:"Projectiles",panelID:e+"Projectiles",tip:a},t),$("#"+e+"Projectiles").append("<button id='"+e+"addProjectile' class='greenPlus'>Add</button>"),$("#"+e+"addProjectile").bind("click",function(){addCrossbowProjectile(e+"Projectiles")});else if("suspicious_stew"==a)createComponent(e+"ItemPane","Effects",{id:e+"StewEffects",cssClass:"fLabel100",type:"stewEffects",format:"special",tip:"potion"},t);else if("goat_horn"==a)createComponent(e+"ItemPane","instrument",{id:e+"instrument",type:"makeSelect",hasUnset:!0,cssClass:"fLabel100",values:["Custom Sound","ponder_goat_horn","sing_goat_horn","seek_goat_horn","feel_goat_horn","admire_goat_horn","call_goat_horn","yearn_goat_horn","dream_goat_horn"],tip:"goat_horn",align:"R"},entityIndex),createComponent(e+"ItemPane","",{type:"panel",panelID:e+"config"},t),createComponent(e+"config","use_duration",{id:e+"use_duration",type:"ticks",cssClass:"fLabel100",tip:"goat_horn",align:"R",value:50},entityIndex),createComponent(e+"config","range",{id:e+"range",type:"text",cssClass:"fLabel100",tip:"goat_horn",align:"R",value:100},entityIndex),createComponent(e+"config","resource",{id:e+"resource",label:"resource location",type:"text",cssClass:"fLabel100",fwClass:"verybigTF",tip:"goat_horn",align:"R"},entityIndex),$("#"+e+"config").append("<br><span class='fLabel100'>sound_event</span><select id='"+e+"sound'></select><input type='text' id='"+e+"sound_filter' placeholder='Filter' class='medTF' onkeyup=\"updateSoundSelect('"+e+"sound')\">"+makeTip("goat_horn","sound")),$("#"+e+"config br:first").remove(),$(`#${e}config`).hide(),$(`#${e}instrument`).on("change",function(){"Custom Sound"==$(`#${e}instrument`).val()?$(`#${e}config`).show():$(`#${e}config`).hide()}),bindGenCom(e+"sound","change"),updateSoundSelect(e+"sound",!0);else if("armor_stand"==a){entityIndex++,$("#"+e+"ItemPane").append("<input type='hidden' id='"+e+"_entID' value='"+entityIndex+"'>");var n="armorStand"+entityIndex,n=(n=mkShowHide(n,n+"SH")+"<div id='"+n+"' class='spawnPotentialContainer roundedDiv stackerAltColorB'>")+("<input type='hidden' id='entity"+entityIndex+"' value='armor_stand'>")+("<div id='entityPane"+entityIndex+"' class='entityWrapper'></div></div>");$("#"+e+"ItemPane").html().length&&(n="<br>"+n),$("#"+e+"ItemPane").append(n),entityChangeSpawnEgg(entityIndex,!1)}else if("tadpole_bucket"==a||"tropical_fish_bucket"==a||"cod_bucket"==a||"pufferfish_bucket"==a||"salmon_bucket"==a||"axolotl_bucket"==a)"tadpole_bucket"==a?createComponent(e+"ItemPane","Age",{id:e+"Age",type:"ticks",tip:"tadpole",align:"R"},entityIndex):"tropical_fish_bucket"==a?(createComponent(e+"ItemPane","Variant",{id:e+"Variant",type:"choice",values:[[0,"Random"],[1,"Specified Below"]],format:"special",tip:"tropical_fish",align:"R"},entityIndex),createComponent(e+"ItemPane","Size",{id:e+"Size",type:"choice",values:[[0,"Small"],[1,"Big"]],format:"special",align:"R"},entityIndex),createComponent(e+"ItemPane","Pattern",{id:e+"Pattern",type:"makeSelect",values:[0,1,2,3,4,5],format:"special",align:"R"},entityIndex),createComponent(e+"ItemPane","BaseColor",{id:e+"BaseColor",type:"choice",values:colours1,format:"special",align:"R"},entityIndex),createComponent(e+"ItemPane","PatternColor",{id:e+"PatternColor",type:"choice",values:colours1,format:"special",align:"R"},entityIndex)):"axolotl_bucket"==a&&createComponent(e+"ItemPane","Variant",{id:e+"Variant",type:"choice",values:[[-1,"unset"],["0","Lucy (Pink)"],["1","Wild (Brown)"],["2","Gold/Yellow"],["3","Cyan"],["4","Blue (Rare)"]],format:"int",tip:"axolotl",align:"R"},entityIndex),createComponent(e+"ItemPane","NoGravity",{id:e+"NoGravity",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},entityIndex),createComponent(e+"ItemPane","Silent",{id:e+"Silent",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},entityIndex),createComponent(e+"ItemPane","Invulnerable",{id:e+"Invulnerable",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},entityIndex),createComponent(e+"ItemPane","Glowing",{id:e+"Glowing",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},entityIndex),createComponent(e+"ItemPane","NoAI",{id:e+"NoAI",type:"choice",values:unsetTrueFalse,format:"b",tip:"mob",align:"R"},entityIndex),createComponent(e+"ItemPane","Health",{id:e+"Health",type:"text",format:"f",tip:"mob",align:"R"},entityIndex);else if(["command_block","repeating_command_block","chain_command_block"].includes(a)){var s=getCommandBlockFieldsFormNBT(),i=getCommandStatsFormNBT();for(c in Object.assign(s,i),s){o={id:e+c};Object.assign(o,s[c]),createComponent(e+"ItemPane",c,o,t)}}else if("bundle"==a)createComponent(e+"ItemPane","BundleItems",{type:"multiitem",tip:"item.bundle",slotNumbers:!1,cssClass:"fLabel100",hide:!0,label:"Items",id:e+"BundleItems"},entityIndex);else if("decorated_pot"==a)createComponent(e+"ItemPane","Sherd0",{id:e+"Sherd0",label:"Sherd 1",type:"makeSelect",cssClass:"fLabel100",values:potterySherds,hasUnset:!0,format:"special",tip:"decorated_pot.sherd"},entityIndex),createComponent(e+"ItemPane","Sherd1",{id:e+"Sherd1",label:"Sherd 2",type:"makeSelect",cssClass:"fLabel100",values:potterySherds,hasUnset:!0,format:"special"},entityIndex),createComponent(e+"ItemPane","Sherd2",{id:e+"Sherd2",label:"Sherd 3",type:"makeSelect",cssClass:"fLabel100",values:potterySherds,hasUnset:!0,format:"special"},entityIndex),createComponent(e+"ItemPane","Sherd3",{id:e+"Sherd3",label:"Sherd 4",type:"makeSelect",cssClass:"fLabel100",values:potterySherds,hasUnset:!0,format:"special"},entityIndex),createComponent(e+"ItemPane","LootTable",{id:e+"LootTable",label:"LootTable",type:"text",cssClass:"fLabel100",fwClass:"bigTF",format:"string",tip:"decorated_pot.LootTable"},entityIndex),createComponent(e+"ItemPane","0Slot",{id:e+"Slot0",type:"itemselect",forceConstruct:!0,format:"special",cssClass:"fLabel100",hide:!0,label:"Item",tip:"decorated_pot.item"},entityIndex);else if("painting"==a){n=paintingMotives.slice();n.unshift("unset"),createComponent(e+"ItemPane","variant",{id:e+"variant",type:"makeSelect",values:n,format:"special",tip:"painting",align:"R"},entityIndex),createEntityTagNBT_In_Item(e,entityIndex,paintingEntityTagNBTForItem)}else if("item_frame"==a||"glow_item_frame"==a)createComponent(e+"ItemPane","Item",{id:e+"ItemInFrame",type:"itemselect",forceConstruct:settings.loadItemUI,tip:"item"},entityIndex),createComponent(e+"ItemPane","ItemDropChance",{id:e+"ItemDropChance",type:"text",format:"f",tip:"item_frame",align:"R"},entityIndex),createComponent(e+"ItemPane","ItemRotation",{id:e+"ItemRotation",type:"choice",values:[[-1,"unset"],["1","45&deg;"],["2","90&deg;"],["3","135&deg;"],["4","180&deg;"],["5","225&deg;"],["6","270&deg;"],["7","315&deg;"]],format:"b",tip:"item_frame"},entityIndex),createComponent(e+"ItemPane","Invisible",{id:e+"Invisible",type:"choice",values:unsetTrueFalse,format:"b",tip:"item_frame"},entityIndex),createComponent(e+"ItemPane","Fixed",{id:e+"Fixed",type:"choice",values:unsetTrueFalse,format:"b",tip:"item_frame"},entityIndex),createEntityTagNBT_In_Item(e,entityIndex,itemFrameEntityTagNBTForItem);else if("lectern"==a)createComponent(e+"ItemPane","Page",{id:e+"Page",type:"text",format:"int",tip:"lectern"},entityIndex),createComponent(e+"ItemPane","Book",{id:e+"Book",type:"itemselect",forceConstruct:settings.loadItemUI,tip:"lectern"},entityIndex);else if("barrel"==a||"chest"==a||"trapped_chest"==a||"brewing_stand"==a||"dispenser"==a||"dropper"==a||"furnace"==a||"blast_furnace"==a||"smoker"==a||"hopper"==a||"chiseled_bookshelf"==a||-1!=a.indexOf("shulker_box")){"chiseled_bookshelf"!=a&&createComponent(e+"ItemPane","Lock",{id:e+"Lock",type:"text",cssClass:"fLabel100",format:"string",tip:"block.Lock"},entityIndex),"barrel"==a||"chest"==a||"trapped_chest"==a||"dispenser"==a||"dropper"==a||"hopper"==a||-1!=a.indexOf("shulker_box")?(createComponent(e+"ItemPane","LootTable",{id:e+"LootTable",type:"text",cssClass:"fLabel100",fwClass:"bigTF",format:"string",tip:"chest.LootTable"},entityIndex),"hopper"==a&&createComponent(e+"ItemPane","TransferCooldown",{id:e+"TransferCooldown",cssClass:"fLabel100",type:"ticks",format:"short",tip:"hopper.TransferCooldown"},entityIndex)):"brewing_stand"==a?(createComponent(e+"ItemPane","BrewTime",{id:e+"BrewTime",cssClass:"fLabel100",type:"ticks",tip:"brewing_stand.BrewTime"},entityIndex),createComponent(e+"ItemPane","Fuel",{id:e+"Fuel",cssClass:"fLabel100",type:"text",format:"b",tip:"brewing_stand.Fuel"},entityIndex)):"furnace"!=a&&"blast_furnace"!=a&&"smoker"!=a||(createComponent(e+"ItemPane","BurnTime",{id:e+"BurnTime",cssClass:"fLabel100",type:"ticks",tip:"furnace.BurnTime"},entityIndex),createComponent(e+"ItemPane","CookTime",{id:e+"CookTime",cssClass:"fLabel100",type:"ticks",tip:"furnace.CookTime"},entityIndex),createComponent(e+"ItemPane","CookTimeTotal",{id:e+"CookTimeTotal",cssClass:"fLabel100",type:"ticks",tip:"furnace.CookTimeTotal"},entityIndex),createComponent(e+"ItemPane","RecipesUsed",{id:e+"RecipesUsed",cssClass:"fLabel100",type:"RecipesUsed",format:"special",tip:"furnace.RecipesUsed"},entityIndex));for(var l=slotCounts[a]||27,r=0;r<l;r++)createComponent(e+"ItemPane",r+"Slot",{type:"itemselect",format:"special",cssClass:"fLabel100",hide:!0,label:"Slot "+r,id:e+"Slot"+r},entityIndex)}else if("crafter"==a)createCrafterUI(e+"ItemPane",t);else if("vault"==a)createVaultUI(e+"ItemPane",t);else if("trial_spawner"==a)createTrialSpawnerUI(e+"ItemPane",t);else if("spawner"==a)createMonsterSpawnerUI(e+"ItemPane",t);else if("beehive"==a||"bee_nest"==a)for(var c in initBeeHiveNestNBT(),beeHiveNestNBT){o={id:c+e};Object.assign(o,beeHiveNestNBT[c]),createComponent(e+"ItemPane",c,o,t)}else-1!=a.indexOf("_banner")||"shield"==a?("shield"==a&&createComponent(e+"ItemPane","Base Color",{id:e+"BaseColor",type:"makeSelect",values:signColors,hasUnset:!0,format:"string",cssClass:"fLabel100",fwClass:"bigTF",tip:"shield.base_color"},t),createComponent(e+"ItemPane","Patterns",{id:e+"BlockEntityTag",type:"text",cssClass:"fLabel100",fwClass:"bigTF",tip:"item.patterns"},t)):"knowledge_book"==a?createComponent(e+"ItemPane","Recipes",{id:e+"Recipes",cssClass:"fLabel100",type:"itemForRecipes"},t):"suspicious_sand"!=a&&"suspicious_gravel"!=a||(createComponent(e+"ItemPane","item",{id:e+"item",cssClass:"fLabel100",type:"itemselect",forceConstruct:settings.loadItemUI,tip:"suspicious_sand.item"},entityIndex),createComponent(e+"ItemPane","LootTable",{id:e+"LootTable",cssClass:"fLabel100",type:"text",fwClass:"bigTF",format:"string",tip:"suspicious_sand.LootTable"},entityIndex))}function createCrafterUI(e,t){createComponent(e,"crafting_ticks_remaining",{id:e+"crafting_ticks_remaining",type:"ticks",tip:"crafter"},t),createComponent(e,"LootTable",{id:e+"LootTable",type:"text",format:"string",tip:"crafter"},t),createComponent(e,"Lock",{id:e+"Lock",type:"text",format:"string",tip:"block.Lock"},t);for(var a=0;a<9;a++)createComponent(e,a+"Slot",{id:e+a+"Slot",type:"itemselect",format:"special",hide:!0,label:"Slot "+a},t);$("#"+e).append(`<br><span class='fLabel200'>disabled_slots</span>
	<input class='ds' type='checkbox' id='${e}ds0'>
	<input class='ds' type='checkbox' id='${e}ds1'>
	<input class='ds' type='checkbox' id='${e}ds2'>${makeTip("crafter","disabled_slots")}<br>
	<span class='fLabel200'></span> <input class='ds' type='checkbox' id='${e}ds3'>
	<input class='ds' type='checkbox' id='${e}ds4'>
	<input class='ds' type='checkbox' id='${e}ds5'><br>
	<span class='fLabel200'></span> <input class='ds' type='checkbox' id='${e}ds6'>
	<input class='ds' type='checkbox' id='${e}ds7'>
	<input class='ds' type='checkbox' id='${e}ds8'>`),$(".ds").bind("change",function(){generateCommand()})}function createVaultUI(e,t){createComponent(e,"config",{type:"panel",panelID:e+"config",htmlContent:"<br>config"},t),createComponent(e+"config","loot_table",{id:e+"loot_table",type:"text",format:"string",tip:"vault"},t),createComponent(e+"config","override_loot_table_to_display",{id:e+"override_loot_table_to_display",type:"text",format:"string",tip:"vault"},t),createComponent(e+"config","activation_range",{id:e+"activation_range",type:"text",format:"float",tip:"vault"},t),createComponent(e+"config","deactivation_range",{id:e+"deactivation_range",type:"text",format:"float",tip:"vault"},t),createComponent(e+"config","key_item",{id:e+"key_item",type:"itemselect",tip:"vault",hide:!0},t),createComponent(e,"server_data",{type:"panel",panelID:e+"server_data",htmlContent:"<br>server_data"},t),createComponent(e+"server_data","rewarded_players",{label:"rewarded_players",type:"panel",panelID:e+"rewarded_players"+t},t),$("#"+e+"rewarded_players"+t).html("<a href=\"javascript:addRegisteredPlayer('"+e+"rewarded_players',"+t+")\" class='greenPlus'>+</a>"+makeTip("vault.rewarded_players")),createComponent(e+"server_data","state_updating_resumes_at",{id:e+"state_updating_resumes_at",type:"text",format:"long",tip:"vault"},t),createComponent(e+"server_data","items_to_eject",{id:e+"items_to_eject",type:"multiitem",tip:"vault",slotNumbers:!1,hide:!0},t),createComponent(e+"server_data","total_ejections_needed",{id:e+"total_ejections_needed",type:"text",format:"long",tip:"vault"},t),createComponent(e,"shared_data",{type:"panel",panelID:e+"shared_data",htmlContent:"<br>shared_data"},t),createComponent(e+"shared_data","display_item",{id:e+"display_item",type:"itemselect",tip:"vault",hide:!0},t),createComponent(e+"shared_data","connected_players",{label:"connected_players",type:"panel",panelID:e+"connected_players"+t},t),$("#"+e+"connected_players"+t).html("<a href=\"javascript:addRegisteredPlayer('"+e+"connected_players',"+t+")\" class='greenPlus'>+</a>"+makeTip("vault.connected_players")),createComponent(e+"shared_data","connected_particles_range",{id:e+"connected_particles_range",type:"text",format:"float",tip:"vault"},t)}function createMonsterSpawnerUI(e,t){createComponent(e,"SpawnCount",{id:e+"SpawnCount",type:"text",format:"short",tip:"mob_spawner"},t),createComponent(e,"SpawnRange",{id:e+"SpawnRange",type:"text",format:"short",tip:"mob_spawner"},t),createComponent(e,"Delay",{id:e+"Delay",type:"text",format:"short",tip:"mob_spawner"},t),createComponent(e,"MinSpawnDelay",{id:e+"MinSpawnDelay",type:"text",format:"short",tip:"mob_spawner"},t),createComponent(e,"MaxSpawnDelay",{id:e+"MaxSpawnDelay",type:"text",format:"short",tip:"mob_spawner"},t),createComponent(e,"MaxNearbyEntities",{id:e+"MaxNearbyEntities",type:"text",format:"short",tip:"mob_spawner"},t),createComponent(e,"RequiredPlayerRange",{id:e+"RequiredPlayerRange",type:"text",format:"short",tip:"mob_spawner"},t),createComponent(e,"SpawnPotential",{id:e+"_spawn_potentials",type:"spawnPotential",format:"special",tip:"mob_spawner.SpawnPotential1p20"},t),createComponent(e,"SpawnData",{id:e+"SpawnData",type:"spawnData",format:"special",tip:"mob_spawner.SpawnData1p20"},t)}function createTrialSpawnerUI(e,t){createComponent(e,"normal_config",{type:"panel",panelID:e+"normal_config",htmlContent:"<br>Normal Config"},t),createComponent(e+"normal_config","spawn_range",{id:e+"n_spawn_range",type:"text",format:"short",tip:"trial_spawner"},t),createComponent(e+"normal_config","total_mobs",{id:e+"n_total_mobs",type:"text",format:"float",tip:"trial_spawner"},t),createComponent(e+"normal_config","simultaneous_mobs",{id:e+"n_simultaneous_mobs",type:"text",format:"float",tip:"trial_spawner"},t),createComponent(e+"normal_config","total_mobs_added_per_player",{id:e+"n_total_mobs_added_per_player",type:"text",format:"float",tip:"trial_spawner"},t),createComponent(e+"normal_config","simultaneous_mobs_added_per_player",{id:e+"n_simultaneous_mobs_added_per_player",type:"text",format:"float",tip:"trial_spawner"},t),createComponent(e+"normal_config","ticks_between_spawn",{id:e+"n_ticks_between_spawn",type:"ticks",format:"short",tip:"trial_spawner"},t),createComponent(e+"normal_config","spawn_potentials",{id:e+"n_spawn_potentials",type:"spawnPotential",format:"special",tip:"trial_spawner.spawn_potentials"},t),createComponent(e+"normal_config","loot_tables_to_eject",{id:e+"o_loot_tables_to_eject",label:"loot_tables_to_eject",type:"panel",panelID:e+"n_loot_table_eject"},t),$("#"+e+"n_loot_table_eject").html("<a href=\"javascript:addLootTableEject('"+e+"n_loot_table_eject')\" class='greenPlus'>+</a>"+makeTip("trial_spawner.loot_tables_to_eject")),createComponent(e,"ominous_config",{type:"panel",panelID:e+"ominous_config",tip:"trial_spawner",htmlContent:"<br>Ominous Config"},t),createComponent(e+"ominous_config","spawn_range",{id:e+"o_spawn_range",type:"text",format:"short",tip:"trial_spawner"},t),createComponent(e+"ominous_config","total_mobs",{id:e+"o_total_mobs",type:"text",format:"float",tip:"trial_spawner"},t),createComponent(e+"ominous_config","simultaneous_mobs",{id:e+"o_simultaneous_mobs",type:"text",format:"float",tip:"trial_spawner"},t),createComponent(e+"ominous_config","total_mobs_added_per_player",{id:e+"o_total_mobs_added_per_player",type:"text",format:"float",tip:"trial_spawner"},t),createComponent(e+"ominous_config","simultaneous_mobs_added_per_player",{id:e+"o_simultaneous_mobs_added_per_player",type:"text",format:"float",tip:"trial_spawner"},t),createComponent(e+"ominous_config","ticks_between_spawn",{id:e+"o_ticks_between_spawn",type:"ticks",format:"short",tip:"trial_spawner"},t),createComponent(e+"ominous_config","spawn_potentials",{id:e+"o_spawn_potentials",type:"spawnPotential",format:"special",tip:"trial_spawner.spawn_potentials"},t),createComponent(e+"ominous_config","loot_tables_to_eject",{id:e+"n_loot_tables_to_eject",label:"loot_tables_to_eject",type:"panel",panelID:e+"o_loot_table_eject"},t),$("#"+e+"o_loot_table_eject").html("<a href=\"javascript:addLootTableEject('"+e+"o_loot_table_eject')\" class='greenPlus'>+</a>"+makeTip("trial_spawner.loot_tables_to_eject")),createComponent(e+"ominous_config","items_to_drop_when_ominous",{id:e+"o_items_to_drop_when_ominous",type:"text",format:"string",tip:"trial_spawner"},t),createComponent(e,"blank",{type:"panel",panelID:e+"blank",tip:"trial_spawner",htmlContent:"<br>Options"},t),createComponent(e,"required_player_range",{id:e+"required_player_range",type:"text",format:"short",tip:"trial_spawner"},t),createComponent(e,"target_cooldown_length",{id:e+"target_cooldown_length",type:"text",format:"short",tip:"trial_spawner"},t),createComponent(e,"registered_players",{label:"registered_players",type:"panel",panelID:e+"registered_players"+t},t),$("#"+e+"registered_players"+t).html("<a href=\"javascript:addRegisteredPlayer('"+e+"registered_players',"+t+")\" class='greenPlus'>+</a>"+makeTip("trial_spawner.registered_players")),createComponent(e,"current_mobs",{label:"current_mobs",type:"panel",panelID:e+"current_mobs"+t},t),$("#"+e+"current_mobs"+t).html("<a href=\"javascript:addCurrentMobs('"+e+"current_mobs',"+t+")\" class='greenPlus'>+</a>"+makeTip("trial_spawner.current_mobs")),createComponent(e,"cooldown_ends_at",{id:e+"cooldown_ends_at",type:"text",format:"long",tip:"trial_spawner"},t),createComponent(e,"next_mob_spawns_at",{id:e+"next_mob_spawns_at",type:"text",format:"long",tip:"trial_spawner"},t),createComponent(e,"total_mobs_spawned",{id:e+"total_mobs_spawned",type:"text",format:"short",tip:"trial_spawner"},t),createComponent(e,"ejecting_loot_table",{id:e+"ejecting_loot_table",type:"text",format:"string",tip:"trial_spawner"},t),createComponent(e,"spawn_data",{id:e+"SpawnData",type:"spawnData",format:"special",tip:"trial_spawner"},t)}function addLootTableEject(e){let t=0;for(;$(`#${e}_`+t).length;)t++;$("#"+e).append(`<span id='${e}_${t}' class='ltEject'><span class='fLabel200'></span></span>`),$(`#${e}_`+t).append(`<br><span class='fLabel200'>Loot Table</span><input type='text' id='LT${e}_${t}'> Weight<input type='text' id='W${e}_${t}' class="medTF"><a href="javascript:removeContainer('${e}_${t}')" class='redX'>x</a>`),bindGenCom(`LT${e}_`+t,"keyup"),bindGenCom(`W${e}_`+t,"keyup")}function addRegisteredPlayer(e,t){let a=0;for(;$("#"+e+t+"_"+a).length;)a++;$("#"+e+t).append("<span id='"+e+t+"_"+a+"' class='regPlayer'><span class='fLabel200'></span></span>"),createComponent(e+t+"_"+a,"Player UUID",{id:e+t+"_"+a,type:"UUIDArray",format:"intArray",playerLookup:!0,align:"R"},t),$("#"+e+t+"_"+a).append("<a href=\"javascript:removeContainer('"+e+t+"_"+a+"')\" class='redX'>x</a>")}function addCurrentMobs(e,t){let a=0;for(;$("#"+e+t+"_"+a).length;)a++;$("#"+e+t).append("<span id='"+e+t+"_"+a+"' class='currentMob'><span class='fLabel200'></span></span>"),createComponent(e+t+"_"+a,"Mob UUID",{id:e+t+"_"+a,type:"UUIDArray",format:"intArray",align:"R"},t),$("#"+e+t+"_"+a).append("<a href=\"javascript:removeContainer('"+e+t+"_"+a+"')\" class='redX'>x</a>")}function createEntityTagNBT_In_Item(e,t,a){a.includes("Invisible")&&createComponent(e+"ItemPane","Invisible",{id:e+"Invisible",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},t),a.includes("Silent")&&createComponent(e+"ItemPane","Silent",{id:e+"Silent",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},t),a.includes("Invulnerable")&&createComponent(e+"ItemPane","Invulnerable",{id:e+"Invulnerable",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},t),a.includes("Glowing")&&createComponent(e+"ItemPane","Glowing",{id:e+"Glowing",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},t),a.includes("UUID")&&createComponent(e+"ItemPane","UUID",{id:e+"UUID",type:"UUIDArray",format:"intArray",align:"R",tip:"entity"},t),a.includes("CustomNameVisible")&&createComponent(e+"ItemPane","CustomNameVisible",{id:e+"CustomNameVisible",type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"},t),a.includes("CustomName")&&createComponent(e+"ItemPane","CustomName",{id:e+"CustomName",type:"customNameJSON",format:"special",tip:"entity"},t),a.includes("Tags")&&createComponent(e+"ItemPane","Tags",{id:e+"Tags",type:"text",format:"special",tip:"entity",fwClass:"bigTF"},t)}function addCrossbowProjectile(e){for(var t=0;$("#"+e+"_prj_"+t).length;)t++;var a=e+"_prj_"+t;return $("#"+e).append("<span id='"+a+"' class='cb_projectile roundedDiv' style='display:block;margin-left:150px;margin-bottom:2px'></span>"),$("#"+a).append("<a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a>"),createComponent(a,"Projectile",{id:a+"Projectile",cssClass:"fLabel100",type:"makeSelect",values:projectiles,format:"special"},-1),$("#"+a).append(`<br><div id='${a}ProjectilePane'></div>`),$("#"+a+"Projectile").bind("change",function(){updateCrossbowForm(a+"Projectile",-1)}),$("#"+a+"Projectile").trigger("change"),generateCommand(),a}function updateCrossbowForm(e,t){$("#"+e+"Pane").empty(),"arrow"==$("#"+e).val()||"spectral_arrow"==$("#"+e).val()?createComponent(e+"Pane","Intangible",{id:e+"Intangible",type:"cb",cssClass:"fLabel100",tip:"crossbow.intangible"},t):"tipped_arrow"==$("#"+e).val()?(createComponent(e+"Pane","Intangible",{id:e+"Intangible",type:"cb",cssClass:"fLabel100",tip:"crossbow.intangible"},t),createComponent(e+"Pane","Potion",{id:e+"Potion",cssClass:"fLabel100",type:"makeSelectWithIndexAndValues",values:potions,format:"string",tip:"potion"},t),createComponent(e+"Pane","CustomPotionColor",{id:e+"CustomPotionColor",cssClass:"fLabel100",type:"colorChooser",format:"long",tip:"potion"},t),createComponent(e+"Pane","CustomPotionEffects",{id:e+"CustomPotionEffects",cssClass:"fLabel100",type:"statusEffects",format:"special",tip:"potion"},t)):"firework_rocket"==$("#"+e).val()&&(createComponent(e+"Pane","Flight",{id:e+"Flight",type:"text",cssClass:"fLabel100",format:"b",tip:"rocket"},t),createComponent(e+"Pane","Explosion",{type:"fwExplosion",id:e+"Explosion",forItem:!0,entDescID:"e"+entityIndex+"_"+e,format:"special",cssClass:"fLabel100",tip:"fireworks_rocket.Explosion"},entityIndex)),$("#"+e+"Pane br:first").remove()}function addMapDecoration(e){for(var t=0;$("#"+e+"_dec_"+t).length;)t++;var a=e+"_dec_"+t;return $("#"+e).append("<span id='"+a+"' class='map_decoration roundedDiv' style='display:block;width:230px;margin-left:170px;margin-bottom:2px'></span>"),$("#"+a).append("<a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a>"),createComponent(a,"ID",{id:a+"id",type:"text",fwClass:"bigTF",format:"string",cssClass:"fLabel70",tip:"mapdecoration",value:getRandomInt(1,99999999)},-1),createComponent(a,"Type",{id:a+"Type",type:"makeSelect",values:mapMarkers,format:"b",hasUnset:!1,cssClass:"fLabel70",tip:"mapdecoration"},-1),createComponent(a,"X",{id:a+"x",type:"text",fwClass:"medTF",format:"int",cssClass:"fLabel70",tip:"mapdecoration"},-1),createComponent(a,"Z",{id:a+"z",type:"text",fwClass:"medTF",format:"int",cssClass:"fLabel70",tip:"mapdecoration"},-1),createComponent(a,"Rotation",{id:a+"rot",type:"text",fwClass:"medTF",format:"int",cssClass:"fLabel70",value:180,tip:"mapdecoration"},-1),a}var entityDescriptors,mobSpawnerNBT,beeHiveNestNBT,sculkCatalystNBT,settings,itemsAndBlocks={},desktopMode=!0,electronMode=!1,unsetTrueFalse=[[-1,"unset"],["1","True"],["0","False"]],paintingEntityTagNBTForItem=["Invulnerable","Silent","Glowing","CustomName","CustomNameVisible","Tags","UUID"],itemFrameEntityTagNBTForItem=["Invulnerable","Silent","Glowing","Tags","UUID"],slotCounts={chest:27,trapped_chest:27,brewing_stand:5,dropper:9,dispenser:9,blast_furnace:3,smoker:3,furnace:3,hopper:5,barrel:27,chiseled_bookshelf:6},zIndex=11,entityIndex=0,mouse={x:0,y:0},currentCommand="",tsScoreObjectiveCount=0,processing=!1,formats=["Bold","Italic","Underlined","Strikethrough","Obfuscated"],blocks=[],cachedNBT=new CachedNBT,deferJSONOutput=!1,deferOutput=!1,deferHistoryOutput=!1,cmdHistory={MAX_COMMANDS:100,index:0,commands:[]},hasBlockData=[],structureBlockNBT={name:{type:"text",format:"string",tip:"structure_block"},author:{type:"text",format:"string",tip:"structure_block"},metadata:{type:"text",format:"string",tip:"structure_block"},posX:{type:"text",format:"int",tip:"structure_block"},posY:{type:"text",format:"int",tip:"structure_block"},posZ:{type:"text",format:"int",tip:"structure_block"},sizeX:{type:"text",format:"int",tip:"structure_block"},sizeY:{type:"text",format:"int",tip:"structure_block"},sizeZ:{type:"text",format:"int",tip:"structure_block"},rotation:{type:"makeSelect",values:["NONE","CLOCKWISE_90","CLOCKWISE_180","COUNTERCLOCKWISE_90"],format:"string",tip:"structure_block"},mirror:{type:"makeSelect",values:["NONE","LEFT_RIGHT","FRONT_BACK"],format:"string",tip:"structure_block"},mode:{type:"makeSelect",values:["SAVE","LOAD","CORNER","DATA"],format:"string",tip:"structure_block"},ignoreEntities:{type:"choice",values:unsetTrueFalse,format:"b",tip:"structure_block"}};function loadItemsAndBlocks(a){function e(e,t){return e[1].length-t[1].length||e[1].localeCompare(t[1])}function o(e,t){return e[0].localeCompare(t[0])}function n(e,t){return e[1].localeCompare(t[1])}$.getJSON("./lang1.21/"+("ids"==a?"en":a)+".json",function(t){switch(itemsAndBlocks={},settings.sortMode){case"item_id":t=t.sort(o);break;case"item_desc":t=t.sort(n);break;default:t=t.sort(e)}t.unshift(["-1","unset","b"]);for(let e=0;e<t.length;e++)itemsAndBlocks[t[e][0]]={d:t[e]["ids"==a?0:1],c:t[e][2]};itemsAndBlocks[-1].d="unset",t=null,hasBlockData.length||buildListOfBlocksWithData()})}function addToHistory(e){var t;-1==e.indexOf("data merge block")&&(-1==(t=cmdHistory.commands.indexOf(e))?(cmdHistory.commands.length>=cmdHistory.MAX_COMMANDS&&cmdHistory.commands.shift(),cmdHistory.commands.push(e),cmdHistory.index=cmdHistory.commands.length-1,localStorage.cmdHistory=JSON.stringify(cmdHistory)):cmdHistory.index=t)}function loadFromHistory(e){deferHistoryOutput||(deferHistoryOutput=!0,0<=(e=cmdHistory.index+e)&&e<cmdHistory.commands.length&&(parseNBT(cmdHistory.commands[e],CURRENT_VERSION),cmdHistory.index=e),deferHistoryOutput=!1,generateCommand())}function initBeeHiveNestNBT(){null==beeHiveNestNBT&&(beeHiveNestNBT={flower_posX:{type:"text",format:"special",align:"R",tip:"beehive.FlowerPos"},flower_posY:{type:"text",format:"special",align:"R"},flower_posZ:{type:"text",format:"special",align:"R"},Bees:{type:"beeforHive",format:"special"}})}function initSculkCatalystNBT(){null==sculkCatalystNBT&&(sculkCatalystNBT={cursors:{type:"cursorsForCatalyst",format:"special"}})}function stripHTMLTags(e){return(new DOMParser).parseFromString(e,"text/html").body.textContent||""}function MCSException(e){this.value=e,this.toString=function(){return this.value}}function loadEntityClass(e,t){switch(e){case"bat":return new Mob(t,e,{BatFlags:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"dolphin":return new Mob(t,e,{TreasurePosX:{type:"text",format:"int",tip:e,align:"R"},TreasurePosY:{type:"text",format:"int",align:"R"},TreasurePosZ:{type:"text",format:"int",align:"R"},CanFindTreasure:{type:"choice",values:unsetTrueFalse,tip:e,format:"b",align:"R"},Moistness:{type:"ticks",tip:e,align:"R"},GotFish:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"pufferfish":return new Mob(t,e,{PuffState:{type:"choice",values:[[-1,"unset"],["0","Deflated"],["1","Half Puffed"],["2","Fully Puffed"]],format:"int",align:"R"}});case"axolotl":return new BreedableMob(t,e,{Variant:{type:"choice",values:[[-1,"unset"],["0","Lucy (Pink)"],["1","Wild (Brown)"],["2","Gold/Yellow"],["3","Cyan"],["4","Blue (Rare)"]],format:"int",tip:e,align:"R"},FromBucket:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"tadpole":return new Mob(t,e,{Age:{type:"ticks",tip:e,align:"R"},FromBucket:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"frog":return new BreedableMob(t,e,{variant:{type:"choice",values:[[-1,"unset"],["minecraft:temperate","Temperate"],["minecraft:warm","Warm"],["minecraft:cold","Cold"]],format:"string",tip:e,align:"R"}});case"bogged":return new Mob(t,e,{sheared:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"glow_squid":return new Mob(t,e,{DarkTicksRemaining:{type:"ticks",tip:e,align:"R"}});case"armadillo":return new BreedableMob(t,e,{state:{type:"makeSelect",hasUnset:!0,values:["idle","scared"],format:"string",tip:e,align:"R"}});case"cave_spider":case"elder_guardian":case"guardian":case"silverfish":case"skeleton":case"giant":case"breeze":case"spider":case"squid":case"stray":case"wither_skeleton":case"cod":case"salmon":case"blaze":return new Mob(t,e);case"bee":return new Bee(t,e);case"tropical_fish":return new tropical_fish(t,e);case"piglin":return new Piglin(t,e,{Inventory:{type:"multiitem",hide:!0,slotNumbers:!1,tip:e},IsBaby:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},IsImmuneToZombification:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},TimeInOverworld:{type:"ticks",tip:e,align:"R"},CannotHunt:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"zoglin":return new Mob(t,e,{IsBaby:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"piglin_brute":return new Piglin(t,e,{IsImmuneToZombification:{type:"choice",values:unsetTrueFalse,format:"b",tip:"piglin",align:"R"},TimeInOverworld:{type:"ticks",tip:"piglin",align:"R"}});case"husk":case"zombie":return new zombie(t,e,{DrownedConversionTime:{type:"ticks",tip:"zombie",align:"R"},InWaterTime:{type:"ticks",tip:"zombie",align:"R"}});case"drowned":return new zombie(t,e);case"zombified_piglin":return new zombie(t,e,{AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",format:"special",align:"R",playerLookup:!0,tip:e}});case"zombie_villager":return new zombie(t,e,{ConversionTime:{type:"ticks",tip:e,align:"R"},ConversionPlayer:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:e},profession:{type:"makeSelect",values:["unset","none","armorer","butcher","cartographer","cleric","farmer","fisherman","fletcher","leatherworker","librarian","mason","nitwit","shepherd","toolsmith","weaponsmith"],format:"special",tip:e,align:"R"},type:{type:"makeSelect",values:["unset","desert","jungle","plains","savanna","snow","swamp","taiga"],format:"special",tip:"villager.type",align:"R"},level:{type:"makeSelect",values:["unset",1,2,3,4,5,99],format:"special",tip:"villager.level",align:"R"},Trades:{type:"villTrade",format:"special",tip:"villager.Trades",align:"R"},Memories:{type:"memories",format:"special",tip:"villager.memories",align:"R"},Gossips:{type:"gossips",format:"special",tip:"villager.gossips",align:"R"},NoTrades:{label:"Untradable",type:"cb",format:"special",tip:"villager.NoTrades",align:"R"}});case"area_effect_cloud":return new area_effect_cloud(t,e);case"armor_stand":return new armor_stand(t,e);case"trident":return new trident(t,e);case"arrow":case"spectral_arrow":return new arrow(t,e);case"polar_bear":return new BreedableMob(t,e,{AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",align:"R",playerLookup:!0,tip:e}});case"slime":return new Mob(t,e,{Size:{type:"text",format:"int",tip:e,align:"R"},wasOnGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"magma_cube":return new Mob(t,e,{Size:{type:"text",format:"int",tip:"slime",align:"R"},wasOnGround:{type:"choice",values:unsetTrueFalse,format:"b",tip:"slime",align:"R"}});case"firework_rocket":return new firework_rocket(t,e);case"warden":return new warden(t,e);case"phantom":return new Mob(t,e,{AX:{type:"text",format:"int",align:"R",tip:e},AY:{type:"text",format:"int",align:"R"},AZ:{type:"text",format:"int",align:"R"},Size:{type:"text",format:"int",align:"R",tip:e}});case"enderman":return new enderman(t,e,{AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",align:"R",playerLookup:!0,tip:e}});case"witch":case"pillager":return new pillager(t,e);case"illusioner":return new pillager(t,e,{SpellTicks:{type:"ticks",tip:"evoker",align:"R"}});case"evoker":return new pillager(t,e,{SpellTicks:{type:"ticks",tip:e,align:"R"}});case"vindicator":return new pillager(t,e,{Johnny:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"ravager":return new pillager(t,e,{AttackTick:{type:"ticks",tip:e,align:"R"},RoarTick:{type:"ticks",tip:e,align:"R"},StunTick:{type:"ticks",tip:e,align:"R"}});case"endermite":return new Mob(t,e,{Lifetime:{type:"ticks",tip:e,align:"R"},PlayerSpawned:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"dragon_fireball":case"wither_skull":case"small_fireball":return new small_fireball(t,e);case"fireball":return new fireball(t,e);case"breeze_wind_charge":case"wind_charge":return new wind_charge(t,e);case"potion":return new potion(t,e);case"eye_of_ender":return new eye_of_ender(t,e);case"ender_pearl":case"snowball":case"experience_bottle":case"egg":return new ThrownThings(t,e);case"end_crystal":return new ender_crystal(t,e);case"ender_dragon":return new Mob(t,e,{DragonPhase:{type:"choice",values:[[-1,"unset"],[1,"strafing(preparing to shoot a fireball)"],[2,"flying to the portal to land"],[3,"landing on the portal"],[4,"taking off from the portal"],[5,"landed, performing breath attack"],[6,"landed, looking for a player for breath attack"],[7,"landed, roar before beginning breath attack"],[8,"charging player"],[9,"flying to portal to die"],[10,"hovering with no AI (Default)"]],format:"int",tip:e,align:"R"}});case"evoker_fangs":return new evoker_fangs(t,e);case"falling_block":return new falling_block(t,e);case"ominous_item_spawner":return new ominous_item_spawner(t,e);case"item":return new item(t,e);case"glow_item_frame":case"item_frame":return new item_frame(t,e);case"boat":return new Vehicle(t,e,{Type:{type:"makeSelect",values:["oak","spruce","birch","jungle","acacia","dark_oak","mangrove","bamboo","cherry"],format:"string",tip:e,align:"R"},Fire:{type:"ticks",tip:"entity"},HasVisualFire:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"}});case"ghast":return new Mob(t,e,{ExplosionPower:{type:"text",format:"int",tip:e,align:"R"}});case"minecart":return new minecart(t,e);case"tnt_minecart":return new minecart(t,e,{TNTFuse:{type:"ticks",tip:e,align:"R"}});case"chest_minecart":return new chest_minecart(t,e,27);case"chest_boat":return new chest_boat(t,e,27);case"hopper_minecart":return new hopper_minecart(t,e,5);case"furnace_minecart":return new minecart(t,e,{PushX:{type:"text",format:"d",tip:e,align:"R"},PushZ:{type:"text",format:"d",tip:e,align:"R"},Fuel:{type:"ticks",tip:e,align:"R"}});case"spawner_minecart":return new spawner_minecart(t,e);case"command_block_minecart":return new minecart(t,e,{Command:{type:"text",format:"string",tip:e,align:"R"},SuccessCount:{type:"text",format:"int",tip:e,align:"R"},LastOutput:{type:"text",format:"string",tip:e,align:"R"},TrackOutput:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"chicken":return new BreedableMob(t,e,{IsChickenJockey:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},EggLayTime:{type:"ticks",tip:e,align:"R"}});case"creeper":return new Mob(t,e,{powered:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},ExplosionRadius:{type:"text",format:"b",tip:e,align:"R"},Fuse:{type:"ticks",tip:e,align:"R"},ignited:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"mooshroom":return new Mooshroom(t,e);case"goat":return new BreedableMob(t,e,{IsScreamingGoat:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},HasLeftHorn:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},HasRightHorn:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"sniffer":case"cow":return new BreedableMob(t,e);case"hoglin":return new BreedableMob(t,e,{IsImmuneToZombification:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},TimeInOverworld:{type:"ticks",tip:e,align:"R"},CannotBeHunted:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"lightning_bolt":return new lightning_bolt(t,e);case"fishing_bobber":return new fishing_bobber(t,e);case"horse":case"camel":case"llama":case"trader_llama":case"donkey":case"mule":case"zombie_horse":case"skeleton_horse":return new HorseMob(t,e);case"block_display":case"item_display":case"text_display":return new DisplayEntity(t,e);case"interaction":return new InteractionEntity(t,e);case"marker":return new marker(t,e);case"leash_knot":return new SimpleEntity(t,e);case"llama_spit":return new llama_spit(t,e);case"turtle":return new BreedableMob(t,e,{HomePosX:{type:"text",format:"int",align:"R"},HomePosY:{type:"text",format:"int",align:"R"},HomePosZ:{type:"text",format:"int",align:"R"},TravelPosX:{type:"text",format:"int",align:"R"},TravelPosY:{type:"text",format:"int",align:"R"},TravelPosZ:{type:"text",format:"int",align:"R"},HasEgg:{type:"choice",values:unsetTrueFalse,format:"b",align:"R"}});case"fox":return new Fox(t,e);case"wolf":return new BreedableMob(t,e,{Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:"mob.Owner",playerLookup:!0},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"},AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",format:"special",align:"R",playerLookup:!0,tip:e},variant:{type:"makeSelect",hasUnset:!0,values:["pale","woods","ashen","black","chestnut","rusty","spotted","striped","snowy"],format:"string",tip:e,align:"R"},CollarColor:{type:"makeSelectWithIndexes",hasUnset:!0,values:woolDyes,format:"b",tip:e,align:"R"}});case"parrot":return new Mob(t,e,{Owner:{type:"UUIDArray",format:"intArray",align:"R",tip:"mob.Owner",playerLookup:!0},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"},Variant:{type:"choice",values:[[-1,"unset"],[0,"Red"],[1,"Blue"],[2,"Green"],[3,"Cyan"],[4,"Silver"]],format:"int",tip:e,align:"R"}});case"ocelot":return new BreedableMob(t,e,{Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"mob.Owner"},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"}});case"cat":return new BreedableMob(t,e,{Owner:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:"mob.Owner"},Sitting:{type:"choice",values:unsetTrueFalse,format:"b",tip:"tameable",align:"R"},variant:{type:"choice",values:[[-1,"unset"],["minecraft:all_black","Black"],["minecraft:british_shorthair","British Shorthair"],["minecraft:calico","Calico"],["minecraft:jellie","Jellie"],["minecraft:persian","Persian"],["minecraft:ragdoll","Ragdoll"],["minecraft:red","Red"],["minecraft:siamese","Siamese"],["minecraft:tabby","Tabby"],["minecraft:black","Tuxedo"],["minecraft:white","White"]],format:"string",tip:e,align:"R"},CollarColor:{type:"makeSelectWithIndexes",hasUnset:!0,values:woolDyes,format:"b",align:"R",tip:e}});case"strider":case"pig":return new BreedableMob(t,e,{Saddle:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"panda":return new BreedableMob(t,e,{MainGene:{type:"makeSelect",values:["normal","aggressive","weak","lazy","worried","playful","brown"],format:"string",tip:e,align:"R"},HiddenGene:{type:"makeSelect",values:["normal","aggressive","weak","lazy","worried","playful","brown"],format:"string",tip:e,align:"R"}});case"painting":return new painting(t,e,{facing:{type:"choice",values:[[-1,"unset"],["0","South"],["1","West"],["2","North"],["3","East"]],format:"b",tip:e,align:"R"},variant:{type:"makeSelect",values:paintingMotives,format:"special",tip:e,align:"R"},Invulnerable:{type:"choice",values:unsetTrueFalse,format:"b",tip:"entity"}});case"rabbit":return new BreedableMob(t,e,{RabbitType:{type:"choice",values:[[-1,"unset"],[0,"Brown"],[1,"White"],[2,"Black"],[3,"Black &amp; White"],[4,"Gold"],[5,"Salt &amp; Pepper"],[99,"Killer Bunny"]],format:"int",tip:e,align:"R"},MoreCarrotTicks:{type:"ticks",tip:e,align:"R"}});case"sheep":return new BreedableMob(t,e,{Sheared:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},Color:{type:"makeSelectWithIndexes",values:woolDyes,format:"b",tip:e,hasUnset:!0,align:"R"}});case"shulker":return new Mob(t,e,{Peek:{type:"text",format:"b",tip:e,align:"R"},AttachFace:{type:"choice",values:[[0,"Above"],[1,"Below"],[2,"South"],[3,"North"],[4,"East"],[5,"West"]],format:"b",tip:e,align:"R"},Color:{type:"makeSelectWithIndexes",values:woolDyes.concat("Default"),format:"b",tip:e,hasUnset:!0,align:"R"},APX:{type:"text",format:"int",tip:"shulker.AP",align:"R"},APY:{type:"text",format:"int",tip:"shulker.AP",align:"R"},APZ:{type:"text",format:"int",tip:"shulker.AP",align:"R"}});case"shulker_bullet":return new shulker_bullet(t,e);case"snow_golem":return new Mob(t,e,{Pumpkin:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"}});case"tnt":return new tnt(t,e);case"vex":return new Mob(t,e,{BoundX:{type:"text",format:"int",tip:"vex.Bound",align:"R"},BoundY:{type:"text",format:"int",tip:"vex.Bound",align:"R"},BoundZ:{type:"text",format:"int",tip:"vex.Bound",align:"R"},LifeTicks:{type:"ticks",tip:e,align:"R"}});case"wandering_trader":case"villager":return new villager(t,e);case"allay":return new allay(t,e);case"iron_golem":return new Mob(t,e,{PlayerCreated:{type:"choice",values:unsetTrueFalse,format:"b",tip:e,align:"R"},AngerTime:{type:"ticks",tip:e,align:"R"},AngryAt:{type:"UUIDArray",align:"R",playerLookup:!0,tip:e}});case"wither":return new Mob(t,e,{Invul:{type:"ticks",tip:e,align:"R"}});case"experience_orb":return new SimpleEntity(t,e,{Age:{type:"ticks",tip:"xp_orb",align:"R"},Count:{type:"text",format:"int",tip:"xp_orb",align:"R"},Health:{type:"text",format:"b",tip:"xp_orb",align:"R"},Value:{type:"text",format:"short",tip:"xp_orb",align:"R"}});case"player":return new Player(t,e)}return null}function loadBlockClass(e){if(null==e)return new Block(e,{});if(-1!=e.indexOf("shulker_box"))return new BlockWithSlots(e,{LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"chest.LootTable"}},27);switch(e){case"white_banner":case"orange_banner":case"magenta_banner":case"light_blue_banner":case"yellow_banner":case"lime_banner":case"pink_banner":case"gray_banner":case"light_gray_banner":case"cyan_banner":case"purple_banner":case"blue_banner":case"brown_banner":case"green_banner":case"red_banner":case"black_banner":case"white_wall_banner":case"orange_wall_banner":case"magenta_wall_banner":case"light_blue_wall_banner":case"yellow_wall_banner":case"lime_wall_banner":case"pink_wall_banner":case"gray_wall_banner":case"light_gray_wall_banner":case"cyan_wall_banner":case"purple_wall_banner":case"blue_wall_banner":case"brown_wall_banner":case"green_wall_banner":case"red_wall_banner":case"black_wall_banner":return new Banner(e,{BlockEntityTag:{type:"text",fwClass:"bigTF",format:"special",tip:"banner"},CustomName:{type:"customNameJSON",format:"special",tip:"banner.CustomName"}});case"enchanting_table":return new Block(e,{CustomName:{type:"customNameJSON",format:"special",tip:"enchanting_table.CustomName"}});case"sculk_shrieker":return new Block(e,{warning_level:{hasUnset:!0,type:"makeSelect",values:[0,1,2,3,4],format:"int",tip:"sculk_shrieker"}});case"beacon":return new Beacon(e);case"bee_nest":case"beehive":return new BeeHiveNest(e);case"chest":case"barrel":case"trapped_chest":return new BlockWithSlots(e,{LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"chest.LootTable"}},27);case"brewing_stand":return new BlockWithSlots(e,{BrewTime:{type:"ticks",tip:e},Fuel:{type:"text",format:"b",tip:e}},5);case"dropper":case"dispenser":return new BlockWithSlots(e,{LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"chest.LootTable"}},9);case"blast_furnace":case"smoker":case"furnace":return new BlockWithSlots(e,{BurnTime:{type:"ticks",tip:"furnace.BurnTime"},CookTime:{type:"ticks",tip:"furnace.CookTime"},CookTimeTotal:{type:"ticks",tip:"furnace.CookTimeTotal"},RecipesUsed:{type:"RecipesUsed",tip:"furnace.RecipesUsed"}},3);case"soul_campfire":case"campfire":return new campfire(e,{},4);case"crafter":return new crafter(e);case"hopper":return new BlockWithSlots(e,{TransferCooldown:{type:"text",tip:e,format:"short"},LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"chest.LootTable"}},5);case"comparator":return new Block(e,{OutputSignal:{type:"text",tip:"comparator.OutputSignal",format:"int"}});case"command_block":case"repeating_command_block":case"chain_command_block":return new CommandBlock(e);case"decorated_pot":return new DecoratedPot(e,{});case"end_gateway":return new EndGateway(e,{Age:{type:"text",tip:e,format:"long"},ExactTeleport:{type:"choice",values:unsetTrueFalse,tip:e,format:"b"},exit_portalX:{type:"text",format:"special",tip:"end_gateway.ExitPortal",align:"R"},exit_portalY:{type:"text",format:"special",align:"R"},exit_portalZ:{type:"text",format:"special",align:"R"}});case"jukebox":return new JukeBox(e,{RecordItem:{type:"itemselect",forceConstruct:!0,tip:e}});case"suspicious_gravel":case"suspicious_sand":return new SusSand(e,{item:{type:"itemselect",forceConstruct:!0,tip:"suspicious_sand.item"},LootTable:{type:"text",fwClass:"bigTF",format:"string",tip:"suspicious_sand.LootTable"}});case"sculk_catalyst":return new SculkCatalyst(e);case"lectern":return new Lectern(e,{Page:{type:"text",format:"int",tip:e},Book:{type:"itemselect",forceConstruct:settings.loadItemUI,tip:e}});case"vault":return new Vault(e);case"trial_spawner":return new TrialSpawner(e);case"spawner":return new MobSpawner(e);case"piston":return new Block(e,{blockID:{type:"text",format:"int",tip:e},blockData:{type:"text",format:"int",tip:e},facing:{type:"choice",values:dunswe,format:"int",tip:e},progress:{type:"text",format:"f",tip:e},extending:{type:"choice",values:unsetTrueFalse,format:"b",tip:e},source:{type:"choice",values:unsetTrueFalse,format:"b",tip:e}});case"conduit":return new Block(e,{Target:{type:"UUIDArray",format:"intArray",align:"R",playerLookup:!0,tip:e}});case"jigsaw":return new Block(e,{name:{type:"text",format:"string",fwClass:"bigTF",value:"minecraft:empty",tip:e},pool:{type:"text",format:"string",fwClass:"bigTF",value:"minecraft:empty",tip:e},final_state:{type:"text",format:"string",fwClass:"bigTF",value:"minecraft:air",tip:e},target:{type:"text",format:"string",fwClass:"bigTF",value:"minecraft:empty",tip:e},joint:{type:"makeSelect",format:"string",values:["aligned","rollable"],fwClass:"bigTF",value:"minecraft:empty",tip:e}});case"player_wall_head":case"player_head":return new PlayerHead(e,{});case"chiseled_bookshelf":return new BlockWithSlots(e,{},6);case"oak_sign":case"spruce_sign":case"birch_sign":case"jungle_sign":case"acacia_sign":case"dark_oak_sign":case"mangrove_sign":case"crimson_sign":case"warped_sign":case"bamboo_sign":case"cherry_sign":case"oak_wall_hanging_sign":case"spruce_wall_hanging_sign":case"birch_wall_hanging_sign":case"jungle_wall_hanging_sign":case"acacia_wall_hanging_sign":case"dark_oak_wall_hanging_sign":case"mangrove_wall_hanging_sign":case"crimson_wall_hanging_sign":case"warped_wall_hanging_sign":case"bamboo_wall_hanging_sign":case"cherry_wall_hanging_sign":case"oak_hanging_sign":case"spruce_hanging_sign":case"birch_hanging_sign":case"jungle_hanging_sign":case"acacia_hanging_sign":case"dark_oak_hanging_sign":case"mangrove_hanging_sign":case"crimson_hanging_sign":case"warped_hanging_sign":case"bamboo_hanging_sign":case"cherry_hanging_sign":case"oak_wall_sign":case"spruce_wall_sign":case"birch_wall_sign":case"jungle_wall_sign":case"acacia_wall_sign":case"dark_oak_wall_sign":case"mangrove_wall_sign":case"warped_wall_sign":case"crimson_wall_sign":case"bamboo_wall_sign":case"cherry_wall_sign":return new Sign(e,{is_waxed:{type:"choice",values:unsetTrueFalse,format:"b",tip:"sign",align:"R"}});case"structure_block":return new Block(e,structureBlockNBT);default:return new Block(e,{})}}function buildListOfBlocksWithData(){for(var e in itemsAndBlocks){var t;"i"!=itemsAndBlocks[e].c&&(t=loadBlockClass(e),Object.keys(t.blockNBT).length)&&hasBlockData.push(e)}}function copyEntityNBT(e){copyToClipboard('{id:"minecraft:'+$("#entity"+e).val()+'"'+entityDescriptors["e"+e].getEntitySpecificCommand(e)+"}")}function pasteEntityNBT(n){navigator.clipboard.readText().then(t=>{try{var e=new CMDParser(""),a=e.parseCompound(extractSegment("{","}",t.indexOf("{"),t)),o=extractMinecraftID(a.id.val);$("#entity"+n+"_filter").val(""),$("#entity"+n+"_filter").trigger("keyup"),$("#entity"+n).val(o),$("#entity"+n).trigger("change"),cachedNBT.clear(),e.loadSummonCommand(a,n),generateCommand()}catch(e){alertify.alert("Error Can't load in this NBT:<br>"+t+"<br>"+e.toString())}})}function copyItemNBT(e){copyToClipboard(getItemNBT(e))}function copyTradeNBT(e){$("#closeItemUI_"+e+"buy").trigger("click"),$("#closeItemUI_"+e+"buyB").trigger("click"),$("#closeItemUI_"+e+"sell").trigger("click");let t=getTradeNBT(e);copyToClipboard(t=t.length?"{"+t.substr(1)+"}":t)}function pasteTradeNBT(a){$("#closeItemUI_"+a+"buy").trigger("click"),$("#closeItemUI_"+a+"buyB").trigger("click"),$("#closeItemUI_"+a+"sell").trigger("click"),navigator.clipboard.readText().then(t=>{try{var e=new CMDParser("");addTradeFromNBT(e.parseCompound(extractSegment("{","}",t.indexOf("{"),t)),a,e),generateCommand()}catch(e){alertify.alert("Error Can't load in this Trade:<br>"+t+"<br>"+e.toString())}})}function moveTrade(e,t){var a=e.substr(0,e.indexOf("_"));let o=[];$("#"+a+" > .trade").each(function(e){o.push(this.id)});var n,a=o.indexOf(e);(1==t&&a<o.length-1||-1==t&&0<a)&&(e=a+t,$("#closeItemUI_"+o[a]+"buy").trigger("click"),$("#closeItemUI_"+o[a]+"buyB").trigger("click"),$("#closeItemUI_"+o[a]+"sell").trigger("click"),$("#closeItemUI_"+o[e]+"buy").trigger("click"),$("#closeItemUI_"+o[e]+"buyB").trigger("click"),$("#closeItemUI_"+o[e]+"sell").trigger("click"),t=getTradeNBT(o[a]),aNBT=getTradeNBT(o[e]),bNBT=t,aNBT.length&&(aNBT="{"+aNBT.substr(1)+"}"),bNBT.length&&(bNBT="{"+bNBT.substr(1)+"}"),n=(t=new CMDParser("")).parseCompound(extractSegment("{","}",aNBT.indexOf("{"),aNBT)),cachedNBT.setNBT(o[a]+"buy",""),cachedNBT.setNBT(o[a]+"buyB",""),cachedNBT.setNBT(o[a]+"sell",""),cachedNBT.setNBT(o[e]+"buy",""),cachedNBT.setNBT(o[e]+"buyB",""),cachedNBT.setNBT(o[e]+"sell",""),addTradeFromNBT(n,o[a],t),addTradeFromNBT(n=t.parseCompound(extractSegment("{","}",bNBT.indexOf("{"),bNBT)),o[e],t),generateCommand())}function pasteItemNBT(s){navigator.clipboard.readText().then(t=>{try{var e=new CMDParser(""),a=e.parseCompound(extractSegment("{","}",t.indexOf("{"),t)),o=extractMinecraftID(a.id.val);if($("#"+s+"_filter").val(""),updateItemSelectOptions("#"+s),!$("#"+s+" option[value='"+o+"']").length)throw new MCSException(o+" is not a valid item id");if($("#"+s).val(o),$("#"+s).trigger("change"),null!=a.count&&$(`#${s}Count`).val(parseInt(a.count.val)),null!=a.components)for(const n in a.components.val)loadComponentNBTIntoSlot(extractMinecraftID(n),o,s,{val:a.components.val[n].val});generateCommand()}catch(e){alertify.alert("Error Can't load in this Item:<br>"+t+"<br>"+e.toString())}})}function copyToClipboard(e){if(navigator.clipboard&&navigator.clipboard.writeText)navigator.clipboard.writeText(e).then(function(){},function(){});else{var t=document.createElement("textarea");t.value=e,t.style.top="0",t.style.left="0",t.style.position="fixed",document.body.appendChild(t),t.focus(),t.select();try{document.execCommand("copy")}catch(e){}document.body.removeChild(t)}}function unsetItem(e){$("#"+e+"_filter").val(""),$("#"+e+"_filter").trigger("keyup"),$("#"+e).val("-1"),$("#"+e).trigger("change"),cachedNBT.unsetItem(e),generateCommand()}function getHexColor(e){return("000000"+(e>>>0).toString(16)).slice(-6).toUpperCase()}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function loadVersions(){($("#intro").length?$("#intro"):$("#commandForm")).load("vers.html")}function loadSupporters(){($("#intro").length?$("#intro"):$("#commandForm")).load("supporters.php")}$(function(){loadItemsAndBlocks((settings=new Settings).lang),window.onresize=function(){desktopMode&&$("#commandOutput").css({top:0,left:$(window).width()-510})},$(document).mousemove(function(e){mouse.x=e.pageX,mouse.y=e.pageY}),$(document).bind("keydown",function(e){e.ctrlKey&&(90==e.keyCode?(loadFromHistory(-1),e.preventDefault()):89==e.keyCode&&(loadFromHistory(1),e.preventDefault()))}),navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/Android/i)?(desktopMode=!1,$(".ui-widget-content").css({position:"relative",width:"100%",top:0,left:0})):($("#clipBoard").draggable(),$("#commandOutput").draggable(),$("#commandInput").draggable(),$(".ui-widget-content").on("click",function(){bringToFront(this.id)})),$("#clipBoard").hide(),$("#commandOutput").hide(),$("#commandInput").hide(),$("#community").hide(),$("#toClipBoard").bind("click",function(){copyToClipboard($("#commandOutput-ta").val())}),$("#parseNBT").bind("click",function(){parseNBT(stripHTMLTags($("#commandInput-ta").val().trim()),CURRENT_VERSION)}),$("#closeImportBut").bind("click",function(){$("#commandInput").hide()}),$("#clearNBT").bind("click",function(){$("#commandInput-ta").val("")}),$("#disableOutput").bind("change",function(){$("#disableOutput").is(":checked")?$("#commandOutput-ta").val("Command output is disabled to improve performance while you work on large commands."):generateCommand()}),$(".combut").each(function(){"/"==$(this).html().charAt(0)&&$("#homePageCommandChooser").append(`<option value="${$(this).html()}">${$(this).html()}</option>`)}),$("#homePageCommandChooser").bind("change",function(){loadForm($("#homePageCommandChooser").val().substr(1))}),localStorage.cmdHistory&&(cmdHistory=JSON.parse(localStorage.cmdHistory)),loadManagement()});const CURRENT_VERSION="1.21";var signedIn=!1,sortField="title",sortOrder="a",gRowIndex=0,userToken="",commandID=-1,mcfunctions=[],currentFunctionEdit=-1,ttNewPassword="The supplied password must be between 6 and 64 characters and can only contain numbers, letters, dashes, or underscores.",llPasswordReset="Password Reset",llEnterEmail="Enter the email that you supplied when you created your account. MCStacker will reset your password and email it to you.",monthNames=new Array("Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec");function mkTT(e){return' title="'+e+'"'}function getCookie(e){for(var t=e+"=",a=document.cookie.split(";"),o=0;o<a.length;o++){for(var n=a[o];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return""}function setCookie(e,t,a){var o,n="";a&&((o=new Date).setTime(o.getTime()+24*a*60*60*1e3),n="; expires="+o.toUTCString()),document.cookie=e+"="+(t||"")+n+"; path=/"}function loadManagement(){userToken=getCookie("userToken"),loadNavPane();var e=window.location.hash;"#"==e.charAt(0)&&$.isNumeric(e.substr(2))&&(showCommunity(),showDetails(e.substr(2),!0))}function hashpword(e){return tmp=MD5(e+"This is the client side salt. There is more robust seasoning at the server side")}function loadNavPane(){$("#navPane").html(makeNavButton("Search","showSearch()","Search and Browse commands saved by others")),$.post("mcstacker2.php",{op:"isSignedIn",userToken:userToken},function(e,t){var a="<a class='redX' href=\"javascript:hideSavedCommands()\">&#9747;</a>";"signedIn"==$(e).find("action").text()?($("#navPane").append(makeNavButton("My Commands","showAccount('title', 'a', 0)")+makeNavButton("Favorites","showMyLikes('title','a',0)")+makeNavButton("Discuss","showDiscussions('title','a',0)")+makeNavButton("Account Settings","showAccountSettings()")+makeNavButton("Sign Out","signOut()")+"<span class='fRight'>"+$(e).find("username").text()+a+"</span>"),signedIn=!0,$("#commandOutput").append("<span id='saveAsBut' class='greenPlus'>Save Command</span>"),$("#saveAsBut").bind("click",function(){$("#community").show(),makeDetailsForm("",-1,$("#commandOutput-ta").val())})):($("#navPane").append(makeNavButton("Sign In","displayLogin('You are not currently signed in.')")+"<span class='fRight'>"+a+"</span>"),signedIn=!1)})}function hideSavedCommands(){$("#community").hide()}function showDiscussions(e,t,a){$("#manPane").html("<div id='searchResults'></div><div id='detailsPane'></div>");var o=$("#commandsPerPage").length?$("#commandsPerPage").val():10;gRowIndex=a,$.post("mcstacker2.php",{op:"searchCommands2",searchWhat:"unread",commandTypeSearch:"Any",searchString:"",userToken:userToken,sortField:e,sortOrder:t,commandsPerPage:o,rowIndex:a},function(e,t){"searchResult"==$(e).find("action").text()?showSearchResult(e,a,"unread"):"searchFailed"==$(e).find("action").text()&&$("#searchResults").html($(e).find("message").text())})}function showMyLikes(e,t,a){var o=$("#commandsPerPage").length?$("#commandsPerPage").val():10;$("#manPane").html("<div id='searchResults'></div><div id='detailsPane'></div>"),gRowIndex=a,$.post("mcstacker2.php",{op:"searchCommands2",userToken:userToken,searchWhat:"likes",commandTypeSearch:"Any",searchString:"",sortField:e,sortOrder:t,commandsPerPage:o,rowIndex:a},function(e,t){"searchResult"==$(e).find("action").text()?showSearchResult(e,a,"likes"):"searchFailed"==$(e).find("action").text()&&$("#searchResults").html($(e).find("message").text())})}function showHome(){$("#manPane").load(ppAbout)}function showHelp(){$("#manPane").load(ppHelp)}function makeNavButton(e,t,a){return'<a href="javascript:'+t+"\" class='navButton' "+(ttip=null!=a?mkTT(a):"")+">"+e+"</a>"}function makeButton(e,t,a){return'<a href="javascript:'+t+"\" class='mButton' "+(ttip=null!=a?mkTT(a):"")+">"+e+"</a>"}function makePageButton(e,t,a){return'<a href="javascript:'+t+"\" class='"+a+"'>"+e+"</a>"}function makeButtonR(e,t,a){return'<a href="javascript:'+t+"\" class='mButton fRight' "+mkTT(a)+">"+e+"</a>"}function doSignIn(){hashedpword=hashpword($("#password").val()),$.post("mcstacker2.php",{op:"doSignIn",hashedpword:hashedpword,username:$("#username").val()},function(e,t){userToken=$(e).find("userToken").text(),message=$(e).find("message").text(),"showCommands"==$(e).find("action").text()?(showCommands(e,0),loadNavPane()):"signInFailed"==$(e).find("action").text()&&($("#message").html(message),alertify.error(message))})}function showSearch(){makeSearchForm(),doSearch("date_modified","d",0)}function makeSearchForm(){for(var e=["Any","bossbar","data","effect","execute","fill","give","item","kill","loot","particle","playsound","replaceitem","scoreboard","setblock","summon","team","teleport","tellraw","title"],t="",a=0;a<e.length;a++)t+="<option value='"+e[a]+"'>"+e[a]+"</option>";$("#manPane").html("<h2 class='command'>Search/Browse</h2><label labelfor='commandTypeSearch' class='search'>Command Type</label><select id='commandTypeSearch'>"+t+"</select><label labelfor='searchWhat' class='search'>Search By</label><select id='searchWhat'"+mkTT("Narrow down your search by choosing to search only some parts of the saved information.")+"><option value='0'>Title, Description or Creator</option><option value='1'>Title</option><option value='2'>Description</option><option value='4'>Creator</option><option value='3'>Tag</option><option value='6'>Comments</option></select><label labelfor='searchString' class='search'>Search Text</label><input type='text' id='searchString'"+mkTT("Search for text in saved commands. Leave blank to browse all commands. Advanced boolean search strings are accepted. A leading plus (+) sign indicates that this word must be present in every result returned. A leading minus (-) sign indicates that this word must not be present in any result returned. ( ) Parentheses are used to group words into sub expressions. A phrase that is enclosed in double quotes matches only results that contain this phrase literally.")+">"+makeButton("Search/Browse","onClick=doSearch('title', 'a', 0)","Search and browse commands created by other users.")+"<div id='searchResults'></div>")}function searchUsers(e){makeSearchForm(),$("#commandTypeSearch").val("Any"),$("#searchWhat").val(4),$("#searchString").val(e),doSearch("title","a",0)}function searchTag(e){showSearch(),$("#commandTypeSearch").val("Any"),$("#searchWhat").val(3),$("#searchString").val(e),doSearch("title","a",0)}function doSearch(e,t,a){sortOrder=t,sortField=e;t=$("#commandsPerPage").length?$("#commandsPerPage").val():10;$.post("mcstacker2.php",{op:"searchCommands2",searchWhat:$("#searchWhat").val(),commandTypeSearch:$("#commandTypeSearch").val(),searchString:$("#searchString").val(),userToken:userToken,sortField:sortField,sortOrder:sortOrder,rowIndex:a,commandsPerPage:t},function(e,t){"searchResult"==$(e).find("action").text()?showSearchResult(e,a,"search"):"searchFailed"==$(e).find("action").text()&&$("#searchResults").html($(e).find("message").text())})}function showSearchResult(e,a,o){$("#searchResults").empty();var t="",n=$(e).find("rowCount").text(),s="";if(10<n){cmdPerPage=parseInt($(e).find("commandsPerPage").text());let t="";for(let e=0;e<n;e+=cmdPerPage)t+=`<option value='${e}'>${e+1} to ${e+cmdPerPage}</option>`;for($("#searchResults").append(`<label labelfor='pageGroup' class='search'>Commands</label><select id='pageGroup' class='updateSearch'>${t}</select>`),0<$(`#pageGroup option[value='${a}']`).length&&$("#pageGroup").val(a),$("#searchResults").append(`<label labelfor='commandsPerPage' class='search'>Per Page</label><select id='commandsPerPage' class='updateSearch'>
				<option value='10'>10</option>
				<option value='50'>50</option>
				<option value='100'>100</option>
				<option value='500'>500</option>
				<option value='1000'>1000</option></select>`),$("#commandsPerPage").val(cmdPerPage),$(".updateSearch").bind("change",function(){"search"==o?doSearch(sortField,sortOrder,$("#pageGroup").val()):"likes"==o?showMyLikes(sortField,sortOrder,$("#pageGroup").val()):"unread"==o&&showDiscussions(sortField,sortOrder,$("#pageGroup").val())}),func="likes"==o?"showMyLikes":"doSearch",i=0;i*cmdPerPage<n&&i<30;i++)a==i*cmdPerPage?s+=makePageButton(i+1,func+"('"+sortField+"', '"+sortOrder+"', "+i*cmdPerPage+")","pageButtonSelected"):s+=makePageButton(i+1,func+"('"+sortField+"', '"+sortOrder+"', "+i*cmdPerPage+")","pageButton");0<s.length&&(s="<br>"+s+"<br><br>")}$("row",e).each(function(e){user=$(this).find("username").text(),cid=$(this).find("cid").text(),rowClass=e%2==0?"srRowLight":"srRowDark",t+="<tr class='"+rowClass+"'><td><a href=\"javascript:showDetails("+cid+')">'+$(this).find("title").text()+"</a></td><td>"+$(this).find("description").text()+"</td><td>"+$(this).find("commandType").text()+"</td><td><a href=\"javascript:searchUsers('"+user+"')\">"+user+"</a></td><td>"+convertTime($(this).find("modifiedTime").text())+"</td><td>"+$(this).find("rank").text()+"</td></tr>"}),0<t.length&&$("#searchResults").append("<div style='max-height: 200px;overflow: auto;'>"+s+"<table class='searchResults'><tr><th width=200>"+makeSortCol("Name","title",o)+"</th><th width='700'>"+makeSortCol("Description","description",o)+"</th><th width=100>"+makeSortCol("Type","command_type_id",o)+"</th><th width=100>"+makeSortCol("Creator","username",o)+"</th><th width=150>"+makeSortCol("Date Modified","date_modified",o)+"</th><th width=150>"+makeSortCol("Likes","votes",o)+"</th></tr>"+t+"</table></div><div id='detailsPane'></div>")}function showCommands(e,a){$("#manPane").html(makeSearchFormMyCommands()+"<br>");var t="",o=$(e).find("rowCount").text(),n="";if(10<o){let t="";var s=parseInt($(e).find("commandsPerPage").text());for(let e=0;e<o;e+=s)t+=`<option value='${e}'>${e+1} to ${e+s}</option>`;for($("#manPane").append(`<label labelfor='pageGroup' class='search'>Commands</label><select id='pageGroup' class='updateSearch'>${t}</select>`),0<$(`#pageGroup option[value='${a}']`).length&&$("#pageGroup").val(a),$("#manPane").append(`<label labelfor='commandsPerPage' class='search'>Per Page</label><select id='commandsPerPage' class='updateSearch'>
				<option value='10'>10</option>
				<option value='50'>50</option>
				<option value='100'>100</option>
				<option value='500'>500</option>
				<option value='1000'>1000</option></select>`),$("#commandsPerPage").val(s),$(".updateSearch").bind("change",function(){doSearchMyCommands(sortField,sortOrder,$("#pageGroup").val())}),i=0;i*s<o&&i<30;i++)a==i*s?n+=makePageButton(i+1,"showAccount('"+sortField+"', '"+sortOrder+"', "+i*s+")","pageButtonSelected"):n+=makePageButton(i+1,"showAccount('"+sortField+"', '"+sortOrder+"', "+i*s+")","pageButton");0<n.length&&(n="<br>"+n+"<br><br>")}$("row",e).each(function(e){cid=$(this).find("cid").text(),rowClass=e%2==0?"srRowLight":"srRowDark",t+="<tr class='"+rowClass+"'><td><a href=\"javascript:showDetails("+cid+')">'+$(this).find("title").text()+"</a></td><td>"+$(this).find("description").text()+"</td><td>"+$(this).find("commandType").text()+"</td><td>"+tickORCross("public",$(this).find("public").text(),cid)+"</td><td>"+tickORCross("allow_comments",$(this).find("allow_comments").text(),cid)+"</td><td>"+$(this).find("mcVersion").text()+"</td><td>"+convertTime($(this).find("modifiedTime").text())+'</td><td><a href="javascript:saveDetailsForm('+cid+",0)\"><img src='edit.png'></a></td><td><a href=\"javascript:deleteCommand("+cid+")\"><img src='trash.png'></a></td></tr>"}),0<t.length?$("#manPane").append("<div style='max-height: 200px;overflow: auto;'>"+n+"<table class='searchResults'><tr><th width=200>"+makeSortCol("Name","title","mine")+"</th><th width='700'>"+makeSortCol("Description","description","mine")+"</th><th width=100>"+makeSortCol("Type","command_type_id","mine")+"</th><th width=100>"+makeSortCol("Public","public","mine")+"</th><th width=200>"+makeSortCol("Allow Comments","allow_comments","mine")+"</th><th width=50> "+makeSortCol("Ver","mc_version","mine")+"</th><th width=150> "+makeSortCol("Modified","date_modified","mine")+"</th><th colspan=2 width=40></th></tr>"+t+"</table></div><div id='detailsPane'></div>"):$("#manPane").append("<p class='command'>No commands to show.</p>")}function makeSearchFormMyCommands(){return"<h2 class='command'>Search/Browse My Commands</h2><label labelfor='searchString' class='search'>Search Text</label><input type='text' id='searchString'"+mkTT("Search for text in your saved commands. Leave blank to browse all your commands. Advanced boolean search strings are accepted. A leading plus (+) sign indicates that this word must be present in every result returned. A leading minus (-) sign indicates that this word must not be present in any result returned. ( ) Parentheses are used to group words into sub expressions. A phrase that is enclosed in double quotes matches only results that contain this phrase literally.")+">"+makeButton("Search/Browse","onClick=doSearchMyCommands('title', 'a', 0)","Search and browse your commands")}function doSearchMyCommands(e,t,a){sortOrder=t,sortField=e;let o=$("#searchString").val();t=$("#commandsPerPage").length?$("#commandsPerPage").val():10;$.post("mcstacker2.php",{op:"searchMyCommands2",searchString:$("#searchString").val(),userToken:userToken,sortField:sortField,sortOrder:sortOrder,rowIndex:a,commandsPerPage:t},function(e,t){"showCommands"==$(e).find("action").text()?(showCommands(e,a),$("#searchString").val(o)):"searchFailed"==$(e).find("action").text()&&$("#searchResults").html($(e).find("message").text())})}function tickORCross(e,t,a){return 1==t?"<input type='checkbox' id='"+e+a+"' CHECKED onClick='publicClicked("+a+")'>":"<input type='checkbox' id='"+e+a+"' onClick='publicClicked("+a+")'>"}function makeSortCol(e,t,a){return t==sortField?"<a href=\"javascript:sortByField('"+t+"', '"+a+"')\" class='sortHeader'>"+e+" "+("a"==sortOrder?"&uarr;":"&darr;")+"</a>":"<a href=\"javascript:sortByField('"+t+"', '"+a+"')\" class='sortHeader'>"+e+" &uarr;</a>"}function sortByField(e,t){e==sortField?sortOrder="a"==sortOrder?"d":"a":(sortOrder="a",sortField=e),"search"==t?doSearch(sortField,sortOrder,0):"mine"==t?showAccount(sortField,sortOrder,0):"likes"==t?showMyLikes(sortField,sortOrder,0):"unread"==t&&showDiscussions(sortField,sortOrder,0)}function changePassword(){$("#manPane").html("<h2>Change Password</h2><form action='' name='form' onSubmit='event.preventDefault();doPasswordChange()'><label labelfor='oldpassword' class='settingsLabel'>Current Password</label><input type='password' id='oldpassword'><br><label labelfor='newpassword' class='settingsLabel'>New Password</label><input type='password' id='newpassword'"+mkTT(ttNewPassword)+"><br><label labelfor='newpasswordconfirm' class='settingsLabel'>Confirm Password</label><input type='password' id='newpasswordconfirm'"+mkTT(ttNewPassword)+"><input type='submit' value='Change Password'></form><div id='message'></div>")}function doPasswordChange(){/^[A-Za-z0-9_-]{6,64}$/.test($("#newpassword").val())?$("#newpasswordconfirm").val()!=$("#newpassword").val()?$("#message").html("Your passwords do not match."):(hashednewpword=hashpword($("#newpassword").val()),hashedoldpword=hashpword($("#oldpassword").val()),$.post("mcstacker2.php",{op:"changePassword",userToken:userToken,hashednewpword:hashednewpword,hashedoldpword:hashedoldpword},function(e,t){"showAccount"==$(e).find("action").text()?(alertify.log($(e).find("message").text()),showAccountDetails(e)):"changePasswordFailed"==$(e).find("action").text()&&$("#message").html($(e).find("message").text())})):$("#message").html(ttNewPassword)}function updateEmail(){$("#manPane").html("<h2>Update Email</h2><form action='' name='form' onSubmit='event.preventDefault();doEmailChange()'><label labelfor='oldpassword' class='settingsLabel' class='settings'>New Email Address</label><input type='text' id='email'"+mkTT("Enter a valid email address.")+"><input type='submit' value='Update Email'><div id='message'></div>")}function doEmailChange(){$.post("mcstacker2.php",{op:"changeEmail",userToken:userToken,email:$("#email").val()},function(e,t){"showAccount"==$(e).find("action").text()?(alertify.log($(e).find("message").text()),showAccountDetails(e)):"changeEmailFailed"==$(e).find("action").text()&&$("#message").html($(e).find("message").text())})}function showAccountDetails(e){$("#manPane").html("<br>"+makeButton("Sign Out","signOut()","Sign Out")+makeButton("Change Password","changePassword()","Change your password")+makeButton("Update Email Address","updateEmail()","Change your email address")+"<a href='delete_account.php' class='mButton' title='Permanantly remove your account and content'>Remove Account</a><br><br>"),$("#message").html($(e).find("message").text())}function showAccount(e,t,a){gRowIndex=a;var o=$("#commandsPerPage").length?$("#commandsPerPage").val():10;let n=""!=$("#searchString").val()?$("#searchString").val():"";$.post("mcstacker2.php",{op:"searchMyCommands2",userToken:userToken,sortField:e,sortOrder:t,rowIndex:a,commandsPerPage:o,searchString:n},function(e,t){message=$(e).find("message").text(),"showLogin"==$(e).find("action").text()?displayLogin(message):"showCommands"==$(e).find("action").text()&&(showCommands(e,a),n)&&$("#searchString").val(n)})}function showAccountSettings(){$.post("mcstacker2.php",{op:"showAccount",userToken:userToken},function(e,t){message=$(e).find("message").text(),"showLogin"==$(e).find("action").text()?displayLogin(message):"showAccount"==$(e).find("action").text()&&showAccountDetails(e)})}function signOut(){$("#saveAsBut").remove(),$.post("mcstacker2.php",{op:"signOut",userToken:userToken},function(e,t){loadNavPane(),displayLogin($(e).find("message").text())})}function displayLogin(e){$("#manPane").html("<h2>Sign In</h2><p class='settings'>"+e+"</p><form action='' name='form' onSubmit='event.preventDefault();doSignIn()'><label labelfor='username' class='settingsLabel'>Username/Email</label><input type='text' id='username'><br><label labelfor='password' class='settingsLabel'>Password</label><input type='password' id='password'><input type='submit' value='Sign In'></form><p class='settings'>"+makeButton("Register","displayRegistration()")+makeButton("Password Reset","forgotPassword()")+"</p><div id='message'></div>")}function displayRegistration(){$("#manPane").html("<span><h2>Register</h2><form action='' name='form' onSubmit='event.preventDefault();doRegistration()'><label labelfor='username' class='settingsLabel'>Username</label><input type='text' id='username'"+mkTT("The supplied user name must be between 3 and 16 characters and can only contain numbers, letters, dashes, underscores or @")+"><br><label labelfor='password' class='settingsLabel'>Password</label><input type='password' id='password'"+mkTT(ttNewPassword)+"><br><label labelfor='passwordconfirm' class='settingsLabel'>Password</label><input type='password' id='passwordconfirm'"+mkTT(ttNewPassword)+"><br><label labelfor='email' class='settingsLabel'>Email</label><input type='text' id='email'"+mkTT("Enter a valid email address.")+"><input type='submit' value='Register a new account'></form><div id='message'></div></span><span id='terms'></span>"),$("#terms").load("termsandprivacy.html")}function forgotPassword(){$("#manPane").html("<h2>"+llPasswordReset+"</h2><form action='' name='form' onSubmit='event.preventDefault();doPasswordReset()'><p class='command'>"+llEnterEmail+"</p><label labelfor='email' class='settingsLabel'>Email</label><input type='text' id='email'"+mkTT(llEnterEmail)+"><input type='submit' value='"+llPasswordReset+"'></form><div id='message'></div>")}function doPasswordReset(){$.post("mcstacker2.php",{op:"passwordReset",email:$("#email").val()},function(e,t){"passwordResetInvalidEmail"==$(e).find("action").text()?($("#message").html($(e).find("message").text()),alertify.error($(e).find("message").text())):"showLogin"==$(e).find("action").text()&&(displayLogin($(e).find("message").text()),alertify.log($(e).find("message").text()))})}function doRegistration(){$("#passwordconfirm").val()!=$("#password").val()?$("#message").html("Your passwords do not match."):/^[A-Za-z0-9_-]{6,64}$/.test($("#password").val())?(hashedpword=hashpword($("#password").val()),$.post("mcstacker2.php",{op:"doRegistration",hashedpword:hashedpword,username:$("#username").val(),email:$("#email").val()},function(e,t){"regSuccess"==$(e).find("action").text()?(displayLogin($(e).find("message").text()),alertify.log($(e).find("message").text())):"regFailed"==$(e).find("action").text()&&$("#message").html($(e).find("message").text())})):$("#message").html(ttNewPassword)}function makeTextArea(e,t,a,o){return"<textarea rows=10 cols=95 id='"+e+"' onkeyup=\"updateCharsLeft('"+e+"', "+a+')"'+mkTT(o)+">"+t+"</textarea><br><label class='details'></label>Markdown: [link]URL[title]URL Title[/title][/link], [b]<b>Bold</b>[/b], [i]<i>Italic</i>[/i], [u]<u>Underlined</u>[/u] <span id='"+e+"_charsLeft' class='charsLeft'>"+(a-t.length)+" Characters remaining.</span> "}function updateCharsLeft(e,t){(left=t-$("#"+e).val().length)<0?($("#"+e).val($("#"+e).val().substr(0,t)),$("#"+e+"_charsLeft").html("0 Characters remaining.")):$("#"+e+"_charsLeft").html(left+" Characters remaining.")}function copySaveCommandToClipboard(){copyToClipboard($("#commandString").val())}function makeDetailsForm(e,t,a){null==a&&(a=$(e).find("commandString").text()),$("#manPane").html("<div id='detailsPane'></div>"),$("#detailsPane").html("<span class='detsLine'><label labelfor='commandTitle' class='details'>Title</label><input type='text' id='commandTitle' class='inputVeryBig' value=\""+replaceAll('"',"'",$(e).find("commandTitle").text())+"\" onkeyup=\"updateCharsLeft('commandTitle', 64)\"> <span id='commandTitle_charsLeft'>"+(64-$(e).find("commandTitle").text().length)+" Characters remaining.</span></span><br><span class='detsLine'><label labelfor='commandDescription' class='details'>Description</label>"+makeTextArea("commandDescription",$(e).find("commandDescription").text(),5e3,"Describe what the command does and any other important information about it")+"</span><br><span class='detsLine'><label labelfor='commandString' class='details'>Command</label><textarea rows=10 cols=95 id='commandString' "+mkTT("The command string.")+">"+a+"</textarea></span><br><span class='detsLine'><label labelfor='commandString' class='details'></label>"+makeButton("Load into MCStacker form","loadSavedCommand('"+$(e).find("mc_version").text()+"')","Load this command into the MCStacker form")+"</span><br><span class='detsLine'><label labelfor='commandString' class='details'>mcfunction Files</label><span id='mcfunctions'><input type='file' id='files' name='files[]'  accept='.mcfunction,.txt' multiple /></span><span id='mcfunctionEdit'><textarea rows=10 cols=80 id='functionEditor' "+mkTT("Edit the mcfunctionfile")+"></textarea><br>File Name<input type=text' id='functionFileName'>"+makeButton("OK","saveMCFuncEdit()","Saves the edit to the mcfunction file. But you'll also need to save the entire command.")+makeButton("Cancel","closeMCFuncEdit()","Close this editor without saving the changes")+"</span><br><span class='detsLine'><label labelfor='public' class='details'>Public</label><input type='checkbox' id='public' onClick=\"publicClicked('')\""+mkTT("Unchecking this will make your command private. Only you will be able to see it.")+"></span><br><span class='detsLine'><label labelfor='allow_comments' class='details'>Allow Comments</label><input type='checkbox' id='allow_comments' onClick=\"publicClicked('')\""+mkTT("Unchecking this will prevent others from commenting on the command. Existing comments will still be displayed")+"></span><br><span class='detsLine'><label labelfor='tagEntry' class='details'>Tags</label><input type='text' onkeyup='processTagAdd()' id='tagEntry'"+mkTT("Tags are used for searching. Enter up to 10 words to describe this command. Separate tag words with commas(,)")+"><span id='tag_charsLeft'></span> <span id='tagWords'></span></span>"),$("#mcfunctionEdit").hide(),$("func",e).each(function(e){addNewMCFunctionLine($(this).find("filename").text(),$(this).find("content").text())}),$("#public").prop("checked","1"==$(e).find("public").text()),$("#allow_comments").prop("checked","1"==$(e).find("allow_comments").text()),$("word",e).each(function(e){$("#tagEntry").val($(this).text()+","),processTagAdd()}),$("#detailsPane").append("<br><br>"+makeButton("Save","saveCommand("+t+")")+makeButton("Cancel","showDetails("+commandID+")","Cancel this edit.")+"<br><br>"),document.getElementById("files").addEventListener("change",handleFileSelect,!1)}function addNewMCFunctionLine(e,t){for(var a=0;$("#mcfunc"+a).length;)a++;mcfunctions["f"+a]={name:e,content:t},$("#mcfunctions").append("<br><span id='mcfunc"+a+"' class='mcfunc'><span id='fileName"+a+"'>"+e+"</span>"+makeButton("Edit","editMCFunction("+a+")","This mcfunction file")+"<a class='redX' href=\"javascript:removeMCFuntion("+a+')">&#9747;</a></span>')}function mcfunctionsXML(){var e,t="<mcfuntions>";for(e in mcfunctions)t+="<func><filename>"+mcfunctions[e].name.htmlEscape()+"</filename><content>"+mcfunctions[e].content.htmlEscape()+"</content></func>";return t+="</mcfuntions>"}function handleFileSelect(e){for(var t=e.target.files,a=0;a<t.length;a++){f=t[a];var o=new FileReader;o.onload=function(t){return function(e){addNewMCFunctionLine(escape(t.name),e.target.result)}}(f),o.readAsBinaryString(f)}}function removeMCFuntion(e){delete mcfunctions["f"+e],$("#mcfunc"+e).remove()}function editMCFunction(e){currentFunctionEdit=e,$("#functionEditor").val(mcfunctions["f"+e].content),$("#functionFileName").val(mcfunctions["f"+e].name),$("#mcfunctionEdit").show()}function saveMCFuncEdit(){mcfunctions["f"+currentFunctionEdit].content=$("#functionEditor").val(),mcfunctions["f"+currentFunctionEdit].name=$("#functionFileName").val(),$("#fileName"+currentFunctionEdit).html(mcfunctions["f"+currentFunctionEdit].name),$("#mcfunctionEdit").hide()}function closeMCFuncEdit(){$("#mcfunctionEdit").hide()}function readURL(e){}function publicClicked(e){public_=$("#public"+e).is(":checked")?($("#allow_comments"+e).prop("disabled",!1),1):($("#allow_comments"+e).prop("disabled",!0),$("#allow_comments"+e).prop("checked",!1),0),ac_=$("#allow_comments"+e).is(":checked")?1:0,""!=e&&$.post("mcstacker2.php",{op:"changePrivacy",userToken:userToken,commandID:e,public_:public_,allow_comments:ac_},function(e,t){})}function processTagAdd(){if(counter=0,64<(str=$("#tagEntry").val()).length&&","!=str.charAt(64)&&(str=str.substring(0,64),$("#tagEntry").val(str)),$("#tag_charsLeft").html(` ${64-str.length} Characters remaining.`),","==str.substr(str.length-1)){if(0<(word=str.substr(0,str.length-1).trim()).length){for(id=0;$("#tw"+id).length;)id++,counter++;if(!(counter<10))return void $("#tagEntry").val("Tag Limit Exceeded");$("#tagWords").append("<span id='tw"+id+"' class='tagWord'>"+makeButton(word,"delTagWord("+id+")","Remove this tag.")+"</span> "),$("#tag_charsLeft").empty()}$("#tagEntry").val("")}}function makeTagsCSV(){var e="";return $("#tagWords > .tagWord").each(function(){tmp=(tmp=(tmp=$("#"+this.id).html()).substr(tmp.lastIndexOf('">')+2)).substr(0,tmp.lastIndexOf("<")),e+=tmp+","}),e}function delTagWord(e){$("#tw"+e).remove()}function saveCommand(e){public_=$("#public").is(":checked")?"1":"0",allow_comments=$("#allow_comments").is(":checked")?"1":"0",0<$("#commandTitle").val().length&&0<$("#commandDescription").val().length&&0<$("#commandString").val().length?$.post("mcstacker2.php",{op:"saveCommand",userToken:userToken,commandID:e,commandTitle:$("#commandTitle").val(),commandDescription:$("#commandDescription").val(),commandString:$("#commandString").val(),public_:public_,allow_comments:allow_comments,mcfunctions:mcfunctionsXML(),mc_version:CURRENT_VERSION,tags:makeTagsCSV()},function(e,t){"saveCommandSuccess"==$(e).find("action").text()&&showDetails(commandID=$(e).find("cid").text())}):alertify.alert("Please make sure the Command title, description and the command itself are filled out.")}function editAsNewCommand(e){saveDetailsForm(e,2)}function previewMCFunction(e){$("#detailsPane").append("<div id='mcfunctionPreview' class='ui-widget-content' onMouseOver='this.style.cursor=\"pointer\"'>"+mcfunctions["f"+e].name+"<a href=\"javascript:closeMCFunctionPreview()\" class='redX fRight'>X</a><br><textarea id='mcfunctionPreview-ta'>"+mcfunctions["f"+e].content+"</textarea></div>"),$("#mcfunctionPreview").draggable(),$("#mcfunctionPreview").css({top:mouse.y-500,left:mouse.x}),$("#mcfunctionPreview").show()}function closeMCFunctionPreview(){$("#mcfunctionPreview").remove()}function downloadMCFunction(e){var t=document.createElement("a");t.setAttribute("href","data:text/plain;charset=utf-8,"+encodeURIComponent(mcfunctions["f"+e].content)),t.setAttribute("download",mcfunctions["f"+e].name),t.style.display="none",document.body.appendChild(t),t.click(),document.body.removeChild(t)}function showDetails(a,e){var o=!(null!=e&&!e);-1!=(commandID=a)?(commandID=a,$.post("mcstacker2.php",{op:"getCommandDetails",userToken:userToken,commandID:a},function(e,t){"getCommandDetailsSuccess"==$(e).find("action").text()&&(signedIn?$(e).find("UID").text()==$(e).find("ownerUID").text()?showDetailsReadOnly("detailsPane",e,a,!0,!0,o):showDetailsReadOnly("detailsPane",e,a,!0,!1,o):showDetailsReadOnly("detailsPane",e,a,!1,!1,o))})):makeDetailsForm(commandID,!0)}function showDetailsReadOnly(e,t,a,o,n,s){document.title="MCStacker: "+$(t).find("commandTitle").text(),s&&window.history.pushState({id:a},"MCStacker: "+$(t).find("commandTitle").text(),"#!"+a),mcfunctions=[],$("#"+e).html("<h2 class='command'>"+$(t).find("commandTitle").text()+"</h2><span class='fRight''><img width=18 id='like"+a+"'><span id='heartCount'></span></span><p class='command'>"+markUp($(t).find("commandDescription").text())+"</p><textarea rows=10 cols=95 id='commandString' "+mkTT("The command string.")+">"+$(t).find("commandString").text()+"</textarea><br>"+makeButton("Load into MCStacker form","loadSavedCommand('"+$(t).find("mc_version").text()+"')","Load this command into the MCStacker form")+makeButton("Copy to Clipboard","copySaveCommandToClipboard()","Copies this saved command to the system clipboard")),o&&$("#"+e).append(makeButton("Edit As New Command","editAsNewCommand("+a+")","Copy this command's details as a new command."));var s=$(t).find("mc_version").text(),i=(s!=CURRENT_VERSION&&$("#"+e).append("<br><div id='warning' class='roundedDiv'>This command was created with the "+s+" version of MCStacker. It may not load in properly. Maybe try an alternative <a target=_blank href='https://mcstacker.net/versions.php'>version</a> of MCStacker.</div>"),""),s=($("func",t).each(function(e){var t=$(this).find("filename").text(),a=$(this).find("content").text();mcfunctions["f"+e]={name:t,content:a},i+="<br><span style='display:inline-block;vertical-align:text-top;height:30px;'><a href='javascript:downloadMCFunction("+e+")' title='Download "+t+"'><img src='download.png'></a></span> <span><a href='javascript:previewMCFunction("+e+")' title='Inspect "+t+"''>"+t+"</a></span>"}),0<i.length&&$("#"+e).append("<p class='command'><b>mcfunction files</b>"+i+"</p>"),$(t).find("UID").text()!=$(t).find("ownerUID").text()&&$("#"+e).append("<p class='command'>Created By <a href=\"javascript:searchUsers('"+$(t).find("ownerName").text()+"')\">"+$(t).find("ownerName").text()+"</a></p>"),tagHTML="","1"==$(t).find("admin").text()&&(n=!0),ce=n?1:0,$("word",t).each(function(e){tagHTML+=makeButton($(this).text(),"searchTag('"+$(this).text()+"')","Search commands with this tag.")}),0<tagHTML.length&&$("#"+e).append("<p class='command'>Tags: "+tagHTML+"</p>"),$("#"+e).append("<p class='command'>"+makeShareLink(a)+"</p>"),"");1==$(t).find("commentCount").text()?s+="1 <a href='javascript:getComments("+a+","+enableCommentOptions(o,$(t).find("allow_comments").text(),n)+","+ce+")'> Comment</a>":1<$(t).find("commentCount").text()&&(0<s.length&&(s+=", "),s+=$(t).find("commentCount").text()+" <a href='javascript:getComments("+a+","+enableCommentOptions(o,$(t).find("allow_comments").text(),n)+","+ce+")'>Comments</a>"),0<s.length&&$("#"+e).append("<p class='command'>"+s+"</p>"),1==$(t).find("youLoved").text()?$("#like"+a).attr("src","heartTick.png"):$("#like"+a).attr("src","heartOn.png"),0<$(t).find("hearts").text()&&$("#heartCount").html($(t).find("hearts").text()),o&&(s="Like this command to save it to your 'Likes' list. Unlike it remove it from your 'Likes' list.",0==$(t).find("youLike").text()?$("#"+e).append(makeButton("Add To Favorites","likeCommand("+a+",1,"+ce+")",s)):$("#"+e).append(makeButton("Remove From Favorites","likeCommand("+a+",0,"+ce+")",s)),$("#like"+a).bind("click",function(){"heartTick.png"==$("#like"+a).attr("src")?(rankCommand(a,0),$("#like"+a).attr("src","heartOn.png")):(rankCommand(a,1),$("#like"+a).attr("src","heartTick.png"))})),n&&$("#"+e).append(makeButton("Edit","saveDetailsForm("+a+",1)","Edit details and settings for this command.")+makeButton("Delete","deleteCommand("+a+")","Delete this command and all the related information associated with it. This can't be undone.")),(1==$(t).find("allow_comments").text()||0<$(t).find("commentCount").text()||n)&&($("#"+e).append(makeButton("Comments","getComments("+a+","+enableCommentOptions(o,$(t).find("allow_comments").text(),n)+","+ce+")","Read and write comments about this command.")+"<div id='comments'></div><div id='commentControls'></div>"),$("#comments").hide(""))}function enableCommentOptions(e,t,a){return a||e&&1==t?1:0}function getComments(a,o,n){$.post("mcstacker2.php",{op:"getComments",userToken:userToken,commandID:a},function(e,t){$("#comments").html(""),$("#comments").show(""),$("comment",e).each(function(e){commentID=$(this).find("commentID").text(),name="<a href=\"javascript:searchUsers('"+$(this).find("username").text()+"')\">"+$(this).find("username").text()+"</a>",commentText=markUp($(this).find("commentText").text()),time=convertTime($(this).find("time").text()),admin="1"==$(this).find("canDelete").text()?'<br><a href="javascript:deleteComment('+a+","+commentID+')"'+mkTT("Delete this comment.")+"><img src='trash.png'></a>":"",$("#comments").append("<div id='comment"+commentID+"' class='commentLine'><span class='commentDetails'>"+name+"<br>"+time+admin+"</span><span class='commentText'>"+commentText+"</span></div>")}),$("#commentControls").html(makeButton("Hide Comments","hideComments()","Hide the comments.")),1==o&&$("#commentControls").append(makeButton("Post Comment","makeCommentBox("+a+")","Post a comment about this command.")),1==n&&$("#commentControls").append(makeButton("Delete all comments","deleteAllComments("+a+")","Delete all comments associated with this command. This can't be undone.")),$("#commentControls").show()})}function deleteComment(t,a){alertify.confirm("Are you sure you want to delete this comment? This action can not be undone.",function(e){e&&$.post("mcstacker2.php",{op:"deleteComment",userToken:userToken,commandID:t,commentID:a},function(e,t){$("#comment"+a).remove(),alertify.log("Comment Removed")})})}function deleteAllComments(t){alertify.confirm("Are you sure you want to delete all comments associated with this command? This action can not be undone.",function(e){e&&$.post("mcstacker2.php",{op:"deleteAllComments",userToken:userToken,commandID:t},function(e,t){$("#comments").hide(),$("#comments").html(""),alertify.log("Comments Removed")})})}function makeCommentBox(e){$("#commentPane").remove(),$("#commentControls").append("<div id='commentPane'></div>"),$("#commentControls").show(),$("#commentPane").append("<br><label class='details'>Your Comment:</label>"+makeTextArea("newComment","",2500,"Write a comment for this command.")+"<br><label class='details'></label>"+makeButton("Post","postComment("+e+")","Write a comment for this command."))}function hideComments(){$("#comments").hide(),$("#commentControls").hide()}function postComment(s){$.post("mcstacker2.php",{op:"postComment",userToken:userToken,commandID:s,commentText:$("#newComment").val()},function(e,t){$("comment",e).each(function(e){var t=$(this).find("commentID").text(),a="<a href=\"javascript:searchUsers('"+$(this).find("username").text()+"')\">"+$(this).find("username").text()+"</a>",o=markUp($(this).find("commentText").text()),n=convertTime($(this).find("time").text());$("#comments").append("<div id='comment"+t+"' class='commentLine'><span class='commentDetails'>"+a+"<br>"+n+'<br><a href="javascript:deleteComment('+s+","+t+')"'+mkTT("Delete this comment.")+"><img src='trash.png'></a></span><span class='commentText'>"+o+"</span></div>"),$("#commentPane").remove(),$("#comments").show(),$("#comments").animate({scrollTop:$("#comments")[0].scrollHeight-$("#comments").height()},1e3,function(){})})})}function convertTime(e){var e=parse_date(e),t=new Date,a=-1*t.getTimezoneOffset(),e=new Date(e.getTime()+60*a*1e3),a=e.getDate(),o=e.getMonth(),n=e.getFullYear(),i=e.getHours(),l=e.getMinutes();return 31536e6<t-e?monthNames[o]+" "+n:864e5<t-e?monthNames[o]+" "+a:(i<12?(s="am",0==i&&(i=12)):(12<i&&(i-=12),s="pm"),i+":"+(l=l<10?"0"+l:l)+" "+s)}function parse_date(e){var t=new Date,e=String(e).split(/[- :TZ]/);return t.setFullYear(e[0]),t.setMonth(e[1]-1),t.setDate(e[2]),t.setHours(e[3]),t.setMinutes(e[4]),t.setSeconds(e[5]),t.setMilliseconds(0),t}function makeShareLink(e,t){t=t||"";return"URL:<a href='"+(url=-1!=document.URL.indexOf("#")?(baseURL=document.URL.substr(0,document.URL.indexOf("#")))+t+"#!"+e:document.URL+t+"#!"+e)+"'>"+url+"</a>"}function likeCommand(a,e,o){$.post("mcstacker2.php",{op:"like",userToken:userToken,commandID:a,like:e},function(e,t){"getCommandDetailsSuccess"==$(e).find("action").text()&&showDetailsReadOnly("detailsPane",e,a,!0,1==o,!1)})}function rankCommand(e,t){$.post("mcstacker2.php",{op:"vote",userToken:userToken,commandID:e,vote:t},function(e,t){$("#heartCount").html($(e).find("votes").text())})}function searchDerivatives(e){showSearch(),$("#commandTypeSearch").val("Any"),$("#searchWhat").val(5),$("#searchString").val(e),doSearch("title","a",0)}function deleteCommand(t){alertify.confirm("You are about to permanently delete this command and it's associated content. Click OK to permanently delete this command.",function(e){e&&$.post("mcstacker2.php",{op:"deleteCommand",userToken:userToken,commandID:t,sortField:sortField,sortOrder:sortOrder,rowIndex:gRowIndex},function(e,t){showCommands(e,gRowIndex)})})}function replaceAll(e,t,a){return a.replace(new RegExp(e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"),"g"),t)}function markUp(e){return e=replaceAll("[u]","<u>",e),e=replaceAll("[b]","<b>",e),e=replaceAll("[i]","<i>",e),e=replaceAll("[/u]","</u>",e),e=replaceAll("[/b]","</b>",e),e=replaceAll("[/i]","</i>",e),e=replaceAll("[link]","<a target='_blank' href='",e),e=replaceAll("[/link]","</a>",e),e=replaceAll("[title]","'>",e),e=replaceAll("[/title]","",e),e=replaceAll("\n","<br>",e)}function saveDetailsForm(o,n){-1!=(commandID=o)?$.post("mcstacker2.php",{op:"getCommandDetails",userToken:userToken,commandID:o},function(e,t){var a;1==n?(a=$("#commandString").val(),makeDetailsForm(e,o),$("#commandString").val(a)):2==n?makeDetailsForm(e,-1,$("#commandString").val()):makeDetailsForm(e,o)}):signedIn?makeDetailsForm("",-1,$("#commandOutput-ta").val()):(displayLogin(eeSignInRequired),alertify.error(eeSignInRequired))}function makeLootTableGenerator(e){$("#"+e).html("<div id='lootTableContainer' class='roundedDiv'></div>"),createComponent("lootTableContainer","ltType",{label:"Loot Table Type",type:"makeSelect",values:["unset","empty","archaeology","advancement_entity","advancement_location","advancement_reward","barter","block","chest","command","entity","equipment","fishing","generic","gift","selector","shearing","vault"],cssClass:"fLabel100",tip:"lt.type"},0),$("#lootTableContainer").append("<br><span id='addPool' class='showHide'>Add Pool</span><div id='lootTablePane'></div>"),$("#hideLootTable").bind("click",function(){$("#lootTableContainer").hide()}),$("#addPool").bind("click",function(){addPool(!1)})}function generateLootTable(){let r={};"unset"!=$("#ltType0").val()&&(r.type=$("#ltType0").val()),r.pools=[];var c={};$("#lootTablePane > .pool").each(function(e){r.pools.push({});let i=r.pools.length-1;var a=this.id,o=["rolls","bonus_rolls"];for(let t=0;t<o.length;t++)if($("#"+a+o[t]+"0").val().length){let e=$("#"+a+o[t]+"0").val();-1!=e.indexOf("-")?(e=e.split("-"),r.pools[i][o[t]]={min:parseInt(e[0]),max:parseInt(e[1])}):r.pools[i][o[t]]=parseInt(e)}else"rolls"==o[t]&&(r.pools[i][o[t]]=1);r.pools[i].entries=[];let l=0;$("#entryPane"+a+" > .entry").each(function(e){var t=this.id,a=parseInt($("#"+t+"Weight0").val())||1,a=(r.pools[i].entries.push({type:"item",weight:a}),c[t]=a,l+=a,r.pools[i].entries.length-1),o=($("#"+t+"Quality0").val().length&&(r.pools[i].entries[a].quality=parseInt($("#"+t+"Quality0").val())),[]);if($("#"+t+"Item0").length)if("-1"!=$("#"+t+"Item0").val()){r.pools[i].entries[a].name="minecraft:"+$("#"+t+"Item0").val(),o.push({function:"set_count",count:lootTableRange(t+"Item0Count")});try{var n=getNBTForLootTableItem(t+"Item0");let e="";0<$("#"+t+"Item0Count").val().length&&(e=",count:"+$("#"+t+"Item0Count").val()),e+=getItemTagNBT(t+"Item0",!0),cachedNBT.setNBT(t+"Item0",e),2<n.length&&(s=new CMDParser("").parseCompoundStringToJSObject(n),o.push({function:"set_components",components:s}))}catch(e){}0!=$("#"+t+"Item0Damage").length&&$("#"+t+"Item0Damage").val().length&&o.push({function:"set_damage",damage:lootTableRangeFloat(t+"Item0Damage","-")});var n=tellrawJson.getJsonForLootTableItemName(t+"Item0CustomName"),n=(0<n.length||null!=n.text?o.push({function:"set_name",name:n}):(0<(s=tellrawJson.getJsonForLootTableItemName(t+"Item0ItemName")).length||null!=s.text)&&(o.push({function:"set_name",name:s}),o[o.length-1].target="item_name"),tellrawJson.getJsonLoreForLootTables(t+"Item0Lore")),s=(0<n.length&&(o.push({function:"set_lore",lore:n}),o[o.length-1].mode="append"),getItemAttributeModifiersForLootTable(t));s.length&&o.push({function:"set_attributes",modifiers:s})}else r.pools[i].entries[a].type="empty";else $("#"+t+"LootTable0").length?(r.pools[i].entries[a].type="loot_table",r.pools[i].entries[a].value=$("#"+t+"LootTable0").val(),o.push({function:"set_count",count:lootTableRange(t+"Count0")})):r.pools[i].entries[a].type="empty";o.length&&(r.pools[i].entries[a].functions=o)}),$("#entryPane"+a+" > .entry").each(function(e){var t=this.id;$("#"+t+"WeightPercent0").html(parseInt(c[t]/l*100)+"%")})});let e=JSON.stringify(r,null,2);return e=replaceAll(': "true"',": true",e),removeUnsetFromJSON(e=(e=(e=replaceAll(': "false"',": false",e)).replace(/\\\\"/g,'"')).replace(/\\\\\\n/g,"n"))}function lootTableRange(t){let a=1;try{if($("#"+t).val().length){let e=$("#"+t).val();a=-1!=e.indexOf("-")?(e=e.split("-"),{min:parseInt(e[0]),max:parseInt(e[1])}):parseInt(e)}}catch(e){}return a}function lootTableRangeFloat(t,a){let o=1;try{if($("#"+t).val().length){let e=$("#"+t).val();o=-1!=e.indexOf(a)?(e=e.split(a),{min:parseFloat(e[0]),max:parseFloat(e[1])}):parseFloat(e)}}catch(e){}return o}function lootTableRangeRaw(t){let a=1;try{if($("#"+t).val().length){let e=$("#"+t).val();a=-1!=e.indexOf("-")?{min:(e=e.split("-"))[0],max:e[1]}:e}}catch(e){}return a}function getItemDisplayForLootTableNBT(e){var t="";return isLeatherArmor($("#"+e).val())&&(t+=getColorInteger(e+"Color","color")),0<t.length?",display:{"+t.substr(1)+"}":t}function importLootTable(t){$("#disableOutput").prop("checked",!0),t.hasOwnProperty("type")&&$("#ltType0").val(t.type);for(let e=0;e<t.pools.length;e++){var a=addPool(!0),o=t.pools[e];"rolls"in o&&(o.rolls.hasOwnProperty("min")&&o.rolls.hasOwnProperty("max")?$("#"+a+"rolls0").val(o.rolls.min+"-"+o.rolls.max):$("#"+a+"rolls0").val(o.rolls)),"bonus_rolls"in o&&(o.bonus_rolls.hasOwnProperty("min")&&o.bonus_rolls.hasOwnProperty("max")?$("#"+a+"bonus_rolls0").val(o.bonus_rolls.min+"-"+o.bonus_rolls.max):$("#"+a+"bonus_rolls0").val(o.bonus_rolls));for(let e=0;e<o.entries.length;e++){var n=a+"_entry_"+e,s=o.entries[e];if(s.type=extractMinecraftID(s.type),("item"==s.type?addItem:"loot_table"==s.type?addLootTable:addNoItem)(a,!0),s.hasOwnProperty("weight")&&$("#"+n+"Weight0").val(s.weight),s.hasOwnProperty("quality")&&$("#"+n+"Quality0").val(s.quality),"item"==s.type){if(s.hasOwnProperty("name")&&($("#"+n+"Item0").val(extractMinecraftID(s.name)),$("#"+n+"Item0").trigger("change")),s.hasOwnProperty("functions"))for(let e=0;e<s.functions.length;e++){var i=s.functions[e];if("set_count"==i.function)i.count.hasOwnProperty("min")&&i.count.hasOwnProperty("max")?$("#"+n+"Item0Count").val(i.count.min+"-"+i.count.max):$("#"+n+"Item0Count").val(i.count);else if("set_damage"==i.function)i.damage.hasOwnProperty("min")&&i.damage.hasOwnProperty("max")?$("#"+n+"Item0Damage").val(i.damage.min+"-"+i.damage.max):$("#"+n+"Item0Damage").val(i.damage);else if("set_name"==i.function)null!=i.target&&"item_name"==i.target?(importTellrawJSON(n+"Item0ItemName",i.name),showHide(n+"Item0ItemName",n+"Item0ItemNameSH")):(importTellrawJSON(n+"Item0CustomName",i.name),showHide(n+"Item0CustomName",n+"Item0CustomNameSH"));else if("set_lore"==i.function)loadLoreFromNBT(n+"Item0Lore",i.lore,!0),showHide(n+"Item0Lore",n+"Item0LoreSH");else if("set_components"==i.function){var l=i.components;for(const m in l){var r={val:convertToMCStackerObject(l[m])};loadComponentNBTIntoSlot(extractMinecraftID(m),$("#"+n+"Item0").val(),n+"Item0",r)}}else if("set_nbt"==i.function)new CMDParser("").parseLootTableNBT(n+"Item0",extractMinecraftID(s.name),i.tag);else if("set_attributes"==i.function){i.modifiers.length&&showHide(n+"LTAttributes",n+"LTAttributesSH");for(let e=0;e<i.modifiers.length;e++){var c=i.modifiers[e],p=addAMLootTable(n+"LTAttributes",!0);switch($("#"+n+"LTAttributes_"+p+"_mods").val(c.attribute.substr(c.attribute.indexOf(".")+1)),c.amount.hasOwnProperty("min")&&c.amount.hasOwnProperty("max")?$("#"+n+"LTAttributes_"+p+"_amount").val(c.amount.min+".."+c.amount.max):$("#"+n+"LTAttributes_"+p+"_amount").val(c.amount),c.operation){case"add_value":case"add_multiplied_base":case"add_multiplied_total":$("#"+n+"LTAttributes_"+p+"_operation").val(c.operation);break;case"addition":$("#"+n+"LTAttributes_"+p+"_operation").val("add_value");break;case"multiply_base":$("#"+n+"LTAttributes_"+p+"_operation").val("add_multiplied_base");break;case"multiply_total":$("#"+n+"LTAttributes_"+p+"_operation").val("add_multiplied_total")}if(c.hasOwnProperty("slot"))if(Array.isArray(c.slot))for(let e=0;e<c.slot.length;e++)$("#"+n+"LTAttributes_"+p+"_"+c.slot[e]).prop("checked",!0);else $("#"+n+"LTAttributes_"+p+"_"+c.slot).prop("checked",!0)}}}}else if("loot_table"==s.type&&(s.hasOwnProperty("value")?$("#"+n+"LootTable0").val(s.value):s.hasOwnProperty("name")&&$("#"+n+"LootTable0").val(s.name),s.hasOwnProperty("functions")))for(let e=0;e<s.functions.length;e++){var d=s.functions[e];"set_count"==d.function&&(d.count.hasOwnProperty("min")&&d.count.hasOwnProperty("max")?$("#"+n+"Count0").val(d.count.min+"-"+d.count.max):$("#"+n+"Count0").val(d.count))}}}$("#disableOutput").prop("checked",!1),generateCommand()}function convertToMCStackerObject(e){var t,a={};if("boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof String)return e;if(Array.isArray(e))return e.map(convertToMCStackerObject);for(t in e)Array.isArray(e[t])?0<e[t].length&&"object"==typeof e[t][0]?a[t]={type:"arrayOfCompounds",val:e[t].map(convertToMCStackerObject)}:a[t]={type:"arrayOfNumbers",val:e[t]}:"object"==typeof e[t]?a[t]={type:"compound",val:convertToMCStackerObject(e[t])}:"boolean"==typeof e[t]?a[t]={type:"raw",val:e[t]?"1b":"0b"}:a[t]={type:"raw",val:e[t]};return a}function getNBTForLootTableItem(e,t=!0){var a="";return 0!=$("#"+e+"max_stack_size").length&&$("#"+e+"max_stack_size").val().length&&(a+=""+contextSyntax(t,"max_stack_size")+$("#"+e+"max_stack_size").val()),0!=$("#"+e+"max_damage").length&&$("#"+e+"max_damage").val().length&&(a+=""+contextSyntax(t,"max_damage")+$("#"+e+"max_damage").val()),a=(a+=getCanPlaceOnOrDestroy(e,"CanPlaceOn","can_place_on",t))+getCanPlaceOnOrDestroy(e,"CanDestroy","can_break",t),0!=$("#"+e+"Unbreakable").length&&1==$("#"+e+"Unbreakable").val()&&(a+=contextSyntax(t,"unbreakable")+"{",-1!=$(`#${e}unbreak_show_in_tooltip`).val()&&(a+="show_in_tooltip:"+(1==$(`#${e}unbreak_show_in_tooltip`).val())),a+="}"),1==$("#"+e+"hide_tooltip").val()&&(a+=contextSyntax(t,"hide_tooltip")+"{}"),1==$("#"+e+"fire_resistant").val()&&(a+=contextSyntax(t,"fire_resistant")+"{}"),-1!=$("#"+e+"rarity").val()&&(a+=`${contextSyntax(t,"rarity")}"${$("#"+e+"rarity").val()}"`),$("#"+e+"RepairCost").val().length&&(a+=""+contextSyntax(t,"repair_cost")+$("#"+e+"RepairCost").val()),0!=$("#"+e+"CustomModelData").length&&$("#"+e+"CustomModelData").val().length&&(a+=""+contextSyntax(t,"custom_model_data")+$("#"+e+"CustomModelData").val()),0!=$("#"+e+"CustomTags").length&&$("#"+e+"CustomTags").val().length&&(a+=`${contextSyntax(t,"custom_data")}{${$("#"+e+"CustomTags").val()}}`),a=(a=(a=(a=(a=(a=(a=(a+=getEnchantments(e,"Enchantments",t))+getItemAttributeModifiers(e,t))+getItemBlockStates(e,t))+getFoodItem(e+"Food",t))+getToolItem(e+"Tool",t))+getJukePlayableItem(e+"JukePlayable",t))+getItemSpecificNBT(e,t)).length?"{"+a.substr(1)+"}":a}function addPool(e){let t=0;for(;$("#pool"+t).length;)t++;let a="pool"+t;var o="<div id='"+a+"' class='pool roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+a+"')\">&#9747;</a></div>";return e?$("#lootTablePane").append(o):$("#lootTablePane").prepend(o),createComponent(a,a+"rolls",{label:"Rolls",type:"text",cssClass:"fLabel100",tip:"lt.rolls"},0),createComponent(a,a+"bonus_rolls",{label:"Bonus Rolls",type:"text",cssClass:"fLabel100",tip:"lt.bonus_rolls"},0),$("#"+a).append("<br><br><span id='addItem"+a+"' class='showHide'>Add Item</span><span id='addNoItem"+a+"' class='showHide'>Add No Item</span><span id='addLootTable"+a+"' class='showHide'>Add Loot Table</span><div id='entryPane"+a+"' class='lootEntries'></div>"),$("#addItem"+a).bind("click",function(){addItem(a,!1)}),$("#addNoItem"+a).bind("click",function(){addNoItem(a,!1)}),$("#addLootTable"+a).bind("click",function(){addLootTable(a,!1)}),a}function setUpEntry(e,t){let a=0;for(;$("#"+e+"_entry_"+a).length;)a++;var o=e+"_entry_"+a,n="<div id='"+o+"' class='entry roundedDiv'><a class='redX' href=\"javascript:removeContainer('"+o+"')\">&#9747;</a></div>";return t?$("#entryPane"+e).append(n):$("#entryPane"+e).prepend(n),createComponent(o,o+"Weight",{label:"Weight",type:"text",cssClass:"fLabel100",tip:"lt.weight"},0),$("<span id='"+o+"WeightPercent0'></span>").insertAfter("#"+o+"Weight0"),createComponent(o,o+"Quality",{label:"Quality",type:"text",cssClass:"fLabel100",tip:"lt.quality"},0),o}function addNoItem(e,t){setUpEntry(e,t);generateCommand()}function addLootTable(e,t){e=setUpEntry(e,t);createComponent(e,e+"Count",{label:"Count",type:"text",cssClass:"fLabel100",tip:"lt.count"},0),createComponent(e,e+"LootTable",{label:"Loot Table",type:"text",cssClass:"fLabel100",fwClass:"verybigTF",tip:"lt.loottable"},0),generateCommand()}function addItem(e,t){e=setUpEntry(e,t);createComponent(e,e+"Item",{label:"Item",type:"itemselect",cssClass:"fLabel100",tip:"lt.item",forceConstruct:!0},0),$("#"+e).append("<br><span><span class='fLabel100'>set_attributes</span>"+mkShowHide(e+"LTAttributes",e+"LTAttributesSH")+"<div id='"+e+"LTAttributes' class='AMControl roundedDiv'></div>"+makeTip("lt.set_attributes")+"</span>"),makeItemModifierLootTables(e+"LTAttributes"),showHide(e+"LTAttributes",e+"LTAttributesSH"),generateCommand()}function updateLootTable(){}function updateLootTableBindings(){$(".updateLootTable").bind("click keyup",function(){})}function makeItemModifierLootTables(e){let t="";for(let e=1;e<amSlots.length;e++)t+="<th style='width:70px;text-align:center;'>"+amSlots[e]+"</th>";$("#"+e).append(makeButton("Add Attribute Modifier","addAMLootTable('"+e+"',false)","Click to add and Attribute Modifier")+" <table class='aTable' id='"+e+"table'><tr id='"+e+"_head'><th>Attribute</th><th>Amount</th><th>Operation</th>"+t+"</tr></table><br><span id='"+e+"_errors'></span>")}function addAMLootTable(t,e){for(var a=0;$("#"+t+"_"+a+"_rowNum").length;)a++;for(var o=t+"_"+a,n="<tr id='"+o+"_rowNum' class='amRow'><td><select id='"+o+"_mods'>",s=0;s<attributeModifiers116.length;s++)n+="<option value='"+attributeModifiers116[s]+"'>"+attributeModifiers116[s]+"</option>";n+="</select></td><td><input type='text' class='medTF'  id='"+o+"_amount' value='1'></td><td>"+makeSelect(o+"_operation",["add_value","add_multiplied_base","add_multiplied_total"],!1)+"</td>";for(let e=1;e<amSlots.length;e++)n+="<td style='text-align:center;'><input type='checkbox' id='"+o+"_"+amSlots[e]+"'></td>";n+="<td><a href=\"javascript:removeAM('"+o+"_rowNum','"+t+"')\" class='redX'>&#9747;</a></td></tr>",$("#"+t+"table > tbody:last-child").append(n);for(let e=1;e<amSlots.length;e++)$("#"+o+"_"+amSlots[e]).bind("change",function(){checkAMconflictsLootTable(t)});if($("#"+o+"_mods").bind("change",function(){checkAMconflictsLootTable(t)}),$("#"+o+"_amount").bind("keyup",function(){checkAMconflictsLootTable(t)}),$("#"+o+"_operation").bind("change",function(){checkAMconflictsLootTable(t)}),checkAMconflictsLootTable(t),e)return a}function checkAMconflictsLootTable(e){generateCommand()}function getItemAttributeModifiersForLootTable(e){let n=[];return $("#"+e+"LTAttributestable .amRow").each(function(){var e={},t=this.id.substr(0,this.id.lastIndexOf("_"));if($("#"+t+"_amount").val().length){var a=$("#"+t+"_mods").val(),a=getAttributeType(a)+"."+a,o=(e.attribute=a,e.id=a,e.operation=$("#"+t+"_operation").val(),e.amount=lootTableRangeFloat(t+"_amount",".."),[]);for(let e=1;e<amSlots.length;e++)$("#"+t+"_"+amSlots[e]).prop("checked")&&o.push(amSlots[e]);1==o.length?e.slot=o[0]:1<o.length&&(e.slot=o),n.push(e)}}),n}String.prototype.htmlEscape=function(){return $("<div/>").text(this.toString()).html()},window.onpopstate=function(e){try{var t=e.state.id;showDetails(t,!1)}catch(e){}};var MD5=function(e){function l(e,t){return e<<t|e>>>32-t}function r(e,t){var a=2147483648&e,o=2147483648&t,n=1073741824&e,s=1073741824&t,e=(1073741823&e)+(1073741823&t);return n&s?2147483648^e^a^o:n|s?1073741824&e?3221225472^e^a^o:1073741824^e^a^o:e^a^o}function t(e,t,a,o,n,s,i){return e=r(e,r(r(t&a|~t&o,n),i)),r(l(e,s),t)}function a(e,t,a,o,n,s,i){return e=r(e,r(r(t&o|a&~o,n),i)),r(l(e,s),t)}function o(e,t,a,o,n,s,i){return e=r(e,r(r(t^a^o,n),i)),r(l(e,s),t)}function n(e,t,a,o,n,s,i){return e=r(e,r(r(a^(t|~o),n),i)),r(l(e,s),t)}function s(e){for(var t="",a="",o=0;o<=3;o++)t+=(a="0"+(e>>>8*o&255).toString(16)).substr(a.length-2,2);return t}Array();for(var i,c,p,d,m=function(e){for(var t,a=e.length,o=16*(1+((o=a+8)-o%64)/64),n=Array(o-1),s=0,i=0;i<a;)s=i%4*8,n[t=(i-i%4)/4]=n[t]|e.charCodeAt(i)<<s,i++;return n[t=(i-i%4)/4]=n[t]|128<<(s=i%4*8),n[o-2]=a<<3,n[o-1]=a>>>29,n}(e=function(e){e=e.replace(/\r\n/g,"\n");for(var t="",a=0;a<e.length;a++){var o=e.charCodeAt(a);o<128?t+=String.fromCharCode(o):t=127<o&&o<2048?(t+=String.fromCharCode(o>>6|192))+String.fromCharCode(63&o|128):(t=(t+=String.fromCharCode(o>>12|224))+String.fromCharCode(o>>6&63|128))+String.fromCharCode(63&o|128)}return t}(e)),g=1732584193,h=4023233417,_=2562383102,u=271733878,b=0;b<m.length;b+=16)g=t(i=g,c=h,p=_,d=u,m[b+0],7,3614090360),u=t(u,g,h,_,m[b+1],12,3905402710),_=t(_,u,g,h,m[b+2],17,606105819),h=t(h,_,u,g,m[b+3],22,3250441966),g=t(g,h,_,u,m[b+4],7,4118548399),u=t(u,g,h,_,m[b+5],12,1200080426),_=t(_,u,g,h,m[b+6],17,2821735955),h=t(h,_,u,g,m[b+7],22,4249261313),g=t(g,h,_,u,m[b+8],7,1770035416),u=t(u,g,h,_,m[b+9],12,2336552879),_=t(_,u,g,h,m[b+10],17,4294925233),h=t(h,_,u,g,m[b+11],22,2304563134),g=t(g,h,_,u,m[b+12],7,1804603682),u=t(u,g,h,_,m[b+13],12,4254626195),_=t(_,u,g,h,m[b+14],17,2792965006),g=a(g,h=t(h,_,u,g,m[b+15],22,1236535329),_,u,m[b+1],5,4129170786),u=a(u,g,h,_,m[b+6],9,3225465664),_=a(_,u,g,h,m[b+11],14,643717713),h=a(h,_,u,g,m[b+0],20,3921069994),g=a(g,h,_,u,m[b+5],5,3593408605),u=a(u,g,h,_,m[b+10],9,38016083),_=a(_,u,g,h,m[b+15],14,3634488961),h=a(h,_,u,g,m[b+4],20,3889429448),g=a(g,h,_,u,m[b+9],5,568446438),u=a(u,g,h,_,m[b+14],9,3275163606),_=a(_,u,g,h,m[b+3],14,4107603335),h=a(h,_,u,g,m[b+8],20,1163531501),g=a(g,h,_,u,m[b+13],5,2850285829),u=a(u,g,h,_,m[b+2],9,4243563512),_=a(_,u,g,h,m[b+7],14,1735328473),g=o(g,h=a(h,_,u,g,m[b+12],20,2368359562),_,u,m[b+5],4,4294588738),u=o(u,g,h,_,m[b+8],11,2272392833),_=o(_,u,g,h,m[b+11],16,1839030562),h=o(h,_,u,g,m[b+14],23,4259657740),g=o(g,h,_,u,m[b+1],4,2763975236),u=o(u,g,h,_,m[b+4],11,1272893353),_=o(_,u,g,h,m[b+7],16,4139469664),h=o(h,_,u,g,m[b+10],23,3200236656),g=o(g,h,_,u,m[b+13],4,681279174),u=o(u,g,h,_,m[b+0],11,3936430074),_=o(_,u,g,h,m[b+3],16,3572445317),h=o(h,_,u,g,m[b+6],23,76029189),g=o(g,h,_,u,m[b+9],4,3654602809),u=o(u,g,h,_,m[b+12],11,3873151461),_=o(_,u,g,h,m[b+15],16,530742520),g=n(g,h=o(h,_,u,g,m[b+2],23,3299628645),_,u,m[b+0],6,4096336452),u=n(u,g,h,_,m[b+7],10,1126891415),_=n(_,u,g,h,m[b+14],15,2878612391),h=n(h,_,u,g,m[b+5],21,4237533241),g=n(g,h,_,u,m[b+12],6,1700485571),u=n(u,g,h,_,m[b+3],10,2399980690),_=n(_,u,g,h,m[b+10],15,4293915773),h=n(h,_,u,g,m[b+1],21,2240044497),g=n(g,h,_,u,m[b+8],6,1873313359),u=n(u,g,h,_,m[b+15],10,4264355552),_=n(_,u,g,h,m[b+6],15,2734768916),h=n(h,_,u,g,m[b+13],21,1309151649),g=n(g,h,_,u,m[b+4],6,4149444226),u=n(u,g,h,_,m[b+11],10,3174756917),_=n(_,u,g,h,m[b+2],15,718787259),h=n(h,_,u,g,m[b+9],21,3951481745),g=r(g,i),h=r(h,c),_=r(_,p),u=r(u,d);return(s(g)+s(h)+s(_)+s(u)).toLowerCase()};